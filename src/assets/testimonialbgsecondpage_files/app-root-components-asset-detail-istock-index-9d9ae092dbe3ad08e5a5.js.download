"use strict";(self.webpackChunkasset_detail=self.webpackChunkasset_detail||[]).push([[2872],{37091:function(e,t,a){a.r(t),a.d(t,{MOSAIC_GRID_TYPES:function(){return U},default:function(){return B}});var s=a(70277),i=a.n(s),n=a(24253),r=(a(54824),a(23252)),o=a(9975),l=a(32485),c=a.n(l),d="PuyvOPr2BzkrGPUNVWpH",_="j9jfWz7OteO3Iz2f3OZZ",u="Dllyt68qL_MrzLazUZs_",p="BmKOR4U2E1Lxf96KZL85",m="UAd5bLpE040Jp85G38YJ",h="nMFQhlgnc9XtAKKnrHaG",g="QLe6nCAqbhRDXWSoI7pF",C=a(71087);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},E.apply(null,arguments)}var w=({styles:e={},...t})=>i().createElement("svg",E({width:"23",height:"17",viewBox:"0 0 23 7",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("g",{fill:"none",fillRule:"evenodd"},i().createElement("path",{d:"M-1-1h24v9H-1z"}),i().createElement("path",{d:"M9.813 0v4.4h1.3v1.2h-1.3v.9h-2.6v-1h-6.5c-1.1 0-.6-1.1-.6-1.1s5.9-4.3 6.1-4.4h3.6zm-2.6 1.5l-3.8 2.6h3.8V1.5zm4.3-1.5v6.5h2.7V3.8l4.3 2.7h3.6l-5.7-3.5 5.3-3h-3.4l-4.1 2.4V0h-2.7z",fill:"#FFF",fillRule:"nonzero"})));function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},v.apply(null,arguments)}var S=({styles:e={},...t})=>i().createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:"17.103",height:"11.732",viewBox:"0 0 17.103 11.732"},t),i().createElement("path",{className:e.st0||"st0",d:"M17.103.816l-5.371 3.1V0H0v11.732h11.732V7.815l5.37 3.1z"})),N=a(16006),I="yDt6YLsSS0dqFByfmdsN",T="gcO2GOLxYZJdo_FnFYWn",f="vnIe56HnfVYeyOJLhXbI",A=a(74848);const b=({src:e,poster:t,filmDefinition:a,alt:i})=>{const n=(0,s.useRef)(),[r,o]=(0,N.A)(n);return(0,A.jsxs)("div",{ref:n,className:I,"data-testid":"mosaic-grid-video-asset",children:[(0,A.jsx)("img",{src:t,alt:i,loading:"lazy"}),r&&(0,A.jsx)("video",{loop:!0,muted:!0,preload:"none",ref:o,src:e,poster:t,onFocus:e=>e.target.play(),onBlur:e=>e.target.pause()}),"4K"===a?(0,A.jsx)(w,{"aria-label":"video4k",className:f}):(0,A.jsx)(S,{"aria-label":"video",className:T})]})};b.defaultProps={src:null,poster:null,filmDefinition:null};var x=b,O="DcdVECpRwHut2mLnDHb1",D="_W9K4IqmnuZRk_cy8Dk6";const y=({asset:e,href:t,trackOnClick:a,overlay:s=null})=>{const i=(()=>{const t=e.maxWidth?e.maxWidth:0,a=e.maxHeight?e.maxHeight:0,s="film"===e.assetType?640:612,i=Math.min(s/t,s/a);return{width:Math.floor(t*i),height:Math.floor(a*i)}})(),n="image"===e.assetType?O:D,r=(0,C.A)();return(0,A.jsxs)("a",{"data-testid":"mosaic-grid-asset",className:n,href:t,onClick:()=>a(r),style:{"--width":i.width,"--height":i.height},"data-max-width":i.width,"data-max-height":i.height,children:[s,"image"===e.assetType&&(0,A.jsx)("img",{src:e.thumb612Url,alt:e.title}),"film"===e.assetType&&(0,A.jsx)(x,{src:e.filmThumbUrl,poster:e.thumbUrl,filmDefinition:e.filmDefinition,alt:e.title})]},e.assetId)};y.defaultProps={overlay:null};var j=(0,r.A)(y,"thumbnail"),P="dy14Avp0hRBvPyqjQ53W",R="tq5KW65mECljmFid6S_q",k="Rx7VzIfm0IMuXBG4x7eh",L="ftxX7VHWypGMQRZnu6t5";var F=({count:e,text:t})=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:P,"data-testid":"mosaic-grid-overlay"}),(0,A.jsxs)("div",{className:R,children:[(0,A.jsxs)("div",{className:k,children:["+",e]}),(0,A.jsx)("div",{className:L,children:t})]})]});const U={SINGLE_ROW:"single-row",MULTI_ROW:"multi-row"},M=({data:e,isImage:t,header:a,linkText:s,viewAllUrl:i,overlayText:r,tracking:l,inGridCount:C,gridType:E=U.MULTI_ROW,searchScope:w})=>{const v=(0,n.F)(),S=e.totalNumberOfResults-C+1,N=e=>w?v.prefixedPath((e=>o.A.appendQueryParamsToString(e,{searchscope:w}))(e)):v.prefixedPath(e);return(0,A.jsxs)("section",{className:c()(d,{[_]:t,[p]:!t}),"data-testid":"mosaic-grid-assets",children:[(0,A.jsxs)("div",{className:u,children:[(0,A.jsx)("h2",{"data-testid":"mosaic-grid-header",className:m,children:a}),E===U.SINGLE_ROW?null:(0,A.jsxs)("a",{href:i,onClick:l.trackViewAll,children:[s,">"]})]}),(0,A.jsx)("div",{className:E===U.SINGLE_ROW?g:h,children:e.assets.map(((t,a)=>{const s=(t=>{const a=e.assets.length-1,s=e.totalNumberOfResults>C;return t===a&&s})(a);return(0,A.jsx)(j,{asset:t,href:s?i:N(t.landingUrl),trackOnClick:e=>s?l.trackViewAllOverlay():l.trackAssetClick(t,a+1,e),overlay:s?(0,A.jsx)(F,{count:S,text:r}):null},t.id)}))})]})};M.defaultProps={data:null,isImage:!1,gridType:U.MULTI_ROW,searchScope:null};var B=(0,r.A)(M,"mosaic_grid")},2544:function(e,t,a){a.r(t),a.d(t,{default:function(){return Fu}});var s=a(70277),i=a.n(s),n=a(31876),r=a(25759),o=a(2896),l=a(91829),c=a(1265),d=a(65054),_=a(18628);var u=Object.freeze({active:"Active",cancelled:"Cancelled",expired:"Expired",paused:"Paused",pending:"Pending",suspended:"Suspended"});var p=function(e){if(e.subscription){switch(e.subscription.status){case u.paused:case u.suspended:case u.expired:return!0}return!1}};var m=Object.freeze({PICK_PAYMENT_OPTION:"PICK_PAYMENT_OPTION",REDOWNLOAD_FOR_FREE:"REDOWNLOAD_FOR_FREE",PICK_PRICING_CLARITY_PAYMENT_OPTION:"PICK_PRICING_CLARITY_PAYMENT_OPTION",FREE_ADMIN_DOWNLOAD:"FREE_ADMIN_DOWNLOAD",INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP:"INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP",PURCHASE_AND_SELECT_LICENCES_STEP:"PURCHASE_AND_SELECT_LICENCES_STEP",CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS:"CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS",CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS:"CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS",CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS",CONFIRM_DOWNLOAD_BY_TEAM_CREDITS:"CONFIRM_DOWNLOAD_BY_TEAM_CREDITS",CONFIRM_REDOWNLOAD_FOR_FREE:"CONFIRM_REDOWNLOAD_FOR_FREE",MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION",TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS:"TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS",COMPLETE_DOWNLOAD:"COMPLETE_DOWNLOAD",COMPLETE_REDOWNLOAD:"COMPLETE_REDOWNLOAD",CHOOSE_ACCOUNT:"CHOOSE_ACCOUNT",TEAM_ACCOUNT_OUT_OF_CREDITS:"TEAM_ACCOUNT_OUT_OF_CREDITS",SELECT_ACCOUNT_TYPE:"SELECT_ACCOUNT_TYPE"});const h={[m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES]:()=>"insufficient_credits",[m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION]:()=>"insufficient_credits",[m.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION]:()=>"asset_unavailable_with_plan",[m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS]:()=>"asset_unavailable_with_plan",[m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING]:()=>"insufficient_subscription_downloads",[m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION]:e=>{switch((e=>{if(e.subscription)switch(e.subscription.status){case u.paused:return u.paused;case u.suspended:return u.suspended;case u.expired:return u.expired}})(e)){case u.expired:return"expired_subscription";case u.suspended:return"suspended_subscription";case u.paused:return"paused_subscription";default:return"blocked_subscription"}}},g=Object.keys(h);var C={INITIALIZE:"INITIALIZE",SET_AVAILABLE_CREDITS:"SET_AVAILABLE_CREDITS",SET_AGREEMENTS:"SET_AGREEMENTS",LOAD_SUBSCRIPTION:"LOAD_SUBSCRIPTION",SELECT_AGREEMENT_TYPE:"SELECT_AGREEMENT_TYPE",SET_SELECTED_ACCOUNT:"SET_SELECTED_ACCOUNT",SET_DISPLAY_ERROR:"SET_DISPLAY_ERROR",SET_LICENSES:"SET_LICENSES",SET_TOASTER:"SET_TOASTER",SET_BUY_AND_BURN_DOWNLOAD:"SET_BUY_AND_BURN_DOWNLOAD",CHECK_LICENSE:"CHECK_LICENSE",SELECT_ASSET_SIZE:"SELECT_ASSET_SIZE",SET_CTA_IN_PROGRESS:"SET_CTA_IN_PROGRESS",SET_MINI_PNP_OPEN:"SET_MINI_PNP_OPEN",SELECT_PRICING_CLARITY_OPTION_TOGGLE:"SELECT_PRICING_CLARITY_OPTION_TOGGLE",GO_TO_BEGINNING:"GO_TO_BEGINNING",CANCEL_AND_BACK_TO_BEGINING:"CANCEL_AND_BACK_TO_BEGINING",GO_TO_FREE_ADMIN_DOWNLOAD:"GO_TO_FREE_ADMIN_DOWNLOAD",GO_TO_CONFIRM_DOWNLOAD:"GO_TO_CONFIRM_DOWNLOAD",GO_TO_COMPLETE_DOWNLOAD:"GO_TO_COMPLETE_DOWNLOAD",GO_TO_COMPLETE_REDOWNLOAD:"GO_TO_COMPLETE_REDOWNLOAD",GO_TO_NEXT_STEP:"GO_TO_NEXT_STEP",FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED:"FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED",SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD:"SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD",POST_ASSET_TO_CREATE_DOWNLOAD:"POST_ASSET_TO_CREATE_DOWNLOAD",REDIRECT_TO_URL:"REDIRECT_TO_URL",SET_DOWNLOAD_DATA:"SET_DOWNLOAD_DATA",SELECT_ACCOUNT_STEP:"SELECT_ACCOUNT_STEP",CONFIRM_DOWNLOAD_STEP:"CONFIRM_DOWNLOAD_STEP",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP",SET_SPECTRUM_DOWNLOADED_ASSET_ID:"SET_SPECTRUM_DOWNLOADED_ASSET_ID",SHOW_POST_DOWNLOAD_ONBOARDING:"SHOW_POST_DOWNLOAD_ONBOARDING",HIDE_POST_DOWNLOAD_ONBOARDING:"HIDE_POST_DOWNLOAD_ONBOARDING"};var E=e=>t=>a=>{const s=e.getState(),i=t(a),n=e.getState();switch(a.type){case C.GO_TO_NEXT_STEP:{var r,o;const{warningBox:e,name:t}=(null===(r=n.calc)||void 0===r?void 0:r.step)||{};if(e&&t!==(null===(o=s.calc)||void 0===o||null===(o=o.step)||void 0===o?void 0:o.name)&&g.includes(t)){const e=(e=>h[e.calc.step.name](e))(n),t=(0,d.A)({error_message_selection:"download_error",error_message_name:e,ui_element_location:"buy_card"});(0,_.C)(t)}break}}return i};const w=[c.A,E];"undefined"!=typeof window&&window.reduxLogger&&w.push(window.reduxLogger.createLogger({diff:!0,duration:!0,collapsed:!0,stateTransformer(e){return e.toJS?e.toJS():e}}));const v="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.Zz;var S=(e,t={})=>(0,l.y$)(e,t,v((0,l.Tw)(...w))),N=a(50279),I=a.n(N);const T={Small:"small_file_size",Medium:"medium_file_size",Large:"large_file_size",Xlarge:"xlarge_file_size",Xxlarge:"xxlarge_file_size",eps:"EPS",epsUnavailable:"EPS"};let f=null,A=!1;const b=function(e,t,a){if("film"===t)return e;const s=[...e];return"illustration"!==a||A||s.push({name:"epsUnavailable",teeShirtSize:"epsUnavailable",description:"eps_not_available",epsUnavailable:!0}),s},x={formatAsset:function(e){return"film"!==e.assetType&&function(e){if(f=e.findIndex((e=>"eps"===e.name)),A=f>=0,!A)return;const t=e[f];t.teeShirtSize=t.name,t.isEps=!0}(e.imageSizes),{actualMaxDimensions:e.actualMaxDimensions,agreements:e.agreements,allowedUseCodeKey:e.allowedUseCodeKey,artist:e.artist,assetDimensions:e.assetDimensions,assetFamily:e.family,assetId:e.id,assetQuality:e.quality,assetType:e.assetType,category:e.category,clipLength:e.clipLength,contributor:e.contributor,dateSubmittedVideo:e.dateSubmittedVideo,dateSubmittedVideoFormatted:e.dateSubmittedVideoFormatted,dateSubmitted:e.dateSubmitted,dateSubmittedFormatted:e.dateSubmittedFormatted,defaultMainImageURL:e.defaultMainImageURL,defaultMainWebPURL:e.defaultMainWebPURL,epsFileSizeIndex:f,exclusiveContent:e.exclusiveContent,experiences:e.experiences,filmDefinition:e.filmDefinition,filmCompUrl:e.filmCompUrl,downloadableFilmCompUrl:e.downloadableFilmCompUrl,filmPreviewDimensions:e.filmPreviewDimensions,freeFile:e.isFreeFile,galleryComp1024Url:e.galleryComp1024Url,galleryHighResCompUrl:e.galleryHighResCompUrl,hasEpsFileSize:A,includedWithSubscription:(null!=e.agreements?e.agreements.indexOf("RF"):void 0)>=0,is360Image:e.is360Image,isEditorialUseOnly:e.isEditorialUseOnly,isEssentialImage:e.isEssentialImage,isSignatureImage:e.isSignatureImage,isFilm:e.isFilm,isHidden:e.isHidden,isIllustration:e.isIllustration,isImage:e.isImage,isIstockExclusive:e.isIstockExclusive,isVector:e.isVector,istockCollection:e.istockCollection,keywords:e.keywords,largeMainImageURL:e.largeMainImageURL,largeMainWebPURL:e.largeMainWebPURL,licenseType:e.licenseType,localizedCaption:e.localizedCaption,location:e.location,mainImageUrl:e.mainImageUrl,mainWebPUrl:e.mainWebPUrl,mediaType:e.mediaType,orderId:e.orderId,orientation:e.orientation,ratio:e.ratio,showCreditExpiryDisclaimer:e.showCreditExpiryDisclaimer,sizes:b(e.imageSizes,e.assetType,e.mediaType),stackId:e.stackId,standardLicense:e.standardLicense,thumb612Url:e.thumb612Url,thumbUrl:e.thumbUrl,title:e.title,zoomedImageUrl:e.zoomedImageUrl,zoomedWebPUrl:e.zoomedWebPUrl}},getSizeMap:()=>T,getPreferredSize:e=>e.istock_user_preferred_download_size,getVideoPreferredSize:e=>({name:e.istock_user_preferred_video_download_size_name,definition:e.istock_user_preferred_video_download_size_definition}),getEpsPreferredSize:e=>e.istock_user_preferred_eps_download_size,setPreferredSize:function(e){let t="istock_user_preferred_download_size";"eps"===e&&(t="istock_user_preferred_eps_download_size"),I().post("/detail/preferences",{asset_detail_preferences:{[t]:e}})},setPreferredVideoSize:function(e,t){I().post("/detail/preferences",{asset_detail_preferences:{istock_user_preferred_video_download_size_name:e,istock_user_preferred_video_download_size_definition:t}})}};var O=x;const D="signature",y="essentials",j=e=>{if(e)return e.match(/premium|signature/i)},P={SIGNATURE:D,ESSENTIALS:y,isPPV:e=>!!e&&/video/i.test(e),isSignature:j,isEssentials:e=>!!(e?e.match(/essentials/i):void 0),getAssetCollectionName(e){return j(e.istockCollection)?D:y}};var R=P;let k={subsInfo:{}};var L=function(e={}){const t=e.name||"";return k.subsInfo={isPPV:R.isPPV(t),isSignature:R.isSignature(t),isEssentials:R.isEssentials(t),downloadedCount:e.download_count||0,downloadLimit:e.download_limit||0,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0},k.subsInfo.downloadsRemaining=k.subsInfo.downloadLimit-k.subsInfo.downloadedCount},F=function(e){window.tracking_data.has_purchased=e.has_purchase_history,window.tracking_data.has_credits=e.has_credits,window.tracking_data.has_subscription=e.has_subscription,window.tracking_data.has_subs_downloads=e.subsInfo.downloadsRemaining>0,window.tracking_data.remembered=e.remembered,window.tracking_data.authenticated=e.authenticated};var U={formatUser:function(e={}){return k=e,k.credit_amount=k.credit_amount||0,k.authenticated=k.authenticated||!1,k.remembered=k.remembered||!1,k.team_member=k.team_member||!1,k.team_leader=k.team_leader||!1,k.has_credits=k.has_credits||!1,k.has_subscription=k.has_subscription||!1,k.team_credits=k.team_credits||0,k.team_name=k.team_name||"",k.free_trial_subscription_test_active=k.free_trial_subscription_test_active||!1,k.free_trial_subscription_multivariant_eligible=k.free_trial_subscription_multivariant_eligible||!1,L(),"undefined"!=typeof window&&void 0!==window.tracking_data&&F(k),k}},M=a(9404),B=a.n(M);class W{static isMappable(e){return null!==e&&"object"==typeof e&&!B().Iterable.isIterable(e)}static mapArray(e){return B().List(e.map((e=>this.mapJS(e))))}static mapHash(e){for(const t in e){const a=e[t];e[t]=this.mapJS(a)}return B().Record(e)()}static mapJS(e){return this.isMappable(e)?Array.isArray(e)?this.mapArray(e):this.mapHash(e):e}static fromJS(e){return this.mapJS(e)}}var z=W.fromJS({userDetails:{country_code:"",authenticated:!1,remembered:!1,anonymous:!0,has_subscription:!1,has_purchase_history:!1,team_member:!1,team_leader:!1,team_name:"",eligible_for_free_trial:!1,fast_checkout_sub:!1,fast_checkout_subs_pack_sku:"",istock_fast_checkout_larger_offer_credit_pack_sku:"",pricing_clarity_flow:!1,credit_amount:0,has_ai_generations:!1,show_unlimited_content:!1,price_book:{},has_credits:!1,team_credits:0,subsInfo:{isPPV:!1,isSignature:!1,isEssentials:!1,downloadedCount:0,downloadLimit:0,autoRenews:!1,daysUntilExpiry:0,downloadsRemaining:0}},asset:{agreements:[],allowedUseCodeKey:"",assetDimensions:{width:0,height:0},assetFamily:"",assetId:"",assetType:"",dateSubmitted:"",dateSubmittedFormatted:"",defaultMainImageURL:"",epsFileSizeIndex:-1,exclusiveContent:"",freeFile:!1,hasEpsFileSize:!1,isEditorialUseOnly:!1,isEssentialImage:!1,isSignatureImage:!1,isFilm:!1,isHidden:!1,isIllustration:!1,isImage:!1,isIstockExclusive:!1,isVector:!1,istockCollection:"",keywords:[],licenseType:"",localizedCaption:null,location:"",mainImageUrl:"",mediaType:"",sizes:[],standardLicense:{license_type:"",description:"",credit_cost:Number.MAX_VALUE,is_purchase_required:!0,acquired:!1,is_acquired_and_not_repurchasable:!1,is_selected:!1},thumbUrl:"",zoomedImageUrl:""},agreements:[],subscription:null,licenses:[],calc:{step:{name:m.PICK_PAYMENT_OPTION,viewLicenseSelection:!1,showFileTypeDropdown:!1,showPricingClarity:null,redownloadSection:null,showCreditCost:null,title:null},assetIsIllustration:!1,assetIsImage:!1,assetIsVideo:!1,assetCollectionName:"",assetCollectionIsSignature:!1,buyAndBurnDownload:!1,localePhoneNumber:void 0,redownloadForFree:!1,isMiniPnpOpen:!1,isFreeAdminDownload:!1,teamCreditsAvailable:0,includedWithSubscription:void 0,selectedAccount:void 0,selectedAccountCredits:0,selectedAccountHasAnyCredits:!1,selectedAccountHasEnoughCredits:!1,selectedAgreement:void 0,selectedAgreementType:void 0,selectedAgreementSize:void 0,selectedAssetSize:{},largestSizeAvailable:{},userIsTeamUser:!1,isTeamAccountSelected:!1,totalCreditCost:Number.MAX_VALUE,isInPricingClarity:!1,ctaInProgress:!1,showDropboxModal:void 0,showIncentivizationModal:void 0,hasSubscription:!1,isSubscriptionDownloadAllowed:!1,optionalLicenseIndexes:[],hasSelectedOptionalLicenses:!1,notAcquiredSelectedLicenses:[],hasAvailableCredits:!1},buyCardData:{},categories:{categoriesView:{ftlpCategory:"",parentKeywordCategory:"",matchingInspirePages:""}},downloadData:null,displayError:null,editable:!1,isAiEditable:!1,keywordsView:{},metaTags:{seoAlt:"",seoImageTitle:"",seoFilmAlt:"",seoFigCaption:""},redirectToUrl:null,postDownloadOnboarding:!1,mobileSimplification:!1,showVideoPnp:!1,searchPhrase:null,searchScope:null,versionCount:0});var H=e=>({type:C.SET_SELECTED_ACCOUNT,selectedAccountName:e});var G=()=>({type:C.GO_TO_NEXT_STEP});const V="RoyaltyFreeSubscription",Y="CreditPack",K="EasyAccess";var $={ROYALTY_FREE_SUBSCRIPTION:V,CREDIT_PACK:Y,EASY_ACCESS:K,ALL:[V,Y,K]},q=a(31776);var J={singleDownload(e,t){return e&&(tracking_data.payment_source=e),t&&(tracking_data.extended_licenses=t,tracking_data.ui_element_location="extended_license"),delete tracking_data.asset_details.asset_size}};var Q=(e,t)=>{const a=function(e){return e.asset.freeFile?"free_download":e.calc.buyAndBurnDownload?"credits":e.calc.redownloadForFree?"redownload":e.calc.selectedAgreementType===$.CREDIT_PACK?"credits":e.calc.selectedAgreementType===$.ROYALTY_FREE_SUBSCRIPTION?"subscription":null}(e),s=e.calc.selectedAssetSize;tracking_data.asset_details.asset_size=null==s?void 0:s.teeShirtSize;const i=(0,q.A)({asset_details:tracking_data.asset_details,download_method:a,is_eps:t});return(0,_.C)(i),J.singleDownload(a,function(e){return e.calc.hasSelectedOptionalLicenses?e.licenses.filter((e=>e.is_selected&&"Standard"!==e.license_type)).map((e=>e.license_type)).toArray():null}(e))};var Z=(e=null)=>({type:C.SET_DISPLAY_ERROR,message:e});var X=e=>({type:C.REDIRECT_TO_URL,url:e});var ee=e=>({type:C.SET_BUY_AND_BURN_DOWNLOAD,buyAndBurnDownload:e}),te=a(43237),ae=a(45498);const se=function(e){return e.selectedAgreementType===$.CREDIT_PACK&&e.hasSelectedOptionalLicenses?e.notAcquiredSelectedLicenses:null},ie=e=>{const t=a=>{if(a>=e.length)return;const s=e[a],i=document.createElement("a");i.href=s,i.download="Original.jpeg",(document.body||document.documentElement).appendChild(i),i.click(),i.parentNode.removeChild(i),setTimeout((()=>{t(a+1)}),5e3)};try{t(0)}catch(e){(0,te.d)(e)}};var ne=(e,t,a,s,i,n,r)=>function(o,l){var c;const{asset:d,calc:_}=l(),u="image/eps"===(null===(c=_.selectedAgreementSize)||void 0===c?void 0:c.content_type);return(({isImageEdited:e,asset:t,calc:a,korrelationId:s,editDetails:i})=>{var n;if(e){const n={assetId:t.assetId,downloadToken:a.selectedAgreementSize.download_token,korrelationId:s,isImageEdited:e,editDetails:i};return(0,ae.A)(n)}return I().post("/downloads/create-download",{data:{asset:{asset_id:t.assetId,asset_type:t.assetType,asset_collection:t.istockCollection},tokens:[a.selectedAgreementSize.download_token],licenses:null===(n=se(a))||void 0===n?void 0:n.toJS(),korrelation_id:s,credit_share:a.isTeamAccountSelected}})})({isImageEdited:s,asset:d,calc:_,korrelationId:e,editDetails:r}).then((function(e){o((e=>({type:C.SET_DOWNLOAD_DATA,downloadData:e}))(e.data));const t=l(),{downloadData:s}=t;let r=!1;const{modifications_url:c}=null==s?void 0:s.data;return a||!s.hasDownloadDestinations||c?"complete"===document.readyState?c?(ie([c,s.downloadDestinationUrl]),n(!1)):window.location.href=s.downloadDestinationUrl:window.addEventListener("load",(()=>{c?ie([c,s.downloadDestinationUrl]):window.location.href=s.downloadDestinationUrl})):({dropboxEnabled:r}=s),Q(t,u),i(),o(((e,t)=>({type:C.SET_TOASTER,forceDownload:e,dropboxEnabled:t}))(a,r)),t.calc.buyAndBurnDownload?o(ee(!1)):t.calc.redownloadForFree?o((e=>({type:C.GO_TO_COMPLETE_REDOWNLOAD,dropboxEnabled:e}))(r)):void o((e=>({type:C.GO_TO_COMPLETE_DOWNLOAD,dropboxEnabled:e}))(r))})).catch((function(e,a){403===e.status&&o(X(t)),o(Z("download_failed")),n(!1)}))};var re={PERSONAL:"personalAccount",TEAM:"teamAccount"},oe=a(62111);var le=(e=document.referrer)=>(null!=function(e){const t=new oe.A,a=t.normalizeUrl(e)[1];return t.parseQuery(a)[0]}(e).phrase?window.giLocalStorage.setItem("spectrum.downloadAssetId",window.tracking_data.asset_details.asset_id):window.giLocalStorage.getItem("spectrum.downloadAssetId")!==window.tracking_data.asset_details.asset_id&&window.giLocalStorage.removeItem("spectrum.downloadAssetId"),{type:C.SET_SPECTRUM_DOWNLOADED_ASSET_ID});var ce=()=>(e,t)=>{if(t().userDetails.authenticated)return I().get("/downloads/subscription",{headers:{Accept:"application/json"}}).then((function(t){return e({subscription:t.data,type:C.LOAD_SUBSCRIPTION}),Promise.resolve(!0)})).catch((function(e){}))};const de=e=>({type:C.SET_AGREEMENTS,agreements:e});var _e=()=>(e,t)=>{const{agreements:a,asset:s}=t();return 0!==a.size?Promise.resolve(!0):t().userDetails.authenticated?I().get(`/downloads/asset-agreements/${s.assetId}`,{headers:{Accept:"application/json"}}).then((function(t){return e(de((null!=t.data?t.data.agreements:void 0)||[])),e(ce()),Promise.resolve(!0)})).catch((function(t){return e(de([])),e(ce()),Promise.resolve(!1)})):(e(de([])),e(ce()),Promise.resolve(!1))};var ue=()=>e=>I().get("/downloads/download-agreements-overview",{headers:{Accept:"application/json"}}).then((t=>{return e((a=t.data,{type:C.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED,agreementOverview:a}));var a})).catch((t=>e(Z("download_failed"))));var pe=()=>e=>I().get("/downloads/customer/credit-balances",{headers:{Accept:"application/json"}}).then((t=>{return e((a=t.data.personal_credits,s=t.data.team_credits,{type:C.SET_AVAILABLE_CREDITS,personalCredits:a,teamCredits:s}));var a,s})).catch((t=>e(Z("download_failed"))));var me=()=>function(e,t){if(e({type:C.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD}),!t().redirectToUrl)return e(le()),t().userDetails.team_member||e(H(re.PERSONAL)),e(_e()).then((a=>e(pe()).then((function(){return t().calc.isFreeAdminDownload?e({type:C.GO_TO_FREE_ADMIN_DOWNLOAD}):e(ue()).then((function(){if(!t().redirectToUrl)return e(G())}))})))).catch((function(t){return e(Z("download_failed"))}))};var he=()=>function(e,t){e({type:C.SET_MINI_PNP_OPEN,open:!0})};const ge=e=>({type:C.SET_LICENSES,licenses:e});var Ce=(e,t)=>(a,s)=>{const i=s().licenses.toJS();return i.size>1?a(ge(i)):I().get(window.siteMap.cleanRelativePath(`/asset-detail/${e.assetId}/licenses`),{params:{asset_type:e.assetType,allowed_use_code_key:e.allowedUseCodeKey,istock_collection:e.istockCollection,credit_share:t},headers:{Accept:"application/json"}}).then((function(e){const t=e.data||[];a(ge(t)),a({type:C.SET_CTA_IN_PROGRESS,inProgress:!1})})).catch((e=>a(Z("can_not_get_extended_licenses"))))};var Ee=()=>(e,t)=>e(_e()).then((function(){if((e=>e.userDetails.team_member&&e.userDetails.has_purchase_history&&!e.calc.selectedAccount)(t()))return e(pe()).then((()=>e({type:C.SELECT_ACCOUNT_STEP,nextStepIsToDownloadWithLicenseSelection:!0})));const a=t();e(Ce(a.asset,a.calc.isTeamAccountSelected))})).catch((function(t){e(Z("download_failed"))}));var we=()=>(e,t)=>e(Ee()).then((()=>e({type:C.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP})));var ve=()=>(e,t)=>e(_e()).then((t=>e({type:C.GO_TO_BEGINNING}))).catch((function(e){}));const Se={initializeDataStep(e,t,a,s,i,n={},r={},o,l,c={},d={},_,u,p,m,h,g){return{type:C.INITIALIZE,asset:e,userDetails:t,preferredDownloadSize:a,preferredEpsDownloadSize:s,localePhoneNumber:i,buyCardData:n,categories:r,editable:o,isAiEditable:l,keywordsView:c,metaTags:d,mobileSimplification:_,showVideoPnp:u,searchPhrase:p,searchScope:m,versionCount:h,hasAvailableCredits:g}},cancelDownload(){return{type:C.CANCEL_AND_BACK_TO_BEGINING}},closeDownloadErrorMessage(){return(e,t)=>{e({type:C.CANCEL_AND_BACK_TO_BEGINING})}},closeLicensePicker(){return{type:C.CANCEL_AND_BACK_TO_BEGINING}},selectAssetSize(e){return{type:C.SELECT_ASSET_SIZE,assetSize:e}},setCtaInProgress(e){return{type:C.SET_CTA_IN_PROGRESS,inProgress:e}},setMiniPnpOpen(e){return{type:C.SET_MINI_PNP_OPEN,open:e}},checkLicense(e){return{type:C.CHECK_LICENSE,licenseIndex:e}},selectPricingClarityOptionToggle(e){return{type:C.SELECT_PRICING_CLARITY_OPTION_TOGGLE,pricingOptionSelected:e}},setSelectedAgreementType(e){return{type:C.SELECT_AGREEMENT_TYPE,agreementType:e}},setRedirectUrl(e){return{type:C.REDIRECT_TO_URL,url:e}},goToInitialLoad:ve,goToNextStep:G,setSelectedAccount:H,initiateDownload:me,openMiniPnp:he,pickOptionalLicenses:Ee,performDownload:ne,goToInitiateDownloadAndSelectLicensesStep:we,showPostDownloadOnboarding:()=>({type:C.SHOW_POST_DOWNLOAD_ONBOARDING}),hidePostDownloadOnboarding:()=>({type:C.HIDE_POST_DOWNLOAD_ONBOARDING})};var Ne=Se,Ie=a(89593);var Te=function(e=null,t){if(t.type===C.LOAD_SUBSCRIPTION)e=W.fromJS(t.subscription);return e};const fe=new Map;fe.set(C.SHOW_POST_DOWNLOAD_ONBOARDING,!0),fe.set(C.HIDE_POST_DOWNLOAD_ONBOARDING,!1);var Ae=(e,t)=>{var a;return null!==(a=fe.get(t.type))&&void 0!==a?a:e};var be=(e,t)=>e=e.set("displayError",t.message);var xe=(e,t)=>e=e.setIn(["calc","ctaInProgress"],t.inProgress);const Oe=function(e){const{forceDownload:t,dropboxEnabled:a}=e,s=null!=giLocalStorage.getItem("dropboxOptOut");return!t&&!a&&!s};var De=(e,t)=>e=e.mergeIn(["calc"],{showDropboxModal:Oe(t)});var ye=e=>e.calc.optionalLicenseIndexes.map((t=>e.licenses.get(t)));var je=e=>ye(e).reduce(((e,t)=>e||t.is_selected),!1);const Pe=function(e){const t=Le(e),a=null!=e.calc.selectedAssetSize?e.calc.selectedAssetSize.get(t):void 0;return a?Re(a):ke};var Re=function(e){const t=new RegExp(`^${e}$`,"i");return(e,a)=>a.reduce(((a,s)=>a||null!=(null!=e[s]?e[s].match(t):void 0)),!1)},ke=()=>!1,Le=function(e){return e.calc.assetIsImage||e.calc.assetIsIllustration?"teeShirtSize":e.calc.assetIsVideo?"name":null};const Fe=function(e){const t=[];return e.calc.assetIsImage&&t.push("tee_shirt_size"),(e.calc.assetIsIllustration||e.calc.assetIsVideo)&&t.push("teams_size"),t};var Ue=(e,t,a)=>e.flatMap((e=>e.authorized_sizes)).find((e=>e.is_free&&a(e,t)));var Me=(e,t,a)=>e.flatMap((e=>e.authorized_sizes)).find((e=>a(e,t)));var Be=e=>{let t;return e.calc.redownloadForFree&&!je(e)?t=function(e){const t=Pe(e),a=Fe(e),s=e.agreements.filter((e=>e.type===$.ROYALTY_FREE_SUBSCRIPTION));let i=Ue(s,a,t);if(!i){const s=e.agreements.filter((e=>e.type===$.CREDIT_PACK));i=Ue(s,a,t)}return i}(e)||e.calc.selectedAgreementSize:e.calc.isFreeAdminDownload?t=function(e){const t=Pe(e),a=Fe(e),s=e.agreements.filter((e=>e.type===$.EASY_ACCESS));return Me(s,a,t)}(e)||e.calc.selectedAgreementSize:e.calc.selectedAgreement&&(t=function(e){const t=Pe(e),a=Fe(e);return e.calc.selectedAgreement.authorized_sizes.find((e=>t(e,a)))}(e)),e=e.setIn(["calc","selectedAgreementSize"],t)};const We=function(e){var t;const a=e.find((e=>e.type===$.CREDIT_PACK&&e.agreement_details.is_credit_share));return(null==a||null===(t=a.agreement_details)||void 0===t?void 0:t.available_credits)||0},ze=e=>e.some((e=>e.agreement_details.available_credits>0)),He=e=>!!e.find((e=>e.authorized_sizes.find((e=>e.is_free)))),Ge=(e,t)=>e.some((e=>e.type===t));var Ve=(e,t)=>{const a=t.agreements||e.agreements||[];return e=(e=e.set("agreements",W.fromJS(a))).mergeIn(["calc"],{includedWithSubscription:Ge(a,$.ROYALTY_FREE_SUBSCRIPTION),redownloadForFree:!e.asset.freeFile&&He(a),isFreeAdminDownload:Ge(a,$.EASY_ACCESS),teamCreditsAvailable:We(a),hasAvailableCredits:ze(a)}),e=Be(e)};const Ye=function(e,t){if(!t)return null;const a=new RegExp(`^${t}$`,"i");return e.find((e=>null!=e.teeShirtSize?e.teeShirtSize.match(a):void 0))};var Ke=(e,t)=>{const{assetSize:a}=t;let s=a;return!a&&e.calc.assetIsImage&&(s=function(e,t){var a;const{sizes:s}=e;if(e.hasEpsFileSize)return Ye(s,t.preferredEpsDownloadSize)||s.get(e.epsFileSizeIndex);if(null!==(a=s.last())&&void 0!==a&&a.epsUnavailable){const e=s.pop();return Ye(s,t.preferredDownloadSize)||e.last()}return Ye(s,t.preferredDownloadSize)||s.last()}(e.asset,t)),e=e.setIn(["calc","selectedAssetSize"],s),e=Be(e)};var $e=(e,t)=>{const a=e.calc.totalCreditCost<=e.calc.selectedAccountCredits;return e=e.setIn(["calc","selectedAccountHasEnoughCredits"],a)};const qe=e=>function(e){return e.asset.freeFile?e.agreements.find((e=>e.type===$.CREDIT_PACK)):null}(e)||(e=>e.agreements.find((t=>t.type===e.calc.selectedAgreementType&&(((e,t)=>(e=>!!e.agreement_details.is_credit_share)(t)===e.calc.isTeamAccountSelected||(e=>!!e.agreement_details.is_shared_subscription)(t)===e.calc.isTeamAccountSelected)(e,t)||e.userDetails.team_leader))))(e);var Je=(e,t)=>(e=e.setIn(["calc","selectedAgreement"],qe(e)),e=Be(e));var Qe=(e,t)=>{const a=(null!=t?t.agreementType:void 0)||e.calc.selectedAgreementType;return e=e.setIn(["calc","selectedAgreementType"],function(e,t){return t===$.ROYALTY_FREE_SUBSCRIPTION?e.calc.step.subsAvailable:t===$.CREDIT_PACK&&e.calc.step.creditsAvailable}(e,a)?a:null),e=Je(e)};var Ze=(e,t=void 0)=>{const a=null!=t?t.selectedAccountName:void 0;let s=null;const i=a===re.TEAM||!!e.userDetails.team_leader;return i?s=e.calc.teamCreditsAvailable:a===re.PERSONAL&&(s=e.userDetails.credit_amount),e=e.mergeIn(["calc"],{selectedAccount:a,selectedAccountCredits:s,selectedAccountHasAnyCredits:s>0,isTeamAccountSelected:i}),e=function(e){let t;return e.calc.isTeamAccountSelected&&e.calc.selectedAccountHasEnoughCredits&&(t=$.CREDIT_PACK),!e.calc.isTeamAccountSelected&&e.calc.isSubscriptionDownloadAllowed&&e.calc.userIsTeamUser&&(t=$.ROYALTY_FREE_SUBSCRIPTION),Qe(e,{agreementType:t})}(e=$e(e))};var Xe=(e,t)=>{var a,s,i,n;const{downloadData:r}=t,o=(null===(a=(null===(s=r.single_downloads)||void 0===s?void 0:s[0])||(null===(i=r.singleDownloads)||void 0===i?void 0:i[0]))||void 0===a?void 0:a.url)||null,l=!!(r.download_destinations&&r.download_destinations[0]&&r.download_destinations[0].token);return e=e.set("downloadData",W.fromJS({data:r,hasDownloadDestinations:(null===(n=r.download_destinations)||void 0===n?void 0:n.length)>0,downloadDestinationUrl:o,dropboxEnabled:l}))};const et={title:null,ctaClass:"",ctaTitle:null,ctaAction:"",showPricingClarity:!1,reasonForBox:"",creditsAvailable:!0,subsAvailable:!0,selectedAccount:void 0,viewLicenseSelection:!1};var tt=(e,t,...a)=>{const s=(e=>e.calc.step.showSubTypeMessage)(e)&&!(e=>e.calc.step.selectedAccount===re.TEAM)(e),i=Object.assign({},et,t,{showSubTypeMessage:s},...Array.from(a)),n=W.fromJS(i);return e=e.setIn(["calc","step"],n),e=Qe(e,{agreementType:e.calc.selectedAgreementType||n.selectedAgreementType})};const at=Object.freeze({CREATE_DOWNLOAD:"createDownload",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"goToInitiateDownloadAndSelectLicensesStep",HANDLE_ACCOUNT_SELECTION:"handleAccountSelection",INITIATE_DOWNLOAD:"initiateDownload",OPEN_MINI_PNP:"openMiniPnp",REDIRECT_TO_CHECKOUT:"redirectToCheckout",REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL:"redirectToCheckoutWithFreeTrial",REDIRECT_TO_CREDITPACKS:"redirectToCreditPacks",REDIRECT_TO_FAST_CHECKOUT:"redirectToFastCheckout",REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:"redirectToFastCheckoutWithAnnualPack",REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:"redirectToFastCheckoutWithSubscription",REDIRECT_TO_PRICING:"redirectToPricing"}),st=Object.freeze({FULL_WIDTH_SUPER_CTA:"super-cta super-cta--full-width",HOLLOW_CTA:"hollow-cta",PRIMARY_CTA:"primary-cta",SUPER_CTA:"super-cta"}),it=Object.freeze({BUY_CREDITS:"buy_credits",CHOOSE_ACCOUNT:"choose_account",CONFIRM_DOWNLOAD:"confirm_download",CONTINUE_TO_CHECKOUT:"continue_to_checkout",DOWNLOAD_FOR_FREE:"download_for_free",DOWNLOAD_METHOD:"download_method",DOWNLOAD_THIS_IMAGE:"download_this_image",DOWNLOAD_THIS_VIDEO:"download_this_video_clip",FREE_DOWNLOAD:"free_download_cta",REDOWNLOAD_FOR_FREE:"re-download_for_free"});var nt=(e,t={})=>{const a=it.CHOOSE_ACCOUNT,s=st.PRIMARY_CTA,i=at.HANDLE_ACCOUNT_SELECTION;return e=tt(e,{name:m.CHOOSE_ACCOUNT,title:`${e.calc.assetCollectionName}_collection`,ctaTitle:a,ctaClass:s,selectedAccount:re.TEAM,ctaAction:t.nextStepIsToDownloadWithLicenseSelection?at.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:i,showAccountChoices:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0}),e=Ze(e,{selectedAccountName:e.calc.step.selectedAccount})};var rt=e=>Ze(e,void 0);const ot=(e,t)=>e+t.credit_cost,lt=e=>e.reduce(ot,0);var ct=e=>{const t=(e=>e.licenses.filter((e=>e.is_selected&&!e.is_acquired_and_not_repurchasable)))(e);return e=e.mergeIn(["calc"],{totalCreditCost:lt(t),notAcquiredSelectedLicenses:t}),e=$e(e)};var dt=e=>{const t=e.licenses.withMutations((t=>e.calc.optionalLicenseIndexes.forEach((e=>t.setIn([e,"is_selected"],!1)))));return e=(e=e.set("licenses",t)).setIn(["calc","hasSelectedOptionalLicenses"],!1),e=(e=ct(e)).setIn(["calc","step","viewLicenseSelection"],!1)};const _t=e=>e.userDetails.premium_video_subscription_enabled,ut=e=>{var t;return null===(t=e.subscription)||void 0===t?void 0:t.include_video},pt=e=>e.userDetails.video_credit_pack_fco_eligible,mt=e=>_t(e)?at.REDIRECT_TO_CREDITPACKS:at.REDIRECT_TO_PRICING,ht=e=>!e.userDetails.has_purchase_history&&(((e,t=["AUT","BEL","BRA","DEU","IRL","NLD","CHE"])=>t.includes(e))(e.userDetails.country_code,["BRA"])||gt(e)),gt=e=>Ct(e.userDetails.country_code)||Et(e)||wt(e),Ct=e=>(e=>["PER","IDN","COL"].includes(e))(e)||(e=>["RUS","THA","IND"].includes(e))(e)||(e=>["VNM","TUR","CHL","ARG","NGA","MYS","UKR"].includes(e))(e),Et=e=>e.userDetails.fast_checkout_sub||e.userDetails.fast_checkout_sub_savings,wt=e=>e.userDetails.pricing_clarity_flow&&e.calc.assetIsVideo,vt=e=>e.mobileSimplification;var St={buildInsufficientCreditsHtmlTranslation:e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=e.userDetails.istock_asset_credit_cost,i={zero:"<strong>",one:"</strong>",two:"<strong>",three:"</strong>",credit_cost:t,greaterthan1_credit_balance:a,credit_amount:s};return{tag:`${e.calc.assetIsVideo?"video_":"image_"}${1===t?"insf_one_credit_cost":1===a?"insf_one_credit":"insf_credits"}`,translationVariables:i}},ctaActionForInitiateDownload:e=>e.userDetails.mini_pnp_active?at.OPEN_MINI_PNP:at.INITIATE_DOWNLOAD,defaultCtaTitle:e=>{const t=it.CONTINUE_TO_CHECKOUT,a=it.FREE_DOWNLOAD,s=it.DOWNLOAD_THIS_VIDEO,i=it.DOWNLOAD_THIS_IMAGE;return e.asset.freeFile?a:ht(e)?t:e.calc.assetIsVideo?s:i},buildConfirmDownloadPaidByCreditsStep:(e,t=!1)=>({name:"PLACEHOLDER",title:null,ctaTitle:it.CONFIRM_DOWNLOAD,ctaClass:st.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,showCreditCost:!0,confirmSection:!e.calc.step.viewLicenseSelection,selectedAgreementType:$.CREDIT_PACK,isConfirmationState:!0,subsAvailable:!0,triggerTracking(){const t=e.userDetails.team_leader,a=e.calc.userIsTeamUser,s=e.userDetails.team_member&&e.calc.isTeamAccountSelected;a&&!t&&(window.tracking_data.download_with_team_credits=s)}}),buildMustBuyStep:e=>{const t=pt(e),a=st.PRIMARY_CTA,s=e.calc.totalCreditCost,i=e.calc.selectedAccountCredits;let n=it.BUY_CREDITS;t&&(n=it.CONTINUE_TO_CHECKOUT);return{name:"PLACEHOLDER_BUY_CREDITS_NAME",ctaTitle:n,ctaClass:a,ctaAction:e.calc.assetIsVideo&&t?at.REDIRECT_TO_FAST_CHECKOUT:mt(e),ctaTranslationVariables:{credit_cost:s,selected_credits:i}}},buildStepDetailsToShowDownloadChoices:e=>{const t=(ut(e)?"premium_video":(e=>{var t;return null===(t=e.subscription)||void 0===t||null===(t=t.sku)||void 0===t?void 0:t.includes("PREM")})(e)?"premium":"basic")+"_subscription";return{showDownloadChoices:!0,showSubscriptionField:e.calc.selectedAccount===re.PERSONAL&&e.calc.hasSubscription,subTitleTranslation:t,subDownloadsTranslationValue:e.userDetails.subsInfo.downloadsRemaining}},hasPremiumVideoSub:ut,isUsingTeamAccount:e=>e.userDetails.team_member&&e.calc.isTeamAccountSelected,inGeoLocPricingTest:Ct,inFreeTrialSubscriptionMultivariant:e=>e.userDetails.free_trial_subscription_test_active&&e.userDetails.free_trial_subscription_multivariant_eligible,inFastCheckoutSub:Et,inVideoPricingClarityTest:wt,inVideoPricingClarityPremiumVideoSub:e=>e.userDetails.pricing_clarity_flow&&e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow,premiumVideoEnabled:_t,selfServeUpgradeEnabled:e=>e.userDetails.self_serve_upgrade_enabled,ctaPricingActionData:mt,inMobileSimplification:vt,inMobileSimplificationFreeTrial:e=>vt(e)&&(e=>e.userDetails.free_trial_subscription_test_active)(e),isPricingClarityDurationToggleDefaultAnnual:e=>e.userDetails.is_annual_monthly_toggle_annual_active,isVideoCreditPackFCO:pt};const{ctaActionForInitiateDownload:Nt,defaultCtaTitle:It}=St;var Tt=e=>tt(e,{name:m.PICK_PAYMENT_OPTION,title:`${e.calc.assetCollectionName}_collection`,ctaClass:st.SUPER_CTA,ctaTitle:It(e),ctaAction:Nt(e),showTshirtSizes:!0,confirmSection:!1,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection},function(e){const t=e.calc.includedWithSubscription;return{showSubTypeMessage:t,showFileTypeDropdown:e.calc.assetIsVideo,showCreditCost:!t}}(e));var ft=(e,t={})=>{const{asset:a}=e;return tt(e,{name:m.REDOWNLOAD_FOR_FREE,title:"previously_downloaded",ctaClass:st.PRIMARY_CTA,ctaTitle:it.REDOWNLOAD_FOR_FREE,ctaAction:at.CREATE_DOWNLOAD,lightBlueWarning:!0,showTshirtSizes:!0,showFileTypeDropdown:!0,confirmSection:!1,persistentWarning:!0,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,reasonForBox:a.isIllustration?"download_no_charge_illustration":a.isFilm?"download_no_charge_video":"download_no_charge_photo",warningBox:!0})};var At=Object.freeze({PRICING_OPTION_CHECKOUT:"checkout",PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:"checkoutLargerCreditPack",PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT:"freeTrialSubscriptionMultivariantOption",PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:"checkoutWithAnnualMonthlyToggleOption",PRICING_OPTION_PRICING:"pricing",PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:"checkoutSubscription",PRICING_OPTION_FREE_TRIAL:"checkoutFreeTrial"});const{inVideoPricingClarityPremiumVideoSub:bt,inFreeTrialSubscriptionMultivariant:xt,inMobileSimplification:Ot,inMobileSimplificationFreeTrial:Dt,inVideoPricingClarityTest:yt,inFastCheckoutSub:jt,inGeoLocPricingTest:Pt,defaultCtaTitle:Rt,isPricingClarityDurationToggleDefaultAnnual:kt}=St,Lt=m.PICK_PRICING_CLARITY_PAYMENT_OPTION,Ft=["DEU","BRA"],Ut=e=>{switch(!0){case xt(e):return At.PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT;case Dt(e):return At.PRICING_OPTION_FREE_TRIAL;case Ot(e):return At.PRICING_OPTION_CHECKOUT;case bt(e):case jt(e):return kt(e)?At.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:At.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION;case Pt(e.userDetails.country_code):case Ft.includes(e.userDetails.country_code):return At.PRICING_OPTION_CHECKOUT;default:return At.PRICING_OPTION_PRICING}},Mt=(e,t)=>e.calc.step.name!==Lt?Ut(e):((e,t)=>t||Ut(e))(e,t.pricingOptionSelected),Bt=e=>jt(e)||yt(e)?st.FULL_WIDTH_SUPER_CTA:st.SUPER_CTA,Wt=(e,t)=>{const a=Mt(e,t),s=((e,t)=>{switch(t){case At.PRICING_OPTION_FREE_TRIAL_SUBSCRIPTION_MULTIVARIANT:return{ctaTitle:it.DOWNLOAD_FOR_FREE,ctaAction:at.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL};case At.PRICING_OPTION_FREE_TRIAL:return{ctaTitle:Rt(e),ctaAction:at.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL};case At.PRICING_OPTION_CHECKOUT:case At.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:return{ctaTitle:Rt(e),ctaAction:at.REDIRECT_TO_CHECKOUT};case At.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:return{ctaTitle:Rt(e),ctaAction:at.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION};case At.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:return{ctaTitle:Rt(e),ctaAction:at.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK};default:return{ctaTitle:it.DOWNLOAD_METHOD,ctaAction:at.REDIRECT_TO_PRICING}}})(e,a);return tt(e,{name:Lt,title:`${e.calc.assetCollectionName}_collection`,ctaClass:Bt(e),ctaTitle:s.ctaTitle,ctaAction:s.ctaAction,showPricingClarity:!0,showCreditCost:!0,showFileTypeDropdown:e.calc.assetIsVideo,pricingOption:a,viewLicenseSelection:e.calc.step.viewLicenseSelection})};var zt=(e,t={})=>((e=e.setIn(["calc","isInPricingClarity"],(e=>e.userDetails.pricing_clarity_flow)(e))).calc.isInPricingClarity&&(e=Wt(e,t)),e);var Ht=e=>(e=rt(e),e=dt(e),(e=zt(e)).calc.isInPricingClarity||(e=Tt(e)),e.calc.redownloadForFree&&(e=ft(e)),e);var Gt=e=>{if(e.calc.step.name===m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION||e.calc.step.name===m.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS){let t,a,s,i;e.subscription&&(t=e.subscription.sku,a=e.subscription.status);let n=window.tracking_data.page_name;switch(a){case"Suspended":e.subscription.can_unsuspend?(s="Unsuspend_Subscription_Notification_Dismiss",i=window.tracking_data.page_name,n="adp_unsuspend_subscription_message"):(s="Subscription_Suspended_Notification_Dismiss",i="adp_subscription_suspended_message");break;case"Expired":s="Account_Subscription_Expired_Warning_Dismiss",i="adp_subscription_expired_message"}s&&i&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:s,account_selection:n,sku:t,ui_element_location:i})}};var Vt=(e,t)=>(Gt(e),e=Ve(e,t),e=rt(e),e=dt(e),(e=zt(e)).calc.isInPricingClarity||(e=Tt(e)),e.calc.redownloadForFree&&(e=ft(e)),e);var Yt=(e,t)=>e=e.mergeIn(["calc","isMiniPnpOpen"],t.open);var Kt=(e,t)=>(e=e.mergeIn(["userDetails"],{credit_amount:Math.max(0,t.personalCredits||0),team_credits:Math.max(0,t.teamCredits||0)}),e=Ze(e,{selectedAccountName:e.calc.selectedAccount}));var $t=e=>e=tt(e,{name:m.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP,title:`${e.calc.assetCollectionName}_collection`,ctaTitle:St.defaultCtaTitle(e),ctaClass:st.SUPER_CTA,ctaAction:St.ctaActionForInitiateDownload(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0});var qt=(e,t)=>tt(e,{name:m.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showCreditCost:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled});var Jt=(e,t)=>tt(e,{name:m.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled});var Qt=e=>{const t=m.PURCHASE_AND_SELECT_LICENCES_STEP;return e=tt(e,{name:t,title:`${e.calc.assetCollectionName}_collection`,ctaTitle:St.defaultCtaTitle(e),ctaClass:st.SUPER_CTA,ctaAction:St.ctaPricingActionData(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0})};var Zt=(e,t)=>{const a=e.licenses.getIn([t.licenseIndex,"is_selected"]);return e=(e=e.setIn(["licenses",t.licenseIndex,"is_selected"],!a)).setIn(["calc","hasSelectedOptionalLicenses"],je(e)),(e=ct(e)).calc.step.viewLicenseSelection&&(e=e.calc.isInPricingClarity?Qt(e):$t(e)),e};var Xt=e=>{const t=it.CONFIRM_DOWNLOAD;return tt(e,{name:m.FREE_ADMIN_DOWNLOAD,title:"Free admin download",ctaTitle:t,ctaClass:st.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,confirmSection:!1,selectedAgreementType:$.EASY_ACCESS})};var ea=(e,t)=>{const a=t.subscription.isEssentials||t.subscription.isSignature;return e=e.mergeIn(["calc"],{hasSubscription:a,isSubscriptionDownloadAllowed:a&&t.includedWithSubscription&&t.subscription.downloadsRemaining>0})};var ta=e=>{let t;return e.calc.assetIsImage&&(t=function(e){var t;const{sizes:a}=e;if(e.hasEpsFileSize)return a.get(e.epsFileSizeIndex);if(null!==(t=a.last())&&void 0!==t&&t.epsUnavailable)return a.pop().last();return a.last()}(e.asset)),e=e.setIn(["calc","largestSizeAvailable"],t)};var aa=(e,t)=>{const{asset:a,userDetails:s,preferredDownloadSize:i,preferredEpsDownloadSize:n,localePhoneNumber:r,buyCardData:o,categories:l,editable:c,isAiEditable:d,keywordsView:_,metaTags:u,mobileSimplification:p,showVideoPnp:m,searchPhrase:h,searchScope:g,versionCount:C,hasAvailableCredits:E}=t;a.sizes=a.sizes||[];const w=(e=e.merge({asset:W.fromJS(a),buyCardData:W.fromJS(o),categories:W.fromJS(l),editable:c,isAiEditable:d,keywordsView:W.fromJS(_),licenses:W.fromJS([a.standardLicense]),metaTags:W.fromJS(u),mobileSimplification:p,showVideoPnp:m,searchPhrase:h,searchScope:g,userDetails:W.fromJS(s),versionCount:C})).calc.withMutations((function(e){e.merge(function(e,t){return ea(B().Map({calc:B().Map()}),{subscription:t.subsInfo,includedWithSubscription:!1}).toJS().calc}(0,s));const t=R.getAssetCollectionName(a);return e.merge({assetCollectionName:R.getAssetCollectionName(a),assetCollectionIsSignature:R.isSignature(t),assetIsIllustration:"illustration"===a.mediaType,assetIsImage:"image"===a.assetType,assetIsVideo:"film"===a.assetType,localePhoneNumber:r,userIsTeamUser:s.team_member||s.team_leader,hasSubscription:e.hasSubscription,hasAvailableCredits:E})}));return e=(e=>Ze(e))(e=e.set("calc",w)),e=ct(e),e=Ht(e),e=ta(e),Ke(e,{preferredDownloadSize:i,preferredEpsDownloadSize:n})};var sa=(e,t)=>e=zt(e,{togglePricingOption:!0,pricingOptionSelected:t.pricingOptionSelected});var ia=(e,t)=>e=e.set("redirectToUrl",t.url);var na=(e,t)=>{const a=t.licenses||[];return e=(e=e.set("licenses",W.fromJS(a))).setIn(["calc","optionalLicenseIndexes"],W.fromJS((e=>e.map((function(e,t){return"Standard"!==e.license_type?t:null})).filter((e=>null!==e)))(a))),e=e.setIn(["calc","hasSelectedOptionalLicenses"],je(e)),e=(e=ct(e)).calc.isInPricingClarity?Qt(e):$t(e)};var ra=(e,t)=>(e.userDetails.authenticated||(e.asset.freeFile?e=e.set("redirectToUrl",`/sign-in?returnurl=${window.location.pathname}${window.location.search}&is_video=${e.calc.assetIsVideo}`):(e.userDetails.remembered||e.userDetails.has_purchase_history)&&(e=e.set("redirectToUrl",`/sign-in?returnurl=${window.siteMap.download_balance_check}?url=${window.location.pathname}${window.location.search}&is_video=${e.calc.assetIsVideo}`))),e);var oa=e=>{const t=it.CONFIRM_DOWNLOAD,a=`${e.calc.assetCollectionName}_download`;return tt(e,{name:m.SELECT_ACCOUNT_TYPE,title:a,ctaTitle:t,ctaClass:st.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:$.ROYALTY_FREE_SUBSCRIPTION,isConfirmationState:!0,triggerTracking(){const t=e.userDetails.team_leader,a=e.calc.userIsTeamUser,s=e.userDetails.team_member&&e.calc.isTeamAccountSelected;a&&!t&&(window.tracking_data.download_with_team_credits=s)}},St.buildStepDetailsToShowDownloadChoices(e))};var la=function(){return{tag:"contact_your_administrator"}};var ca=e=>tt(e,{name:m.TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:St.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,showSubTypeMessage:!1,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:la()});var da=e=>{const t=it.CONFIRM_DOWNLOAD;return tt(e,{name:m.CONFIRM_REDOWNLOAD_FOR_FREE,title:"re_download_for_free",ctaTitle:t,ctaClass:st.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,confirmSection:!1,redownloadSection:!0,showExtendedLicenses:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,isConfirmationState:!0})};var _a=e=>tt(e,{name:m.TEAM_ACCOUNT_OUT_OF_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:St.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:la()});var ua=e=>tt(e,{name:m.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING,title:`${e.calc.assetCollectionName}_download`,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:$.ROYALTY_FREE_SUBSCRIPTION,showCreditCost:!1,creditsAvailable:!1,ctaTitle:it.CONFIRM_DOWNLOAD,ctaClass:st.PRIMARY_CTA,ctaAction:at.CREATE_DOWNLOAD,confirmSection:!e.calc.step.viewLicenseSelection,isConfirmationState:!0,subsAvailable:!0},St.buildStepDetailsToShowDownloadChoices(e));const pa=st.PRIMARY_CTA,ma=at.CREATE_DOWNLOAD;var ha=e=>{const t=it.CONFIRM_DOWNLOAD;return tt(e,{name:m.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,title:`${e.calc.assetCollectionName}_download`,ctaTitle:t,ctaClass:pa,ctaAction:ma,confirmSection:!0,isConfirmationState:!0,selectedAgreementType:$.ROYALTY_FREE_SUBSCRIPTION},(e=>{const t=e.calc.includedWithSubscription;return e.calc.assetIsVideo,{showSubTypeMessage:t,showCreditCost:!t}})(e))};var ga=e=>tt(e,St.buildConfirmDownloadPaidByCreditsStep(e,!0),{name:m.CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS,viewLicenseSelection:!0});var Ca=e=>tt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:m.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS,title:`${e.calc.assetCollectionName}_collection`,focusView:!0,paymentSelect:!0});var Ea=e=>{const t=St.premiumVideoEnabled(e)?"image_not_available_with_subscription":"image_only_with_sig_or_credits";return tt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:m.CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:`${e.calc.assetCollectionName}_download`,reasonForBox:t,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},St.buildStepDetailsToShowDownloadChoices(e))};var wa=e=>{const t=St.hasPremiumVideoSub(e),a=`look_no_downloads_${e.calc.assetCollectionName}${t&&e.calc.assetIsVideo?"_video":""}`;return tt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:m.CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:`${e.calc.assetCollectionName}_download`,reasonForBox:a,warningBox:!0,hideDetails:!0,showDownloadChoices:!0,showCreditCost:!1,confirmSection:!1,subsAvailable:!1},St.buildStepDetailsToShowDownloadChoices(e))};const va="urls.plans_and_pricing_images",Sa="urls.plans_and_pricing_images_credit_pack",Na="urls.plans_and_pricing_images_subscriptions",Ia="urls.plans_and_pricing_video",Ta="urls.plans_and_pricing_videos_credit_pack",fa="urls.plans_and_pricing_videos_subscriptions";var Aa={annualSelfUpgradeRoute:"urls.plans_and_pricing_self_serve",defaultPnpRoute:"urls.plans_and_pricing_subscriptions",pnpCreditsRoute:"urls.plans_and_pricing_credit_packs",getPricingRoute:e=>e?Ia:va,getCreditsPricingRoute:e=>e?Ta:Sa,getSubscriptionPricingRoute:e=>e?fa:Na,imagePnpRoute:va,imagePnpCreditRoute:Sa,imagePnpSubsRoute:Na,videoPnpRoute:Ia,videoPnpCreditRoute:Ta,videoPnpSubsRoute:fa};var ba=e=>{const t=St.premiumVideoEnabled(e),a=St.selfServeUpgradeEnabled(e),s=t&&"OneYear"===e.subscription.duration,i=s?"video_not_available_with_subscription":"video_not_available_with_subscription_no_link";let n=null;return s&&(n=a?Aa.annualSelfUpgradeRoute:Aa.getSubscriptionPricingRoute(e.asset.isFilm)),tt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:m.CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:`${e.calc.assetCollectionName}_download`,warningBox:!0,reasonForBox:t?i:"video_only_with_credits",reasonForBoxLink:n,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},St.buildStepDetailsToShowDownloadChoices(e))};var xa=e=>tt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:m.CONFIRM_DOWNLOAD_BY_TEAM_CREDITS,title:"confirm_download_team_account",confirmSection:!0,showTshirtSizes:!1,showCreditCost:!0,showSubTypeMessage:!1,showFileTypeDropdown:!1,selectedAgreementType:$.CREDIT_PACK,isConfirmationState:!0,selectedAccount:re.TEAM});var Oa=function(){return{tag:"view_details_cta",url:window.siteMap.cleanRelativePath("/account")}};const Da={};Da[u.suspended]=function(e){const t="your_subscription_suspended";if(e.subscription.can_unsuspend){return{additionalInfoHtml:{tag:"please_pay_your_outstanding_balance_to_continue_using_your_subscription"},reasonForBox:t,warningMessageClass:"warning-message--can-unsuspend",warningCta:{ctaClass:"warning-cta--can-unsuspend",tag:"pay_now",url:`/purchase/subscriptions/${e.subscription.sku}?unsuspend=true`}}}return{additionalInfoHtml:{tag:"download_subscription_phone",translationVariables:{phoneNumber:e.calc.localePhoneNumber}},reasonForBox:t}},Da[u.paused]=function(e){const t=new Date(e.subscription.resumed_date).toLocaleDateString();return{additionalInfoHtml:{tag:"it_will_automatically_resume_on",translationVariables:{zero:"<strong>",resumeDate:t,one:"</strong>"}},reasonForBox:"your_subscription_paused",warningCta:Oa()}},Da[u.expired]=function(e){return{additionalInfoHtml:{tag:"your_subscription_has_expired"},warningClass:"expired-message",warningCta:{url:window.siteMap.cleanRelativePath("/account"),tag:"renew_today"}}};var ya=function(e){if(!e.subscription)return;const t=Da[e.subscription.status];return t?t(e):null};var ja=e=>{const t=(e.subscription||{}).downloads_remaining||0,a=`${St.hasPremiumVideoSub(e)?"premium_video":e.calc.assetCollectionName}_subscription`,s={name:m.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS,title:`${e.calc.assetCollectionName}_download`,focusView:!0,paymentSelect:!0,warningBox:!0,showDownloadChoices:!0,subsAvailable:!1,showSubscriptionField:!0,showCreditCost:!1,confirmSection:!1,subTitleTranslation:a,subDownloadsTranslationValue:t,...ya(e)};return tt(e,St.buildConfirmDownloadPaidByCreditsStep(e),s)};const{premiumVideoEnabled:Pa,hasPremiumVideoSub:Ra,buildInsufficientCreditsHtmlTranslation:ka}=St,La=e=>(e=>e.calc.assetIsVideo&&Pa(e)&&!Ra(e))(e)?(e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=ka(e);return{tag:`premium_${s.tag}`,translationVariables:{...s.translationVariables,credit_cost:t-a}}})(e):ka(e);var Fa=e=>{const t=St.isVideoCreditPackFCO(e),a=St.premiumVideoEnabled(e),s=St.selfServeUpgradeEnabled(e),i="OneYear"===e.subscription.duration,n=s?Aa.annualSelfUpgradeRoute:Aa.getSubscriptionPricingRoute(e.asset.isFilm),r=a&&i&&{id:"upgrade-to-premium",href:n},o=a&&i?Aa.annualSelfUpgradeRoute:null,l=a?"video_not_available_with_subscription_no_link":"video_only_with_credits",c=St.isUsingTeamAccount(e)?la():null,d=La(e),_=m.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION;return a&&(i||(d.tag=`${d.tag}_you_can_download`),r&&(d.tag=`${d.tag}_link`)),tt(e,St.buildMustBuyStep(e),{name:_,title:`${e.calc.assetCollectionName}_download`,warningBox:!0,reasonForBox:l,reasonForBoxLink:o,additionalInfoHtml:d,additionalInfoHtmlLink:r,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),showCreditCost:!0,premiumVideoEnabled:a,videoCreditPackFCO:t,userHasAnnualSubscription:i,warningCta:c})};var Ua=e=>{const t=St.premiumVideoEnabled(e),a=t?"image_not_available_with_subscription":"image_only_with_sig_or_credits",s=St.isUsingTeamAccount(e)?la():null,i=m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS,n=La(e);if(t){const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits;n.tag=1==a?"premium_video_insf_one_credit_you_can_download":"premium_video_insf_credits_you_can_download",n.translationVariables={...n.translationVariables,credit_cost:t-a}}return tt(e,St.buildMustBuyStep(e),{name:i,title:`${e.calc.assetCollectionName}_collection`,showCreditCost:!0,warningBox:!0,reasonForBox:a,additionalInfoHtml:n,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),warningCta:s})};var Ma=e=>{const t={name:m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION,title:`${e.calc.assetCollectionName}_download`,ctaTitle:it.BUY_CREDITS,ctaClass:st.PRIMARY_CTA,ctaAction:at.REDIRECT_TO_PRICING,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),...ya(e)};return tt(e,t)};var Ba=e=>{const t=St.premiumVideoEnabled(e),{assetIsVideo:a}=e.calc;return tt(e,St.buildMustBuyStep(e),{name:m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,title:"you_need_credits",showExtendedLicenses:!1,warningBox:!0,showCreditCost:!0,additionalInfoHtml:La(e),focusView:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,showSubscribeToPremiumVideo:t&&a,ctaClass:t&&a?st.HOLLOW_CTA:st.PRIMARY_CTA})};var Wa=e=>{const t=St.isUsingTeamAccount(e)?la():null,a=m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING;return tt(e,St.buildMustBuyStep(e),{name:a,title:"out_of_downloads",warningBox:!0,reasonForBox:"looks_like_no_downloads",additionalInfoHtml:La(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),warningCta:t})};var za=e=>{const t=m.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES;return tt(e,St.buildMustBuyStep(e),{name:t,title:"you_need_credits",warningBox:!0,showCreditCost:!0,showSubTypeMessage:!1,additionalInfoHtml:St.buildInsufficientCreditsHtmlTranslation(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,ctaAction:St.ctaPricingActionData(e)})};var Ha=e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=t-a,i=1==s,n=1==a,r=At.PRICING_OPTION_CHECKOUT;return tt(e,{title:"signature_collection",showBasicSelfServeUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,upsellData:e.buyCardData.basicSelfServeUpgrade.upsellProducts,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:s,oneCreditNeeded:i,oneCreditRemaining:n,balance:a,pricingOption:r})};var Ga=e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=t-a;return tt(e,{title:"signature_collection",showEnhancedPPVUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:s,oneCreditNeeded:1==s,oneCreditRemaining:1==a,balance:a})};var Va=e=>{const t=it.CONFIRM_DOWNLOAD,a=st.PRIMARY_CTA,s=at.CREATE_DOWNLOAD,i=e.subscription.downloads_remaining,n={showHigherVolumeSelfUpgrade:!0,cancelButton:!0,subscriptionSku:e.subscription.sku,title:e.asset.isEssentialImage?"essentials_collection":"signature_collection",downloadsRemaining:i},r={...n,hideDownloadButton:!0,showCreditCost:!1,showDownloadChoices:!1,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,upsellData:e.buyCardData.higherVolumeSelfUpgrade.upsellProducts},o={...n,name:m.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,ctaTitle:t,ctaClass:a,ctaAction:s,isConfirmationState:!0,selectedAgreementType:$.ROYALTY_FREE_SUBSCRIPTION};return tt(e,0===i?r:o,{showSubTypeMessage:!1})};const Ya=e=>e.calc.hasSubscription&&e.calc.includedWithSubscription&&e.calc.isSubscriptionDownloadAllowed,Ka=e=>e.calc.hasSubscription&&e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed,$a=e=>(e=>{const t=e.asset;return!(!e.userDetails.subsInfo.isPPV&&!t.isEssentialImage)||(e.userDetails.subsInfo.isSignature?!t.isFilm:void 0)})(e)&&!e.calc.hasAvailableCredits&&e.subscription.downloads_remaining<=2&&e.buyCardData.higherVolumeSelfUpgrade.eligible;var qa=e=>{if(!e.calc.hasSelectedOptionalLicenses){if(e.asset.freeFile)return ha(e);if(e.calc.redownloadForFree)return da(e)}if(e.userDetails.team_member){if(!e.userDetails.has_purchase_history)return(e=Ze(e,{selectedAccountName:re.TEAM})).calc.selectedAccountHasEnoughCredits?xa(e):_a(e);if(!e.calc.selectedAccount)return nt(e);if(e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits)return _a(e)}return e.calc.selectedAccount||(e=Ze(e,{selectedAccountName:re.PERSONAL})),e.calc.hasSelectedOptionalLicenses?e.calc.selectedAccountHasEnoughCredits?ga(e):e.userDetails.team_member&&e.calc.isTeamAccountSelected?ca(e):za(e):p(e)?e.calc.selectedAccountHasEnoughCredits?ja(e):Ma(e):(e=>e.buyCardData.basicSelfServeUpgrade.eligible)(e)&&(e=>e.calc.hasSubscription&&!e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed&&e.calc.assetCollectionIsSignature&&!e.asset.isFilm&&!e.calc.selectedAccountHasEnoughCredits)(e)?Ha(e):!(e=>e.buyCardData.enhancedPPVUpgrade.eligible&&e.asset.isFilm)(e)||(e=>e.calc.selectedAccountHasEnoughCredits)(e)||$a(e)?$a(e)?Va(e):!e.calc.hasSubscription&&e.userDetails.team_member&&e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits?_a(e):e.calc.selectedAccountHasEnoughCredits&&Ya(e)?oa(e):e.calc.selectedAccountHasEnoughCredits&&Ka(e)?wa(e):e.calc.selectedAccountHasAnyCredits&&!e.calc.selectedAccountHasEnoughCredits&&Ya(e)?ua(e):!e.calc.assetIsVideo&&e.calc.assetCollectionIsSignature&&e.userDetails.subsInfo.isEssentials?e.calc.selectedAccountHasEnoughCredits?Ea(e):Ua(e):!e.calc.selectedAccountHasEnoughCredits&&Ka(e)?Wa(e):e.calc.assetIsVideo&&e.calc.hasSubscription&&!St.hasPremiumVideoSub(e)?e.calc.selectedAccountHasEnoughCredits?e.calc.isTeamAccountSelected?Ca(e):ba(e):Fa(e):e.calc.hasSubscription?e.calc.selectedAccountHasEnoughCredits||Ya(e)?ha(e):Ba(e):e.calc.selectedAccountHasEnoughCredits?Ca(e):Ba(e):Ga(e)};var Ja=(e,t)=>(e=e.mergeIn(["userDetails","subsInfo"],W.fromJS(t)),e=ea(e,{subscription:t,includedWithSubscription:e.calc.includedWithSubscription}));var Qa=function(e,t){const a=t.agreementOverview||{};if(null!=(null!=a.credit_pack_agreement?a.credit_pack_agreement.credits_available:void 0)&&(e=Kt(e,{personalCredits:a.credit_pack_agreement.credits_available||0})),(null!=a.royalty_free_subscription_agreements?a.royalty_free_subscription_agreements.length:void 0)>0){const t=a.royalty_free_subscription_agreements[0];if(null!=t.download_count&&null!=t.download_limit&&null!=t.name){const a=function(e){const t=e.name||"",a=e.download_count||0,s=e.download_limit||0;return{isPPV:R.isPPV(t),isSignature:R.isSignature(t),isEssentials:R.isEssentials(t),downloadedCount:a,downloadLimit:s,downloadsRemaining:s-a,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0}}(t);e=Ja(e,a)}}return e=function(e){if(!(e.asset.freeFile||e.calc.redownloadForFree||e.userDetails.team_member||e.calc.selectedAccountHasAnyCredits||e.calc.hasSubscription||p(e))){const t=e.calc.assetIsVideo,a=e=>St.premiumVideoEnabled(e)&&t,s=a(e)&&!e.showVideoPnp?Aa.getSubscriptionPricingRoute(t):Aa.getPricingRoute(t);e=e.set("redirectToUrl",s)}return e}(e)};var Za=(e,t)=>e=e.mergeIn(["calc"],{buyAndBurnDownload:t.buyAndBurnDownload});const Xa={};Xa[C.INITIALIZE]=aa,Xa[C.GO_TO_BEGINNING]=Ht,Xa[C.CANCEL_AND_BACK_TO_BEGINING]=Vt,Xa[C.SELECT_ASSET_SIZE]=Ke,Xa[C.SET_CTA_IN_PROGRESS]=xe,Xa[C.GO_TO_NEXT_STEP]=qa,Xa[C.SET_AGREEMENTS]=Ve,Xa[C.SET_TOASTER]=De,Xa[C.SET_BUY_AND_BURN_DOWNLOAD]=Za,Xa[C.SELECT_AGREEMENT_TYPE]=Qe,Xa[C.SET_LICENSES]=na,Xa[C.GO_TO_FREE_ADMIN_DOWNLOAD]=Xt,Xa[C.CHECK_LICENSE]=Zt,Xa[C.SET_AVAILABLE_CREDITS]=Kt,Xa[C.GO_TO_COMPLETE_DOWNLOAD]=qt,Xa[C.GO_TO_COMPLETE_REDOWNLOAD]=Jt,Xa[C.SET_SELECTED_ACCOUNT]=Ze,Xa[C.SET_MINI_PNP_OPEN]=Yt,Xa[C.SELECT_PRICING_CLARITY_OPTION_TOGGLE]=sa,Xa[C.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED]=Qa,Xa[C.SET_DISPLAY_ERROR]=be,Xa[C.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD]=ra,Xa[C.REDIRECT_TO_URL]=ia,Xa[C.SET_DOWNLOAD_DATA]=Xe,Xa[C.SELECT_ACCOUNT_STEP]=nt,Xa[C.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP]=$t,Object.freeze(Xa);var es=(e=z,t)=>{const a=Xa[t.type];return a?a(e,t):e};function ts(e,t){return e}const as=(0,Ie.H)({agreements:ts,asset:ts,buyCardData:ts,calc:ts,categories:ts,displayError:ts,downloadData:ts,editable:ts,isAiEditable:ts,keywordsView:ts,licenses:ts,metaTags:ts,redirectToUrl:ts,mobileSimplification:ts,subscription:Te,userDetails:ts,postDownloadOnboarding:Ae,showVideoPnp:ts,searchPhrase:ts,searchScope:ts,versionCount:ts});var ss=(e=z,t)=>(e=es(e,t),e=as(e,t)),is=(a(45967),a(74848));const ns=(e,t)=>{const{asset:a,userDetails:s,preferredDownloadSize:i,preferredEpsDownloadSize:n,localePhoneNumber:r,buyCardData:o,categories:l,editable:c,isAiEditable:d,keywordsView:_,metaTags:u,mobileSimplification:p,showVideoPnp:m,searchPhrase:h,searchScope:g,versionCount:C,hasAvailableCredits:E}=(e=>({...e,asset:O.formatAsset(e.asset),userDetails:U.formatUser(e.userDetails),preferredDownloadSize:O.getPreferredSize(e.buyCardData.preferences),preferredEpsDownloadSize:O.getEpsPreferredSize(e.buyCardData.preferences)}))(t);e.dispatch(Ne.initializeDataStep(a,s,i,n,r,o,l,c,d,_,u,p,m,h,g,C,E))},rs=({payload:e,children:t,testRecorder:a})=>{const s=S(ss,z);return a&&(a.getState=()=>s.getState()),ns(s,e),(0,is.jsx)(o.Kq,{store:s,children:t})};rs.defaultProps={testRecorder:null};var os=rs,ls=a(22493),cs=a(24156),ds=a(44678),_s=a(99298),us=a(20060),ps=a(84182),ms=a(60471),hs=a(47950),gs=a(50340),Cs=a(98159),Es=a(97392),ws=a(65232),vs=a(60254),Ss=a(40560),Ns=a(10706),Is=a(32485),Ts=a.n(Is),fs="gW7HFfb7Cin1PoIVRY3Q",As="LcswaaqKmLnYFfq7WfUk",bs="wp3ztbULtfmWKUPyugTp",xs="peHGEkbrpbJ7Y2woV2HA",Os=a(47006),Ds=a(24253),ys=a(80371);var js=()=>{const e=(0,Os.c)(),t=(0,o.d4)((e=>e.asset.isImage)),a=(0,o.d4)((e=>e.buyCardData.orderId)),i=(0,o.d4)((e=>e.userDetails.subscription_upgrade)),n=(0,Ds.F)().cleanPath("/account"),r=e(i?"subscription_was_upgraded":"asset_purchase_thank_you"),l=(0,s.useMemo)((()=>{const s=t?"image":"video",r=i&&!a?e("image_purchase_locate_upgrade_perb"):e(`${s}_purchase_locate`,{zero:a,links:[n]}),o=[e(`${s}_purchase_desired_size`),e(`${s}_purchase_download`),r];return(0,is.jsx)("ol",{"data-testid":`thank-you-${s}-steps`,children:o.map(((e,t)=>2!==t?(0,is.jsx)("li",{children:e},e):(0,is.jsx)("li",{children:(0,is.jsx)(ys.A,{children:e})},e)))})}),[t,a,i]);return(0,is.jsxs)("div",{className:"confirmation-text",children:[(0,is.jsx)("h2",{className:"main-thanks","data-testid":"main-thanks",children:r}),l,a&&(0,is.jsx)("p",{className:xs,"data-testid":"invoice",children:(0,is.jsx)(ys.A,{children:e("invoice_available_time",{zero:"</a><b>",one:"</b>",links:[n]})})})]})};var Ps=()=>{const[e,t]=(0,s.useState)(!1),a=e?As:"",i=e=>{"Enter"===e.key&&t(!0)};return(0,is.jsxs)("section",{className:`inline-purchase ${a}`,id:fs,children:[(0,is.jsxs)("div",{className:bs,children:[(0,is.jsx)("div",{className:"close-button",id:"close-inline-purchase",onClick:()=>t(!0),onKeyPress:i,role:"button",tabIndex:0}),(0,is.jsx)(js,{})]}),e?null:(0,is.jsx)("div",{className:"grey-out",onClick:()=>t(!0),onKeyPress:i,role:"button",tabIndex:0})]})},Rs=(a(54824),a(96045)),ks="O7jjO1OCGh06gTa27jGT",Ls="ow0qGZRKCM7uQ_J7776T",Fs="g5wSC_AVt_E9HjViAQuN";const Us=({asset:e,show:t,closeModal:a,trackClick:s})=>{const{watermarkedAlteredImageUrl:i}=(0,Es.A)(),n={zoomedImageUrl:e.zoomedImageUrl,zoomedWebPUrl:e.zoomedWebPUrl},r=(0,o.d4)((e=>e.metaTags.seoAlt)),l=(0,o.d4)((e=>e.metaTags.seoImageTitle)),c=e=>{"Enter"!==e.key&&"Escape"!==e.key&&" "!==e.key||(e.preventDefault(),a())},d=e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s())},_=i||n.zoomedImageUrl,u=i?"cropped-img":"img";return t?(0,is.jsxs)("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:c,className:ks,children:[(0,is.jsx)("div",{role:"button",tabIndex:0,onKeyDown:d,onClick:s,onContextMenu:s,children:(0,is.jsx)("img",{id:"zoom-image","data-testid":u,src:_,alt:r,title:l,className:Ls})}),(0,is.jsx)("div",{role:"button",tabIndex:0,className:Fs,onClick:a,onKeyDown:c,children:(0,is.jsx)(Rs.A,{})})]}):null};Us.defaultProps={closeModal:()=>{},trackClick:()=>{}};var Ms=Us,Bs=a(33335),Ws=a(95399),zs="wlKPaIRRuGtLQ4k_LRRk";var Hs=({showLoadingErrorMessage:e,handleLoadingErrorDismissal:t})=>{const a=(0,Os.c)(),s=(0,is.jsx)(Ws.A,{text:a("saved_modifications_couldnt_load_try_again"),handleDismissal:t});return(0,is.jsx)("div",{className:zs,children:e&&s})};var Gs=()=>{const e=(0,o.d4)((e=>e.asset)),t=(0,o.d4)((e=>e.metaTags.seoAlt)),i=(0,o.d4)((e=>e.metaTags.seoFilmAlt)),n=(0,o.d4)((e=>e.metaTags.seoImageTitle)),{assetDimensions:{width:r},assetDimensions:{height:l},galleryComp1024Url:c,galleryHighResCompUrl:d}=e;return(0,s.useEffect)((()=>{document.querySelector("body").classList.add("vr-asset"),(()=>{try{const e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}})()&&((()=>{const e=document.querySelector(".vr-image"),t=e.getAttribute("height"),a=e.getAttribute("width"),s=document.createElement("div");s.classList.add("viewer_360_image"),s.setAttribute("data-testid","panorama-image"),s.setAttribute("style",`height: ${t}px; width: ${a}px`),s.id="panorama-image",s.alt=i,e.replaceWith(s)})(),a.e(945).then(a.t.bind(a,15940,23)).then((()=>window.pannellum.viewer("panorama-image",{type:"equirectangular",autoLoad:!0,autoRotate:-1,hfov:120,showZoomCtrl:!0,showFullscreenCtrl:!0,preview:c,panorama:d}))))}),[]),(0,is.jsx)("section",{className:`preview ${e.is360Image&&"viewer-360-container"}`,children:(0,is.jsx)("img",{className:"vr-image viewer_360_image",width:r,height:l,src:c,alt:t,title:n,"data-preview":c,"data-ratio":e.ratio,"data-alt":i,style:{maxWidth:r,maxHeight:l}})})},Vs=a(38420),Ys=a(90014),Ks=a(34504),$s=a(91592),qs=a(51078);function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Js.apply(null,arguments)}var Qs=({styles:e={},...t})=>i().createElement("svg",Js({"data-testid":"reset-icon",width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M12.472 14.488c-2.995 1.103-6.312-.463-7.396-3.493h.023l2.702-1.002-3.018-1.826-2.374-1.435-.258-.154L0 12.863l2.608-.96c1.588 4.405 6.406 6.682 10.767 5.075a8.386 8.386 0 003.774-2.799l-2.567-1.05a5.749 5.749 0 01-2.11 1.359zM7.625 1.016a8.333 8.333 0 00-3.774 2.793L6.418 4.87a5.75 5.75 0 012.11-1.358c2.995-1.103 6.306.463 7.396 3.493h-.023l-2.702 1.002 3.018 1.826 2.374 1.435.258.154L21 5.131l-2.608.96C16.804 1.687 11.986-.59 7.625 1.017z",fill:"#0C0D0D"})),Zs=a(42015),Xs=a(65554),ei=a(29455),ti=a(6724),ai=a(21162),si="AGfhrofv8p3H8ScXLUrp",ii="nNer6mASpD0jeJHW3FnX",ni="vW5coxBKRPGBITscIvaS",ri="lfioeko9DzxwGEgLOFB1";const oi=({open:e,onReset:t,onClose:a})=>{const s=(0,ai.I)();return(0,is.jsxs)(Zs.A,{open:e,onClose:a,rootProps:{className:si},children:[(0,is.jsx)(Xs.Ay,{heading:s("want_to_reset_image"),handleClose:a,headingProps:{className:ii}}),(0,is.jsx)(ti.Ay,{component:ti.QY.P,variant:ti.PT.body.medium,className:ni,children:s("lose_changes_return_to_original")}),(0,is.jsx)(ei.A,{className:ri,primaryButtonProps:{children:s("yes_reset"),onClick:e=>{t(),a(e)}},secondaryButtonProps:{children:s("cancel"),onClick:a}})]})};var li=oi;oi.defaultProps={open:!1,onReset:()=>{},onClose:()=>{}};var ci="Gps0EhBfk59LuChvqHUe";const di=({assetId:e,className:t})=>{const{setImageFlipX:a,setZoomLevel:i,setTopRotate:n,setBottomRotate:r,setActivePresetAndRatio:o,setCropRatio:l,defaultPreset:c}=(0,$s.A)(),{setEditDetails:d,setWatermarkedAlteredImageUrl:_,setImageIsEdited:u}=(0,Es.A)(),[p,m]=(0,s.useState)(!1),h=(0,Os.c)();return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsxs)(Ks.Ay,{onClick:e=>{e.stopPropagation(),m(!0)},variant:Ks.Jr.HOLLOW,className:Ts()(ci,t),"data-testid":"edit-reset-badge",children:[(0,is.jsx)(Qs,{}),h("reset")]}),(0,is.jsx)(li,{open:p,onReset:async()=>{r(0),i(0),o(c),n(0),a(!1),l(void 0),u(!1),d(void 0),_(void 0),await(0,qs.A)({assetId:e,editDetails:{}})},onClose:e=>{e.stopPropagation(),m(!1)}})]})};di.defaultProps={className:""};var _i=di,ui=a(80960),pi="UcU8ureQnpvZvSsFIQQo",mi="nd6A5E548WVOVWXWYAxO",hi="wMgLANQ4KzDt3pL5JYIX",gi="_StJSx0EdFAmrG6JvZo7";const Ci=({asset:{assetId:e,mainImageUrl:t,mainWebPUrl:a,defaultMainImageURL:i,defaultMainWebPURL:n,largeMainImageURL:r,largeMainWebPURL:l},trackClick:c,toggleModal:d,imageEditorToolAvailable:_})=>{const u=(0,o.d4)((e=>e.metaTags.seoImageTitle)),p=(0,o.d4)((e=>e.metaTags.seoImageTitle)),[m,h]=(0,s.useState)(!!a),g=(0,o.d4)((e=>e.versionCount)),{watermarkedAlteredImageUrl:C}=(0,Es.A)(),{setShowLoadingOverlay:E}=(0,ws.A)(),w=(0,s.useRef)();(0,Ys.A)({assetId:e,imageEditorToolAvailable:_});const v=()=>{c(),d()},S=(0,s.useCallback)((()=>{E(!1)}),[E]);(0,s.useEffect)((()=>{const e=w.current;return e.addEventListener("load",S),()=>{null!==C&&e.removeEventListener("load",S)}}),[C,S]);const N=!!C&&(0,is.jsx)(_i,{className:hi,assetId:e}),I=g&&g>0?(0,is.jsx)(ui.A,{assetId:e,versionCount:g}):null;return(0,is.jsxs)("div",{role:"button","data-testid":"imageCard",tabIndex:0,onClick:v,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),v())},onContextMenu:()=>{c(),h(!1)},className:pi,children:[(0,is.jsxs)("div",{className:gi,children:[(0,is.jsxs)("picture",{"data-testid":"hero-picture",className:mi,children:[(0,is.jsxs)(is.Fragment,{children:[C?(0,is.jsx)("source",{srcSet:C,type:"image/png","data-testid":"cropped-image"}):null,m&&!C&&(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("source",{srcSet:a,media:"(max-width: 1100px)",type:"image/webp"}),(0,is.jsx)("source",{srcSet:n,media:"(max-width: 1530px)",type:"image/webp"}),(0,is.jsx)("source",{srcSet:l,type:"image/webp"})]}),(0,is.jsx)("source",{srcSet:t,media:"(max-width: 1100px)",type:"image/jpeg"}),(0,is.jsx)("source",{srcSet:i,media:"(max-width: 1530px)",type:"image/jpeg"}),(0,is.jsx)("source",{srcSet:r,type:"image/jpeg"})]}),(0,is.jsx)("img",{"data-testid":"image-asset",src:i,alt:p,title:u,style:{maxHeight:668,maxWidth:"100%",objectFit:"scale-down",width:"auto",height:"auto"},fetchpriority:"high",ref:w})]}),I]}),N]})};Ci.defaultProps={trackClick:()=>{}};var Ei=Ci,wi=a(2070),vi=a(12032),Si="ldJ0mz8r6T2R_LThLWr6",Ni="QTyASGPMnJ4POb6oU1Af",Ii="dMuK98MJmDy67rN26W2Z";var Ti=({asset:e})=>{const t=(0,wi.useExperience)("VideoADPPreviewResize"),{filmCompUrl:a,orientation:i,actualMaxDimensions:{width:n,height:r},filmPreviewDimensions:{width:l,height:c}}=e,d=(0,o.d4)((e=>e.metaTags.seoImageTitle)),_=(0,s.useMemo)((()=>(0,vi.r)(l,c,n,r,i,t)),[l,c,n,r,i,t]);return(0,is.jsx)("div",{className:Si,style:{maxWidth:_.maxWidth},children:(0,is.jsx)("div",{className:Ni,style:{paddingBottom:_.paddingTop},children:(0,is.jsx)("video",{"data-testid":"video-asset",className:Ii,src:a,alt:d,controls:"controls",controlsList:"nodownload",autoPlay:!0,loop:!0})})})};const fi=({asset:e,trackClick:t,toggleModal:a})=>{const{isImage:s,is360Image:i}=e,n=(0,Vs.A)(e);return i?(0,is.jsx)(Gs,{}):s?(0,is.jsx)(Ei,{asset:e,trackClick:t,toggleModal:a,imageEditorToolAvailable:n}):(0,is.jsx)(Ti,{asset:e})};fi.defaultProps={trackClick:()=>{}};var Ai=fi;function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},bi.apply(null,arguments)}var xi=({styles:e={},...t})=>i().createElement("svg",bi({xmlns:"http://www.w3.org/2000/svg",viewBox:"-15 -15 130 130"},t),i().createElement("path",{d:"M67.35 10.29v4h14.83l-21.2 21.19 2.83 2.83 21.2-21.2v14.84h4V10.29H67.35zM32 14.29v-4H10.34v21.66h4V17.11l21.2 21.2 2.83-2.83-21.2-21.19H32zM85.01 65.24v14.83l-21.2-21.2-2.83 2.83 21.2 21.2H67.35v4h21.66V65.24h-4zM35.54 58.87l-21.2 21.2V65.24h-4V86.9H32v-4H17.17l21.2-21.2-2.83-2.83z"})),Oi=a(80579),Di="YiNp6dCG6jKbroaAQizq",yi="grPu5hBCNNNGZ9kT07oh",ji="GNQT5my0fjBNGJibx49k",Pi="CLKcR06MeB6QZKn5kKCE",Ri="AAime6IsRoZeZI_puk4x",ki="_tt5W_xAaiYqJia95F5J";const Li=({show:e,toggleModal:t})=>{const a=(0,Os.c)();return e?(0,is.jsx)(Oi.A,{className:Pi,"data-testid":"zoom-in-overlay",onClick:t,ariaLabel:a("zoom"),tabIndex:-1,children:(0,is.jsx)("span",{children:(0,is.jsx)(xi,{})})}):null};Li.defaultProps={show:null};var Fi=Li,Ui=a(23252),Mi=a(95653),Bi=a(43450),Wi=a(49358),zi="iuUSOOQ8NxtLiV0v_0p3";var Hi=()=>(0,is.jsx)("div",{"data-testid":"onboarding-overlay",className:zi}),Gi=a(86260);const Vi=()=>{var e;window.tracking_data&&(window.tracking_data.merchandising_units=["adp_tools_panel_post_download_intro"]),null===(e=window.combinedGtmTracking)||void 0===e||e.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Shown",merch_unit_selection:"adp_tools_panel_post_download_intro-shown",ui_element_location:"adp_tools_panel_top_overlay"})};var Yi=a(20350);var Ki=()=>{const e=(0,o.wA)(),t=(0,o.d4)((e=>e.calc.selectedAgreement));return async()=>{if("RoyaltyFreeSubscription"!==(null==t?void 0:t.type))return;let a;try{a=await(0,Yi.A)("post_download_onboarding_client")}catch{return}e(Ne.showPostDownloadOnboarding()),Vi(),a.dismiss()}};var $i=()=>{const e=(0,o.wA)();return()=>{var t;e(Ne.hidePostDownloadOnboarding()),null===(t=window.combinedGtmTracking)||void 0===t||t.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-close",ui_element_location:"adp_tools_panel_top_overlay"})}},qi="Xc9NMt5yrBJcz13LFAFb",Ji="tn2gkaUMkKAPIaiN87up",Qi="hxGvbGjfTMDGrPSLg8ZE",Zi="rMGpQv6630Y5ZaxZ8Uz7",Xi="EUqkhY00_WqNk6OAlLgR";var en=({src:e,thumbnailSrc:t,alt:a})=>{const[i,n]=(0,s.useState)(!1);return(0,is.jsxs)("div",{className:qi,children:[(0,is.jsx)("video",{"data-testid":"video",className:Ts()(Ji,i?Zi:Xi),autoPlay:!0,loop:!0,src:e,onLoadedData:()=>n(!0)}),(0,is.jsx)("img",{"data-testid":"thumbnail",className:Ts()(Ji,Qi,i?Xi:Zi),src:t,alt:a})]})},tn=a.p+"static/post-download-onboarding-thumbnail-b24582a54bb3ac2018b9.png",an="r5dzD3s8qBdl0JZfyIpK",sn="mkoqypVVYf0QbADac_gM",nn="DjqO9t8jvFF5nES4UEhC",rn="CgOl4IqyeBmyrorOp1uq",on="Mn348R8IuK_Y1yvvohFc";const ln=["KO","NL","PL","PT-BR","PT-PT","RO","RU","SV","TH","TR","UK","VI","ZH-HK","CS","DE","EN-US","ES","FI","FR","HU","ID","IT","JA"];var cn=({children:e})=>{const t=(0,Os.c)(),a=(0,Gi.Y)(),s=$i(),i=(e=>{const t=e.toUpperCase();return ln.includes(t)?`https://static.istockphoto.com/display-sets/istock/adp/${t}.mp4`:"https://static.istockphoto.com/display-sets/istock/adp/EN-US.mp4"})(a);return(0,is.jsxs)("div",{"data-testid":"post-download-onboarding",className:an,children:[e,(0,is.jsxs)("div",{className:sn,children:[(0,is.jsx)(Rs.A,{"data-testid":"close-icon",className:on,onClick:s}),(0,is.jsx)("div",{className:nn,children:t("save_content_to_boards")}),(0,is.jsx)(en,{src:i,thumbnailSrc:tn,alt:t("save_your_favorite_images_and_videos")}),(0,is.jsx)("div",{className:rn,children:t("save_your_favorite_images_and_videos")})]})]})},dn=a(13518),_n=a(51608);function un(){return un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},un.apply(null,arguments)}var pn=({styles:e={},...t})=>i().createElement("svg",un({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16.1",height:"16.2"},t),i().createElement("path",{fill:"#353838",d:"M16.1 7.4H8.8V.1H7.3v7.3H0v1.5h7.3v7.3h1.5V8.9h7.3z"}));function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},mn.apply(null,arguments)}var hn=({styles:e={},...t})=>i().createElement("svg",mn({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17"},t),i().createElement("path",{d:"M7.734-.001h1.531V0H7.734z"}),i().createElement("path",{fill:"#474747",d:"M15.16 7.735H-.001v1.53h7.735v.001h9.267V7.734z"})),gn=a(21200),Cn=a(68282);const En=({assetIsInBoard:e})=>{const t=(0,Os.c)();return e?(0,is.jsxs)(is.Fragment,{children:[(0,is.jsxs)("div",{className:Cn.A.boardsActive,children:[(0,is.jsx)(gn.A,{}),t("saved")]}),(0,is.jsxs)("div",{className:Cn.A.boardsRemove,children:[(0,is.jsx)(hn,{}),t("remove")]})]}):(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(pn,{})," ",t("save")]})};En.defaultProps={assetIsInBoard:null};var wn=En;const vn=({children:e,onClick:t,greenBorder:a,testid:s,disabled:i})=>(0,is.jsx)("button",{"data-testid":s,onClick:t,type:"button",className:Ts()(Cn.A.button,{[Cn.A.button__greenBorder]:a}),disabled:i,children:e});vn.defaultProps={greenBorder:!1,onClick:()=>{},testid:"button",disabled:!1};var Sn=vn;var Nn=({asset:e})=>{const{boards:t,addAsset:a,removeAsset:s}=(0,r.bH)(),{addToaster:i}=(0,Wi._k)(),n=t.isAssetInBoard(e),l=(0,ps.Z)(),c=(0,o.d4)((e=>e.postDownloadOnboarding)),d="adp_tools_panel_top",u=()=>{if(n){const a=(0,dn.A)({ui_element_location:d,board_interaction:"remove_single_asset_from_board",asset_id:e.assetId,asset_type:e.assetType,asset_family:e.assetFamily});s(t.defaultBoard.id,e.id),(0,_.C)(a),l.sendBoardItemRemovedSignal(e,t.defaultBoard.id)}else{const s=(0,_n.A)({ui_element_location:d,board_interaction:"add_to_existing_board",asset_id:e.assetId,asset_type:e.assetType,asset_family:e.assetFamily});a(t.defaultBoard.id,e.id),(0,_.C)(s),l.sendAssetAddedToBoardSignal(e,t.defaultBoard.id)}var o;c&&(null===(o=window.combinedGtmTracking)||void 0===o||o.gtmPushTracking("merchUnitInteraction",{merch_unit_interaction:"Click",merch_unit_selection:"adp_tools_panel_post_download_intro-clicked",ui_element_location:"adp_tools_panel_top_overlay"})),i((0,is.jsx)(r.FW,{uiLocation:d,theme:"istock",asset:e}))},p=(0,is.jsxs)(Sn,{disabled:!t.defaultBoard,onClick:()=>{u()},greenBorder:c,testid:"boards-button",children:[(0,is.jsx)("div",{className:Cn.A.boardsTooltip,children:(0,is.jsx)(r.MS,{uiLocation:d,theme:"istock",asset:e,modal:(0,is.jsx)(r.ho,{uiLocation:d,theme:"istock",asset:e})})}),(0,is.jsx)(wn,{assetIsInBoard:t.isAssetInBoard(e)})]});return c?(0,is.jsx)(cn,{children:p}):p},In=a(71087),Tn=a(59390),fn=a(36653),An=a(23156),bn=a(62218),xn={container:"Dqs20PpUHyfeUwA7ohm3",header:"ed44G7C6JFYw4GiJK0Pg",footer:"pby3pmwl6sptMWcsw0Xw",body:"v42us1KBxb3U2AcQYmQb",checkbox:"P5mCMOMaN04Atu8vsEzi"};var On=({downloadLink:e,trackDownload:t,isFilm:a,type:i,asset:n,open:r,onClose:o})=>{const[l,c]=(0,s.useState)(!1),d=(0,Os.c)(),{watermarkedAlteredImageUrl:u}=(0,Es.A)(),p=()=>{const e=(0,bn.A)({event:"close_modal",modal_content:`preview_${i}`,modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:"modal_x",modal_selection:`preview_${i}_close`});(0,_.C)(e),o()};return(0,is.jsxs)(Zs.A,{open:r,onClose:p,rootProps:{className:xn.container},"data-testid":"preview-modal-container",children:[(0,is.jsx)(Xs.Ay,{heading:d(a?"try_this_clip":"try_this_image"),handleClose:p,headingProps:{className:xn.headier}}),(0,is.jsx)(ti.Ay,{component:ti.QY.P,variant:ti.PT.body.medium,className:xn.body,children:d(a?"try_this_clip_disclaimer":"try_this_image_disclaimer")}),(0,is.jsx)(An.A,{checked:l,onClick:()=>{var e;e=!l,localStorage.setItem("assetDetail.hidePreviewLicense",e),c(!l)},className:xn.checkboxInput,label:d("download_workflow.dont_show_message")}),(0,is.jsx)(ei.A,{className:xn.footer,primaryButtonProps:{children:d("download"),onClick:()=>{const a=(0,q.A)({asset_details:{asset_id:null==n?void 0:n.id,asset_type:null==n?void 0:n.assetType,asset_family:null==n?void 0:n.assetFamily},download_method:"comp"}),s=!!u;(0,fn.hC)(e,null==n?void 0:n.id,s),(0,_.C)(a),t(`${i}_adp_modal`),o()}},secondaryButtonProps:{children:d("cancel"),onClick:()=>{const e=(0,bn.A)({event:"close_modal",modal_content:`preview_${i}`,modal_type:"detailed_modal_with_cta",cta_text:"cancel",ui_element_location:"modal_cta",modal_selection:`preview_${i}_cancel`});(0,_.C)(e),o()}}})]})};function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Dn.apply(null,arguments)}var yn=({styles:e={},...t})=>i().createElement("svg",Dn({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("g",{clipPath:"url(.preview-icon)",fill:"#353838"},i().createElement("path",{d:"M15.71 12.15v2.91H1.5v-2.91H0v4.41h17.21v-4.41zM13.6 6.33l-1.06-1.06-3.18 3.18V0h-1.5v8.61L4.68 5.43 3.62 6.5l4.9 4.9z"})));var jn=({asset:e})=>{const t=(0,Os.c)(),a=(0,ps.Z)(),{watermarkedAlteredImageUrl:i}=(0,Es.A)(),{showLoadingOverlay:n}=(0,ws.A)(),r="film"===e.assetType,o=r?"video":"image",l=(0,In.A)(),[c,d]=(0,s.useState)(!1),u=n,p=e.defaultMainImageURL?(0,fn.m1)(e.defaultMainImageURL):null,m=(0,fn.vh)({asset:e,watermarkedAlteredImage:i,compUrl:p}),h=()=>{a.sendAssetCompDownloadedSignal(e)};return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsxs)(Sn,{onClick:()=>{const e=(0,Tn.A)({cta_interaction:"preview_asset_cta_clicked",cta_text:"try",cta_url:m,ui_element_location:l});"true"===localStorage.getItem("assetDetail.hidePreviewLicense")?(h(),(0,fn.hC)(m)):d(!0),(0,_.C)(e)},testid:"preview-button",disabled:u,children:[(0,is.jsx)(yn,{}),t("try")]}),c?(0,is.jsx)(On,{downloadLink:m,trackDownload:h,isFilm:r,type:o,asset:e,open:c,onClose:()=>d(!1)}):null]})};function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Pn.apply(null,arguments)}var Rn=({styles:e={},...t})=>i().createElement("svg",Pn({xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 16.443 16.132",fill:"#353838"},t),i().createElement("path",{className:e.st0||"st0",d:"M7.143 12.495h-.01l-2.412-.032a.751.751 0 01-.74-.74L3.947 9.31a.746.746 0 01.22-.54L12.718.22a.75.75 0 011.061 0l2.445 2.444a.75.75 0 010 1.06l-8.551 8.551a.75.75 0 01-.53.22zM5.47 10.973l1.365.018 7.797-7.797-1.384-1.383-7.797 7.796.019 1.366z"}),i().createElement("path",{className:e.st0||"st0",d:"M13.83 5.453a.747.747 0 01-.531-.22L11.235 3.17a.75.75 0 111.06-1.06l2.064 2.063a.75.75 0 01-.53 1.28zm-.322 10.679H2.209A2.212 2.212 0 010 13.922V3.056C0 1.837.991.845 2.209.845h5.65a.75.75 0 010 1.5h-5.65a.71.71 0 00-.709.71v10.868c0 .39.318.709.709.709h11.299a.71.71 0 00.709-.71V8.489a.75.75 0 011.5 0v5.435a2.212 2.212 0 01-2.21 2.209z"}));const kn=({show:e,url:t})=>{const a=(0,Os.c)(),s=(0,In.A)();return e?(0,is.jsxs)(Sn,{onClick:()=>{(()=>{const e=(0,Tn.A)({cta_interaction:"edit_image_cta_clicked",cta_text:"edit",cta_url:t,ui_element_location:s});(0,_.C)(e),window.open(t)})()},children:[(0,is.jsx)(Rn,{}),a("edit")]}):null};kn.defaultProps={show:null,url:""};var Ln=kn,Fn=a(76406),Un=a(87261);var Mn=(0,Ui.A)((({asset:e})=>{const[t,a]=(0,s.useState)(null),i=(0,Ds.F)(),{assetId:n}=e,r=(0,o.d4)((e=>e.editable)),l=(0,o.d4)((e=>e.userDetails.price_book)),c=(0,o.d4)((e=>e.userDetails.has_ai_generations)),d=(0,o.d4)((e=>e.userDetails.show_unlimited_content)),_=(0,Vs.A)(e),u=r?(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(Mi.A,{asset:e}),(0,is.jsx)(Bi.A,{assetId:n})]}):null,p=(0,is.jsx)(Ln,{show:r,url:i.editImagePath(n),asset:{id:n,...e}}),m=_?u:p,h=(0,o.d4)((e=>e.isAiEditable)),g=(0,is.jsxs)("div",{className:Cn.A.aiButtons,children:[(0,is.jsx)(Un.A,{asset:e,hasAIGenerations:c,showUnlimitedContent:d,priceBook:l,isTooltipOpen:"AiRemoveBackground"===t,setIsTooltipOpen:e=>a(e?"AiRemoveBackground":null),isAiEditable:h}),(0,is.jsx)(Fn.A,{asset:e,hasAIGenerations:c,showUnlimitedContent:d,priceBook:l,isTooltipOpen:"ModifyWithAi"===t,setIsTooltipOpen:e=>a(e?"ModifyWithAi":null),isAiEditable:h})]});return(0,is.jsxs)("div",{className:Cn.A.container,"data-testid":"actions-container",children:[(0,is.jsxs)("div",{className:Cn.A.defaultActions,children:[(0,is.jsx)(Nn,{asset:{id:n,...e}}),(0,is.jsx)(jn,{asset:{id:n,...e}}),m]}),g]})}),"tools_panel_top");const Bn=({caption:e})=>(0,is.jsx)("figcaption",{className:ki,"data-testid":"figcaption",children:e});Bn.defaultProps={caption:""};var Wn=Bn,zn=()=>({singleDownload:(e,t)=>{(window.tracking_data||{}).download_type="comp download",J.singleDownload(e,t)},setZoomStatus:e=>{(window.tracking_data||{}).adp_is_zoomed=e},setUiElementLocation:e=>null==window.combinedGtmTracking?null:window.combinedGtmTracking.setUIElementLocation(e),setAssetDetailTrackingData:(e,t)=>{const a=window.tracking_data||{};a.asset_details||(a.asset_details={}),a.asset_details[e]=t},setTrackingDataElement:(e,t)=>{(window.tracking_data||{})[e]=t}});var Hn=()=>{const[e,t]=(0,s.useState)(!1),a=zn(),i=()=>{e?(t(!1),a.setZoomStatus(void 0),document.querySelector("body").classList.remove("modal-visible")):(t(!0),a.setZoomStatus("zoom"),document.querySelector("body").classList.add("modal-visible"))},n=t=>{e&&"Escape"===t.key&&i()};return(0,s.useEffect)((()=>(window.addEventListener("keyup",n),()=>{window.removeEventListener("keyup",n)})),[e]),{open:e,toggleModal:i,sendDownloadCompTracking:()=>{var e;const t=(0,q.A)({asset_details:null===(e=window.tracking_data)||void 0===e?void 0:e.asset_details,download_method:"comp",is_eps:!1});(0,_.C)(t),a.singleDownload("comp")}}};const Gn=({asset:e,userDetails:t,showLoadingErrorMessage:a,handleLoadingErrorDismissal:n})=>{const{showImageEditor:r}=(0,vs.A)(),{isImage:l,is360Image:c,isFilm:d,experiences:_}=e,{open:u,toggleModal:p,sendDownloadCompTracking:m}=Hn(l,_),h=(0,o.d4)((e=>e.postDownloadOnboarding)),g=(0,o.d4)((e=>e.metaTags.seoFigCaption)),C=i().useRef(null),[E,w]=(0,s.useState)({width:0,height:0});(0,s.useEffect)((()=>{C.current&&w({width:C.current.offsetWidth,height:C.current.offsetHeight})}),[]);const v=yi,S=Ts()(ji,{[Ri]:"Horizontal"===e.orientation});return r?(0,is.jsx)(Bs.A,{imagePath:e.galleryHighResCompUrl,assetId:e.assetId,initialDimensions:E}):(0,is.jsxs)("section",{className:Ts()(Di,d?S:v),"data-testid":"asset-card",ref:C,children:[h&&(0,is.jsx)(Hi,{}),(0,is.jsx)(Hs,{showLoadingErrorMessage:a,handleLoadingErrorDismissal:n}),(0,is.jsx)(Mn,{asset:e,userDetails:t}),(0,is.jsx)(Ms,{asset:e,show:u,closeModal:p,trackClick:m}),(0,is.jsxs)("figure",{role:"figure",children:[(0,is.jsx)(Ai,{asset:e,trackClick:m,toggleModal:p}),(0,is.jsx)(Wn,{caption:g}),(0,is.jsx)(Fi,{show:l&&!c,toggleModal:()=>p()})]})]})};var Vn=(0,s.memo)(Gn);const Yn=({descriptionContent:e,editorialImage:t})=>{const a=(0,Os.c)(),s=(0,o.d4)((e=>e.mobileSimplification)),i=(0,Gi.Y)(),n=e&&e.match(/[^\x00-\x7F]+/g),r=["ko","vi"].includes(i),l=n&&n.length>0;return!r||l?t?(0,is.jsx)("section",{className:"editorial-caption","data-testid":"editorial-description-content",children:e}):e?(0,is.jsx)("section",{className:"description "+(s?"simplification-test-margin":""),children:(0,is.jsxs)("div",{className:"section-content",children:[s?(0,is.jsx)("p",{className:"description-header",children:a("file_description")}):(0,is.jsx)("h2",{children:a("file_description")}),(0,is.jsx)("p",{"data-testid":"description-content",children:e})]})}):null:null};var Kn=Yn;Yn.defaultProps={descriptionContent:null};var $n=a(7266),qn=a(29452),Jn={searchBar:"Tfz2TGD82STf7R6UpfPc"};const Qn=(0,$n.A)("search_bar","./SearchBar");var Zn=()=>{const e=((e,t)=>({options:{hideOnScroll:!0,mobileMediaFilter:!0,peekyScroll:!0},searchParameters:{assettype:t||e.assetType,assetfiletype:e.isVector?"eps":null,family:e.assetFamily}}))((0,o.d4)((e=>e.asset)),(0,o.d4)((e=>e.searchScope))),t=(0,us.Jd)(),a=(0,qn.Z)();return(0,is.jsx)("div",{className:Jn.headerSearchBar,children:(0,is.jsx)(Qn,{config:e,user:t,siteName:a.nickname,locale:t.locale})})},Xn=a(21609),er="UoALWQ90Q3abTzfxHYA4",tr="kiF1ERA25iBulfkeA2RH";var ar=({show:e})=>{const t=(0,Os.c)();return e?(0,is.jsx)("div",{className:er,"data-testid":"istock-exclusive",children:(0,is.jsx)("span",{className:tr,children:t("only_from_istock")})}):null},sr="U0QAixDdezN2ssj131uy",ir="x8wPOfs4tCJPGjn4Qkbo",nr="xK0cpH1ZT3qYtRbvkl99",rr="Bez0nq4IPLfbrOzuvZZE",or="Ah4WgIQNM_jGg7mlwBZ0",lr="pJvS4Uw7WV6omszWW76f";var cr=({show:e,keywords:t})=>{return e?(0,is.jsx)("div",{className:nr,children:e&&(0,is.jsx)("h2",{"data-testid":"keywords",children:(a=t,a.slice(0,5).map((e=>e.text)).join(", "))})}):null;var a};var dr=({asset:e})=>{const t=(0,Os.c)(),{title:a,keywords:i,isImage:n,isIllustration:r,isFilm:o,isIstockExclusive:l,filmDefinition:c}=e,[d,_]=(0,s.useState)(!1),u=(0,Xn.h)(t,c);return(0,is.jsxs)("section",{className:sr,"data-testid":"asset-title",children:[(0,is.jsxs)("div",{className:rr,children:[l&&(0,is.jsx)("div",{className:lr,"data-testid":e.assetId,children:(0,is.jsx)(ar,{show:l})}),(0,is.jsxs)(ti.Ay,{component:ti.QY.H1,variant:ti.PT.body.large,"data-asset-id":e.assetId,className:or,children:[a?r?t("attributes.seo_title_illustrations",{title:a}):n?t("attributes.seo_title_photos",{title:a}):o?t("seo_film_title",{title:a,film_definition:u}):a:"",!d&&(0,is.jsx)("button",{type:"button",className:ir,title:t("see_full_title"),onClick:()=>_(!0),children:(0,is.jsx)("span",{children:"..."})})]})]}),(0,is.jsx)(cr,{show:d,keywords:i})]})},_r=a(75133),ur="pdg7g3UG49eFBtbMMdZw",pr="eEOt6ZGqipFaNm2I3TDc",mr="qCXzjdeh_ml_vY5fqTVQ",hr="P8J2KpxsMpYv4bU0urGP",gr="Bx9VgqugdY7mJ3NiMBPl",Cr="R5LqjvYFPXqMWgYhXQvA",Er="CEdBaudkkfTLYIVfna6j",wr="vMo8CFNGGdoAizNcsh0D";var vr=({category:e})=>{const t=(0,ps.Z)();return(0,is.jsx)("a",{onClick:()=>{const a=(0,_r.j)({event_name:"search_by_category",search_selection:e.text,ui_element_location:"category_list"});(0,_.C)(a),t.sendAdpCategoryBrowseClickSignal()},className:wr,"data-testid":"categoryPill",href:e.href,itemType:"http://schema.org/relatedLink",children:e.text})};var Sr=()=>{const e=(0,o.d4)((e=>{var t;return null===(t=e.categories)||void 0===t||null===(t=t.categoriesView)||void 0===t||null===(t=t.matchingInspirePages)||void 0===t||null===(t=t._tail)||void 0===t?void 0:t.array}))||[],t=(0,o.d4)((e=>{var t;return null===(t=e.categories)||void 0===t?void 0:t.showRelated}))||!1,a=(0,o.d4)((e=>{var t;return null===(t=e.categories)||void 0===t||null===(t=t.relatedCategories)||void 0===t||null===(t=t._tail)||void 0===t?void 0:t.array}))||[],s=(0,o.d4)((e=>e.asset)),i=(0,Os.c)(),n=t?[...e,...a]:e,r=(()=>{if(0===n.length)return[];return n.map((e=>(0,is.jsx)("li",{className:Er,children:(0,is.jsx)(vr,{category:e})},e.text)))})();return r.length>0?(0,is.jsx)("section",{className:Ts()(ur),"data-testid":"inspire-page-list",children:(0,is.jsxs)("div",{className:Ts()(hr,{[pr]:s.isImage,[mr]:s.isFilm}),children:[(0,is.jsx)("h2",{className:gr,children:i("categories_no_colon")}),(0,is.jsx)("ul",{className:Cr,children:r})]})}):null};const Nr=({errorType:e})=>{const t=(0,Os.c)();return e?(0,is.jsx)("section",{className:"error",children:(0,is.jsx)("div",{className:"error-bar",children:(0,is.jsx)("span",{children:t("download_failed")})})}):null};Nr.defaultProps={errorType:null};var Ir=Nr,Tr=a(79198),fr=a(24128),Ar="ov7hidRfj6r17Xo7kOum",br="O5qkceU1kn1uYV6Mm03A",xr="n8gnpe9sVSlKqgA_16qm",Or="zmTx1zA9omVOPG4h0sP2",Dr="YeOmFF70dJQ0KqaLlzN1",yr="XoqGbbLH7NbLfbQSyVFs",jr="uxSwFOww6uMkAE3ycR35",Pr="d8jDIwL6fQGL6g5Pa7pb",Rr="nPIzDdpXYYh0blbGv1Pg",kr="F4h4tj92VxhM6ZFT1J2Z";var Lr=({keyword:e})=>{const t=(0,Os.c)(),a=(0,Tr.m)(),s=(0,us.Jd)(),i=(0,fr.Cz)(),n=(0,o.d4)((e=>e.asset.assetType)),r=(0,o.d4)((e=>e.asset.mediaType));let l=t("photos"),c=null;"film"===n&&(l=t("videos")),"illustration"!==r&&"photo_and_illustration"!==r||(l=t("illustrations"),c="illustration");const d=e.text.replace(l,"").trim(),u={assettype:n,phrase:d,mediatype:c},p=i.seoSearchPath(u);return(0,is.jsxs)("a",{onClick:()=>{a.prepareEvent("search",{element_location:"keyword_button_adp",search_tools:"ADP_Keyword_Browse_Click"});const e=(0,_r.j)({event_name:"search_by_keyword",search_selection:d,ui_element_location:"keyword_list"});(0,_.C)(e)},className:Pr,href:p,"data-search-bot":s.isBot?"Bot":"NotBot","data-search-link":"film"===n?"FilmKeywordLink":"KeywordLink",itemType:"http://schema.org/relatedLink",children:[e.text,(0,is.jsx)("span",{className:Rr,children:","})]})};var Fr=()=>{var e;const t=(0,Os.c)(),a=(0,o.d4)((e=>e.keywordsView)),i=a?null==a||null===(e=a.list)||void 0===e?void 0:e.toArray():[],[n,r]=(0,s.useState)(!1),l=(0,o.d4)((e=>e.asset)),c=e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r(!0))},d=()=>{if(0===i.length)return[];const e=i.map(((e,t)=>{const a=(0,is.jsx)("li",{className:jr,children:(0,is.jsx)(Lr,{keyword:e})},e.text);return!n&&t>=18?null:a}));if(!n){const a=(0,is.jsx)("li",{className:jr,children:(0,is.jsx)("div",{"data-testid":"show-all-button",role:"button",tabIndex:0,className:kr,onKeyDown:c,onClick:()=>r(!0),children:t("see_all_keywords")})},"show-all");e.push(a)}return e};return i.length>0?(0,is.jsx)("section",{className:Ar,"data-testid":"keyword-list",children:(0,is.jsxs)("div",{className:Ts()(Or,{[br]:l.isImage,[xr]:l.isFilm}),children:[(0,is.jsx)("h2",{className:Dr,children:t("keywords")}),(0,is.jsx)("ul",{className:yr,children:d()})]})}):null},Ur=a(59192),Mr="f9aaG6PqBGm15lt0zhS4",Br="Qy1Q9JW1QHFAUwgwD9Fq",Wr="azxlQqzbRECAOMCrIiR4",zr="vFAy5w684KCLQQzgVz_d",Hr="hqcXtEwQxyYK4SihvtMI",Gr="qjVPniXhZIZgddFIswnK",Vr="FGGm7tPf4ZjbykwRd2QU",Yr="QzTsMClEiL1JbmP3GFci",Kr="JOIvcAEOMKEcZUQ45C9U",$r="nfx40gwvPmIGqFhbpuxN",qr="Rixk6XimcuoPryIUe2hM",Jr="rjYS_O606BS_7EhsmDUX";var Qr=()=>{var e;const t=(0,Os.c)(),a=(0,us.Jd)(),s=(0,Ds.F)(),i=(0,fr.Cz)(),n=(0,o.d4)((e=>e.asset.keywords)),r=(0,o.d4)((e=>e.asset.assetType)),l=(0,o.d4)((e=>e.asset.category)),c=(0,o.d4)((e=>e.asset.mediaType)),d=null==n||null===(e=n.first())||void 0===e?void 0:e.text,_={assettype:r,phrase:d};"illustration"===c&&(_.mediatype=c);const u=`<a href=${i.searchPath(_)}>${d}</a>`,p=n.size>0?t("rf_licenses_features",{keyword_link:u}):t("rf_licenses_features_no_link"),m=t("rf_licenses_best_option",{links:[{href:s.photos()},{href:s.illustrations()},{href:s.video()}]}),h=n.size>0?t("rf_possibilities",{keyword_link:u}):t("rf_possibilities_no_link"),g={links:[{href:s.royaltyFreeImages()},{href:s.faqUsingFiles(l)}]},C=t((e=>{switch(e){case Ur.A.ILLUSTRATIONS:return"learn_more_about_faq_illustrations";case Ur.A.VIDEOS:return"learn_more_about_faq_videos";default:return"learn_more_about_faq_photos"}})(l),g);return a.isBot||a.isFirstTimeVisitor?(0,is.jsx)("section",{className:Mr,children:(0,is.jsx)("div",{className:Ts()(zr,{[Br]:"image"===r,[Wr]:"film"===r}),children:(0,is.jsxs)("div",{className:Hr,children:[(0,is.jsx)("h2",{className:Gr,children:t("frequently_asked_questions_capitalized")}),(0,is.jsx)("hr",{className:Vr}),(0,is.jsxs)("dl",{className:$r,children:[(0,is.jsx)("dt",{className:qr,children:t("what_is_a_rf_license")}),(0,is.jsx)("dd",{className:Jr,children:(0,is.jsx)(ys.A,{children:p})}),(0,is.jsx)("dt",{className:qr,children:t("what_kinds_rf_files_istock")}),(0,is.jsx)("dd",{className:Jr,children:(0,is.jsx)(ys.A,{children:m})}),(0,is.jsx)("dt",{className:qr,children:t("how_to_use_rf_assets")}),(0,is.jsx)("dd",{className:Jr,children:(0,is.jsx)(ys.A,{children:h})})]}),(0,is.jsx)("hr",{className:Yr}),(0,is.jsx)("p",{className:Kr,children:(0,is.jsx)(ys.A,{children:C})})]})})}):null},Zr=a(9975);const Xr=(e,t)=>e.filter((e=>e.id!==t)),eo=e=>e.map((e=>new Promise((t=>{const a=new Image;a.onload=()=>{t(a)},a.onerror=()=>{t()},a.src=e.thumb612Url||e.thumbUrl})))),to=e=>Promise.all(e).then((e=>e.filter((e=>e))));var ao=a(65235),so=a(71432);const io=e=>{(0,_.C)(e)},no=(e,t,a)=>{e.sendItemSelectedSignal("subfold",a,"view_all_grid"),t.prepareEvent("search",{ui_element_location:`view_all_${a}_overlay_adp`});const s=(0,_r.j)({event_name:`search_${a}`,search_selection:"view_all_asset_overlay_cta",ui_element_location:"mosaic_grid"});io(s)},ro=(e,t,a,s,i)=>{var n;const r=null!==(n=t.assetId)&&void 0!==n?n:t.id,o=(0,_r.j)({event_name:`${s}_click`,search_selection:r,ui_element_location:"mosaic_grid",search_grid_slot_number:a}),l=(0,so.A)({asset_interaction:"select_asset",asset_id:r,asset_type:"film"===t.assetType?"video":"image",asset_family:t.assetFamily,istock_collection:t.istockCollection,search_grid_slot_number:a,ui_element_location:i});var c;c=l,(0,_.C)(c),io(o),e.sendItemSelectedSignal("subfold",s,r)};var oo={placeholderHeight:"aLEuO4fxsjJa5wvHUfPX"},lo=a(37091);const co=(0,ao._h)({asyncImport:e=>Promise.resolve().then(a.bind(a,37091)),chunkName:e=>"MosaicGrid-MosaicGrid",options:{}}),_o=()=>(0,is.jsx)("div",{className:oo.placeholderHeight,"data-testid":"mosaic-grid-placeholder"});var uo=(0,Ui.A)((({increaseGridCounter:e,addTrackedGrid:t})=>{const a=(0,Os.c)(),i=(0,ps.Z)(),n=(0,Tr.m)(),{assetId:r,assetType:l,isImage:c,stackId:d}=(0,o.d4)((e=>e.asset)),[_,u]=(0,s.useState)(null);(0,s.useEffect)((()=>{const a={id:r,stackId:d,assettype:l,pagesize:5};let s=!0;return d&&(e(),async function(e){try{const t=await I().get(`/asset-detail/mosaics/get-stack/${e.stackId}?assettype=${e.assettype}&pagesize=${e.pagesize}`,{headers:{Accept:"application/json"}}),a=Xr(t.data.assets,e.id),s=eo(a),i=to(s);return{assets:(await i).slice(0,e.pagesize-1).map(((e,t)=>({...a[t],image:e.src}))),totalNumberOfResults:t.data.totalNumberOfResults}}catch(e){return{assets:[],totalNumberOfResults:0}}}(a).then((e=>{if(s){var a;u(e);const s=c?"same_series_images":"same_series_videos";(null==e||null===(a=e.assets)||void 0===a?void 0:a.length)>0?t(s):t(null)}})).catch((e=>{}))),()=>{s=!1}}),[]);return(0,is.jsx)(is.Fragment,{children:d&&0!==(null==_?void 0:_.assets.length)?_?_.assets.length>0?(0,is.jsx)(co,{data:_,isImage:c,containerStyles:oo,header:a(c?"same_series_images":"same_series_videos"),linkText:a(c?"view_all_photos":"view_all_video_clips"),viewAllUrl:`/search/stack/${d}?assettype=${c?"image":"film"}`,overlayText:a(c?"photos":"videos"),tracking:(p="same_series_"+(c?"images":"videos"),{trackViewAllOverlay:()=>{no(i,n,p)},trackAssetClick:(e,t,a)=>{ro(i,e,t,p,a)}}),inGridCount:4,gridType:lo.MOSAIC_GRID_TYPES.SINGLE_ROW}):null:(0,is.jsx)(_o,{}):null});var p}),"similar_series"),po={placeholderHeight:"dyci2fKWjtOQxtrC3X46"};const mo=(0,ao._h)({asyncImport:e=>Promise.resolve().then(a.bind(a,37091)),chunkName:e=>"MosaicGrid-MosaicGrid",options:{}}),ho=()=>(0,is.jsx)("div",{className:po.placeholderHeight,"data-testid":"mosaic-grid-placeholder"});var go=(0,Ui.A)((({increaseGridCounter:e,addTrackedGrid:t})=>{const a=(0,Os.c)(),i=(0,ps.Z)(),n=(0,Tr.m)(),r=(0,fr.Cz)(),{assetId:l,assetType:c,mediaType:d,isImage:_}=(0,o.d4)((e=>e.asset)),u=(0,o.d4)((e=>e.searchPhrase)),p=(0,o.d4)((e=>e.searchScope)),[m,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{const a={assetid:l,assettype:c,mediatype:d};u&&"image"===c&&(a.phrase=u);let s=!0;return e(),async function(e){try{const t=Zr.A.appendQueryParamsToString("/asset-detail/mosaics/visual-search",e),a=await I().get(t,{headers:{Accept:"application/json"}}),s=Xr(a.data.assets,e.id),i=eo(s),n=to(i);return{assets:(await n).map(((e,t)=>({...s[t],image:e.src}))),totalNumberOfResults:a.data.totalNumberOfResults}}catch(e){return{assets:[],totalNumberOfResults:0}}}(a).then((e=>{if(s){h(e);const a=_?"similar_images":"similar_videos";(null==e?void 0:e.assets.length)>0?t(a):t(null)}})),()=>{s=!1}}),[]);const g=e=>({trackViewAll:()=>{((e,t,a)=>{e.sendItemSelectedSignal("subfold",a,"view_all"),t.prepareEvent("search",{ui_element_location:`view_all_${a}_adp`});const s=(0,_r.j)({event_name:`search_${a}`,search_selection:"view_all_cta",ui_element_location:"mosaic_grid"});io(s)})(i,n,e)},trackViewAllOverlay:()=>{no(i,n,e)},trackAssetClick:(t,a,s)=>{ro(i,t,a,e,s)}});return(0,is.jsx)(is.Fragment,{children:m?m.assets.length>0?(0,is.jsx)(mo,{data:m,isImage:_,containerStyles:po,header:a(_?"similar_images":"similar_films"),linkText:a(_?"view_all_photos":"view_all_video_clips"),viewAllUrl:r.moreLikeThisPath(l,null,{assettype:c}),overlayText:a(_?"similar_images":"similar_films"),tracking:g(_?"similar_images":"similar_videos"),inGridCount:30,gridType:lo.MOSAIC_GRID_TYPES.MULTI_ROW,searchScope:p}):null:(0,is.jsx)(ho,{})})}),"similar_assets"),Co="cDB0XfdgBlHwrSf1wGRq";var Eo=()=>{const[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(0),n=()=>{i((e=>e+1))},r=e=>{t((t=>[...t,e]))};return(0,s.useEffect)((()=>{if(a>0&&e.length===a){(e=>{const t=(0,_r.j)({event_name:"search_grid_shown",search_selection:e,ui_element_location:"mosaic_grid"});io(t)})(e.filter((e=>null!==e)).join(","))}}),[e]),(0,is.jsxs)("section",{className:Co,children:[(0,is.jsx)(uo,{increaseGridCounter:n,addTrackedGrid:r}),(0,is.jsx)(go,{increaseGridCounter:n,addTrackedGrid:r})]})},wo=a(30134);const vo=function(e,t,a=!0,s=null){let i,n;if("checkout"===t)n=a?"?":"&";else{n=e.search(/\?/)<0?"?":"&"}return i=s?`fastcheckoutasset=${s}`:"in-pricing-clarity=true",e+=n+i};var So={getPricingUrl:(e,t=!0)=>vo(e,"pricing",t),getCheckoutUrl:(e,t=!0,a=null)=>vo(e,"checkout",t,a)},No=a(82171),Io=a(85385),To=a(69825),fo=a(59816);var Ao=()=>{const e=(0,In.A)(),t=(0,o.d4)((e=>e.calc.selectedAssetSize)),a=(0,o.d4)((e=>e.calc.step.name)),s=(0,o.d4)((e=>e.calc.step.ctaAction)),i=(0,o.d4)((e=>e.calc.step.ctaTitle)),n=(0,o.d4)((e=>e.calc.step.triggerTracking)),r=(0,o.d4)((e=>e.calc.step.pricingOption)),l=(0,o.d4)((e=>e.buyCardData.pricingClarityPacks)),c=null==l?void 0:l[r],{assetId:d,assetType:u,assetFamily:p,category:h,freeFile:g}=(0,o.d4)((e=>e.asset)),C=(0,o.d4)((e=>e.calc.selectedAccount===re.TEAM)),E=(0,o.d4)((e=>e.userDetails.team_leader)),w=(0,o.d4)((e=>e.userDetails.team_member)),v=(0,o.d4)((e=>e.calc.step.upsellData)),S=(0,o.d4)((e=>e.userDetails.currency_code)),N=(0,o.d4)((e=>e.calc.redownloadForFree)),I=(t=null)=>{var a,s,i;let n;if(n=t===(null==v||null===(a=v.product_one)||void 0===a?void 0:a.sku)?v.product_one:t===(null==v||null===(s=v.product_two)||void 0===s?void 0:s.sku)?v.product_two:c,!n)return;const r={...n.toJS(),location_id:e},o=(0,No.A)({products:[r],download_flow:"fast_checkout_option",ui_element_location:e,billing_currency:S||n.currency_code,price:null===(i=n.final_price)||void 0===i?void 0:i.amount});(0,_.C)(o)};return{track:()=>{let i=null;switch(s){case at.INITIATE_DOWNLOAD:i=(0,Tn.A)({cta_selection:g?"start_free_download":"start_paid_download",cta_text:"Download this image",cta_url:void 0,download_flow:g?"no_checkout_option":"no_checkout_option_pnp_redirect",ui_element_location:e});break;case at.HANDLE_ACCOUNT_SELECTION:i=(0,Io.A)({event_name:"choose_account",member_interaction:"choose_account",member_selection:C?"team_account":"personal_account",ui_element_location:e});break;case at.REDIRECT_TO_CHECKOUT_WITH_FREE_TRIAL:i=(0,To.A)({event_name:"view_promotion",notification_description:"free_trial_sub",ui_element_location:"mobile_cta",item_id:"SUBISTOCKPREM10AF",creative_name:"mobile_cta",item_name:"istock_free_trial_subscription",item_category:"subscription"});break;case at.CREATE_DOWNLOAD:i=(0,fo.A)({asset_details:{asset_id:d,asset_type:u,asset_family:p,asset_category:h,asset_size:t.name},download_selection:N?"redownload":g?"free_download":"paid_download",account_type:E?"leader":w?"team_member":"individual",download_flow:"download_confirm",ui_element_location:a===m.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP?"download_actions_licenses":"download_actions"});break;case at.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:case at.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:case at.REDIRECT_TO_CHECKOUT:I()}null!=i&&(0,_.C)(i),n&&n()},trackCheckoutProduct:I,preserveAdpToPnpLegacyTracking:e=>{"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point",e)},trackPlansAndPricingCtaClick:t=>{const a=(0,Tn.A)({cta_interaction:"view_plans_and_pricing_cta_clicked",cta_selection:"view_plans_and_pricing",cta_text:i,cta_url:t,download_flow:"pnp_checkout_option",ui_element_location:e});(0,_.C)(a)}}};var bo=()=>{const e=(0,Os.c)(),t=(0,Ds.F)(),a=Ao(),i=(0,o.wA)(),n=(0,o.d4)((e=>e.redirectToUrl)),r=(0,o.d4)((e=>e.calc.isInPricingClarity)),l=(0,o.d4)((e=>e.calc.assetIsVideo)),c=(0,o.d4)((e=>e.calc.hasAvailableCredits)),d=(0,o.d4)((e=>e.calc.step.name)),_=(0,o.d4)((e=>e.calc.step.pricingOption)),u=(0,o.d4)((e=>e.calc.step.showPricingClarity)),p=(0,o.d4)((e=>e.calc.step.viewLicenseSelection)),m=(0,o.d4)((e=>e.userDetails.fast_checkout_subs_pack_sku)),h=(0,o.d4)((e=>e.userDetails.fast_checkout_subs_annual_pack_sku)),g=(0,o.d4)((e=>e.userDetails.istock_fast_checkout_larger_offer_credit_pack_sku)),C=(0,o.d4)((e=>e.userDetails.free_trial_premium_route)),E=(0,o.d4)((e=>e.userDetails.premium_video_subscription_enabled)),w=(0,o.d4)((e=>e.userDetails.standard_asset_credit_pack)),v=(0,o.d4)((e=>e.userDetails.country_code)),S=(0,o.d4)((e=>e.userDetails.has_subscription)),N=(0,o.d4)((e=>e.asset.assetId)),I=(0,o.d4)((e=>e.buyCardData.mubRedirectUrl)),T=(0,o.d4)((e=>e.buyCardData.basicSelfServeUpgrade)),f=(0,o.d4)((e=>e.buyCardData.enhancedPPVUpgrade)),A=(0,o.d4)((e=>e.buyCardData.higherVolumeSelfUpgrade)),b=(0,o.d4)((e=>e.buyCardData.singleTierPremiumNewCustomerOffer)),x=(0,o.d4)((e=>e.buyCardData.pricingClarityPacks)),O=(0,wi.useExperience)("PnpVideoFocusTest"),D=a=>{if(a===I||a.includes("sign-in"))return a;const s=`/${e(a)}`;return(a=>/(.*)JS translation missing(.*)/.test(a)?t.cleanPath(e("urls.plans_and_pricing")):a)(t.cleanPath(s))},y=()=>O.isActive()&&l?(e=>{const t=D(e);return Zr.A.appendQueryParamsToString(t,{videofocus:!0})})(n):D(n),j=e=>window.location.href=e;(0,s.useEffect)((()=>{n&&j(y())}),[n]);const P=()=>{var e;return _===At.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK?g:null!=w&&w.product_sku?w.product_sku:null==x||null===(e=x[_])||void 0===e?void 0:e.product_sku},R=()=>r&&u&&!p,k=()=>D(Aa.annualSelfUpgradeRoute),L=()=>{const e=P(),a=t.creditPackCheckout(e,{asset_type:"film"});return t.cleanPath(So.getCheckoutUrl(a,!1,N))},F=e=>{const a=t.addSubscription(e,{upgrade:!0});return t.cleanPath(So.getCheckoutUrl(a,!1,N))},U=()=>D(Aa.pnpCreditsRoute),M=()=>"/customer-support/upgrade",B=()=>{let e=D(Aa.getPricingRoute(l));return R()&&!E?e=t.cleanPath(So.getPricingUrl(e)):O.isActive()&&"TestA"===O.activeOffer()&&l&&!c&&!S?e=D(Aa.videoPnpRoute):T.eligible||f.eligible||A.eligible?e=U():!l&&St.inGeoLocPricingTest(v)&&(e=D(Aa.defaultPnpRoute)),O.isActive()&&l&&!c&&!S?e=Zr.A.appendQueryParamsToString(e,{videofocus:!0}):l&&c&&!S&&(e=D(Aa.videoPnpSubsRoute)),e};return{redirectToPricing:()=>{const e=B();return _===At.PRICING_OPTION_PRICING&&"PICK_PRICING_CLARITY_PAYMENT_OPTION"===d&&a.preserveAdpToPnpLegacyTracking("adp-subscription"),a.trackPlansAndPricingCtaClick(e),j(e)},redirectToFastCheckoutWithSubscription:()=>{const e={};let a=!0;b&&(e.premNco=!0,a=!1);let s=t.addSubscription(m,e);return s=t.cleanPath(So.getCheckoutUrl(s,a,N)),j(s)},pnpCreditsUrl:U,ppvUpgradeContactUsUrl:M,pricingUrl:B,fastCheckoutUrl:L,fastCheckoutWithUpgradeUrl:F,redirectToFastCheckoutWithUpgrade:e=>{const t=F(e);return a.trackCheckoutProduct(e),j(t)},redirectToFastCheckoutWithAnnualPack:()=>{let e=t.addSubscription(h);return e=t.cleanPath(So.getCheckoutUrl(e,!0,N)),j(e)},redirectToCheckout:()=>{let e;const s=P();return a.preserveAdpToPnpLegacyTracking("adp-creditPack"),e=t.creditPackCheckout(s),R()&&(e=t.cleanPath(So.getCheckoutUrl(e,!0,N))),j(e)},redirectToCheckoutWithFreeTrial:()=>j(C?t.addFreeTrial({premium:!0,ftsfastcheckout:!0}):t.addFreeTrial({ftsfastcheckout:!0})),handleAccountSelection:()=>i(Ne.goToNextStep()),redirectToCreditPacks:()=>{const e=Aa.getCreditsPricingRoute(l),t=D(e);return j(t)},translateCleanAndValidatePath:D,redirectToFastCheckout:()=>j(L()),redirectToUrlFromState:()=>{j(y())},redirectToPPVUpgradeContactUs:()=>j("/customer-support/upgrade"),selfServeUpgradeUrl:k,redirectToSelfServeUpgrade:()=>j(k()),higherVolumeUpgradeRedirectUrl:()=>`${t.cleanPath("/plans-and-pricing/self-serve")}?target=volume&assetcarryingpnp=true`,upgradePlanRedirectUrl:()=>`${t.cleanPath("/plans-and-pricing/self-serve")}?target=premium&assetcarryingpnp=true`}};function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},xo.apply(null,arguments)}var Oo=({styles:e={},...t})=>i().createElement("svg",xo({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10 19.5C4.776 19.5.5 15.224.5 10S4.776.5 10 .5s9.5 4.276 9.5 9.5-4.276 9.5-9.5 9.5z",fill:"#fff",stroke:"#AEDDD6"}),i().createElement("path",{d:"M9.145 5v5.922h1.71V5h-1.71zM11 13.094c0-.558-.436-.927-.994-.927-.56 0-1.006.369-1.006.927 0 .559.447.939 1.006.939.558 0 .994-.38.994-.939z",fill:"#02A388"})),Do="s7zJ6flazXeb0i1UtVug",yo="YpbZgjd7r4dFQ5htn7BP",jo="MT19e4f4g7osxjGa14ce",Po="KW3Kdz6_SS6SmSmR7bul",Ro="nvLTNVscW2f7ZO2VzdSQ";function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ko.apply(null,arguments)}var Lo=({styles:e={},...t})=>i().createElement("svg",ko({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10z",fill:"#666E6E"}),i().createElement("path",{d:"M10 12.4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm.6-1.2H9.4L8.7 7V4.8c0-.1.1-.2.2-.2H11c.1 0 .2.1.2.2V7l-.6 4.2z",fill:"#fff"})),Fo=a(86583),Uo="e4wiKtVSGO_8Jm8QnhHl",Mo="aiBo2I8GKiFYKvA1MS3w",Bo="dHYSF5dr9VZc4DurQWPN",Wo="IOvPEbM1g30GyUL4pXD4",zo="QKxLIZgNOzKPzIPrhX_Y",Ho="ERyIVRSgtC1MXTTeboU6",Go="sbHky8ZLIEpFcKZvtRQl",Vo="zjAhVEAOetjA2NRWwVIg",Yo="Pz6NQQghsn_UJ_dpKKzd",Ko="ceQbTDLlCsDJV1l1OKbn";var $o=(0,Ui.A)((({onReasonForWarningClick:e,handleReasonForWarningClick:t,handleAdditionalInfoWarningClick:a,handleAdditionalInfoWarningKeyDown:s,warningCtaClicked:i})=>{const n=(0,Os.c)(),r=(0,Gi.Y)(),l=(0,o.wA)(),c=(0,o.d4)((e=>e.calc.step.reasonForBox)),d=(0,o.d4)((e=>e.calc.step.warningCta)),_=(0,o.d4)((e=>e.userDetails)),u=(0,o.d4)((e=>e.calc.step.persistentWarning)),p=(0,o.d4)((e=>e.calc.step.premiumVideoEnabled)),m=(0,o.d4)((e=>e.calc.step.userHasAnnualSubscription)),h=(0,o.d4)((e=>e.calc.step.reasonForBoxLink)),g=(0,o.d4)((e=>e.calc.step.additionalInfoHtml)),{translateCleanAndValidatePath:C}=bo(),E=()=>{l(Ne.closeDownloadErrorMessage())};return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsxs)("section",{className:Uo,children:[!u&&(0,is.jsx)("div",{className:`adp-file-cancel-button-wrapper ${Mo}`,"data-testid":"warning-box-close",children:(0,is.jsx)("div",{role:"button",tabIndex:0,className:"adp-confirm-close-btn",onClick:E,onKeyDown:e=>{"Enter"===e.key&&E()}})}),(0,is.jsx)("div",{className:jo,children:(0,is.jsxs)("div",{role:"button",tabIndex:0,onClick:e,onKeyDown:t,className:`title ${zo}`,"data-testid":"reason-for-warning",children:[(0,is.jsx)("div",{className:`${Bo} ${m?Wo:""}`,children:(0,is.jsx)(Lo,{className:Ro})}),(0,is.jsx)("div",{children:(0,is.jsx)(ys.A,{children:(()=>{const e={};h&&(e.links=[{href:C(h),id:"reason-for-warning"}]);return n(p?m?"video_not_available_with_annual_subscription_test_group":"video_not_available_with_monthly_subscription_test_group":c,e)})()})})]})})]}),(0,is.jsx)("section",{className:Yo,"data-testid":"warning-box",children:(0,is.jsxs)("div",{className:`download-box ${Ko}`,"data-testid":"warning-box-warning",children:[(0,is.jsx)("div",{className:`warning-message ${Vo}`,"data-testid":"warning-message",onClick:a,onKeyDown:s,children:(0,is.jsxs)("div",{children:[(0,is.jsx)("span",{className:Go,children:(()=>{const e=(()=>{let e=g.translationVariables.credit_amount;const t=null==_?void 0:_.standard_asset_credit_pack;return t&&void 0!==t.price&&(e=(0,Fo.v)(t.price,r,_.currency_code,{minimumFractionDigits:0}).formattedPrice),e})();return n("amount_for_clip",{clip_amount:e})})()}),(0,is.jsx)("br",{}),(0,is.jsx)("span",{className:Ho,children:(()=>{const e={credit_units:g.translationVariables.credit_cost};return n("when_you_buy_credits",e)})()})]})}),d&&(0,is.jsxs)("div",{className:`warning-cta ${d.ctaClass}`,"data-testid":"warning-cta",children:[d.url&&(0,is.jsx)("a",{className:"warning-cta__text",href:d.url,onClick:i,"data-testid":"warning-cta-url",children:`${n(d.tag)} >`}),!d.url&&(0,is.jsx)("span",{className:"warning-cta__text",children:n(d.tag)})]})]})})]})}),"test_user_warning_box");var qo=(0,Ui.A)((()=>{const e=(0,o.d4)((e=>e.calc.step.videoCreditPackFCO)),t=(0,o.wA)(),a=(0,Os.c)(),s=(0,o.d4)((e=>e.calc.step.warningClass)),i=(0,o.d4)((e=>e.calc.step.reasonForBox)),n=(0,o.d4)((e=>e.calc.step.reasonForBoxLink)),r=(0,o.d4)((e=>e.calc.step.warningMessageClass)),l=(0,o.d4)((e=>e.calc.step.warningCta)),c=(0,o.d4)((e=>e.calc.step.additionalInfoHtml)),d=(0,o.d4)((e=>e.calc.step.additionalInfoHtmlLink)),u=(0,o.d4)((e=>e.calc.step.persistentWarning)),p=(0,o.d4)((e=>e.calc.step.triggerTracking)),m=(0,o.d4)((e=>e.calc.step.lightBlueWarning)),{translateCleanAndValidatePath:h}=bo(),g=(0,In.A)(),C=()=>p(),E=(e,t)=>{const a=(0,Tn.A)({cta_interaction:"cta_clicked",cta_text:e,cta_url:t,ui_element_location:g,download_flow:"pnp_checkout_option"});(0,_.C)(a)},w=e=>{"reason-for-warning"===e.target.id&&C(),null!=n&&n.includes("urls.plans_and_pricing")&&E(i,h(n))},v=e=>{"Enter"===e.key&&C()},S=e=>{var t;if("A"===e.target.tagName&&null!=d&&null!==(t=d.href)&&void 0!==t&&t.includes("urls.plans_and_pricing")){const e=h(d.href);E(c.tag,e)}},N=()=>{const e={};return n&&(e.links=[{href:h(n),id:"reason-for-warning"}]),a(i,e)};return e?(0,is.jsx)($o,{onReasonForWarningClick:w,handleAdditionalInfoWarningClick:S,handleAdditionalInfoWarningKeyDown:S,handleReasonForWarningClick:v}):(0,is.jsxs)("section",{className:`download-box ${m?yo:""}`,"data-testid":"warning-box",children:[!u&&(0,is.jsx)("div",{className:"adp-file-cancel-button-wrapper","data-testid":"warning-box-close",children:(0,is.jsx)(Oi.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",onClick:()=>{t(Ne.closeDownloadErrorMessage())}})}),(0,is.jsxs)("div",{className:`box ${s}`,"data-testid":"warning-box-warning",children:[m?(0,is.jsxs)("div",{className:jo,"data-testid":"light-blue-warning",children:[(0,is.jsx)(Oo,{className:Ro}),i&&(0,is.jsx)("div",{role:"button",tabIndex:0,onClick:w,onKeyDown:v,className:`title ${Po}`,"data-testid":"reason-for-warning",children:(0,is.jsx)(ys.A,{children:N()})})]}):(0,is.jsxs)("div",{children:[(0,is.jsx)("div",{className:"error-icon"}),i&&(0,is.jsx)("div",{role:"button",tabIndex:0,onClick:w,onKeyDown:v,className:`title ${c?Do:""}`,"data-testid":"reason-for-warning",children:(0,is.jsx)(ys.A,{children:N()})})]}),c&&(0,is.jsx)("div",{className:`warning-message ${r}`,"data-testid":"warning-message",onClick:S,onKeyDown:e=>{"Enter"===e.key&&S()},children:(0,is.jsx)(ys.A,{children:(d&&(c.translationVariables.links=[{...Object.fromEntries(d),href:h(d.href)}]),a(c.tag,c.translationVariables))})}),l&&(0,is.jsxs)("div",{className:`warning-cta ${l.ctaClass}`,"data-testid":"warning-cta",children:[l.url&&(0,is.jsx)("a",{className:"warning-cta__text",href:l.url,"data-testid":"warning-cta-url",children:`${a(l.tag)} >`}),!l.url&&(0,is.jsx)("span",{className:"warning-cta__text",children:a(l.tag)})]})]})]})}),"warning_box"),Jo=a(62092),Qo=a(36750);const Zo=({postContent:e,className:t,preContent:a,checked:s,children:i,onChange:n,value:r,name:o,id:l})=>(0,is.jsxs)("div",{className:Ts()("purchase-choice",t,{"purchase-choice--selected":s,"radio-button-selected":s}),"data-testid":"radio-button",children:[(0,is.jsxs)("label",{htmlFor:l,children:[a,(0,is.jsxs)("div",{className:"purchase-choice__control",children:[(0,is.jsx)("div",{className:"radio-button",children:(0,is.jsx)("input",{onChange:()=>{n()},"data-testid":`radio-button--input__${l}`,type:"radio",value:r,name:o,id:l,checked:s})}),(0,is.jsx)("div",{children:i})]})]}),e&&e]});Zo.defaultProps={className:"",preContent:null,postContent:null,checked:!1,id:null,onChange:()=>{},value:null};var Xo=Zo;const el=({option:e,selectedPricingOption:t,selectPricingClarityOptionToggle:a})=>{const s=(0,o.d4)((e=>e.buyCardData.pricingClarityTranslations.firstRadioContent)),i=""!==s.sub_content,n=void 0!==(null==s?void 0:s.tertiary_content);return(0,is.jsx)(Xo,{onChange:()=>{t!==e&&a(e)},value:"checkout",checked:t===e,name:"purchase-choice",id:"firstRadio",children:(0,is.jsxs)("div",{className:"purchase-type",children:[(0,is.jsx)("div",{className:"purchase-type__text purchase-type--bold","data-testid":"first-radio-content",children:(0,is.jsx)(ys.A,{children:null==s?void 0:s.main})}),i&&(0,is.jsx)("div",{className:"purchase-type__sub-text purchase-type__sub-text--savings","data-testid":"first-radio-sub-content",children:(0,is.jsx)(ys.A,{children:null==s?void 0:s.sub_content})}),n&&(0,is.jsx)("div",{className:"purchase-type__ter-text","data-testid":"first-radio-tertiary-content",children:(0,is.jsx)(ys.A,{children:s.tertiary_content})})]})})};el.defaultProps={selectedPricingOption:null};var tl=el,al={badge:"MnOXttMlK_n19IlHSCSb"};const sl=({children:e,className:t})=>{const a=[al.badge,t].join(" ");return(0,is.jsx)("span",{className:a,children:e})};sl.defaultProps={className:""};var il=sl,nl="fLtti_CGCgXIeRSOaVJN",rl="IhFfZJcLdZfiZOv3WCiA",ol="pJrO8pPNWqfon7mJY8zc";var ll=()=>{const e=(0,Ds.F)(),t=(0,Gi.Y)(),a=(0,Os.c)(),s=(0,o.d4)((e=>e.userDetails.free_trial_premium_route)),i=(0,o.d4)((e=>e.buyCardData.freeTrialSubscriptionEssentialsMonthlyPrice)),n=(0,o.d4)((e=>e.buyCardData.freeTrialSubscriptionSignatureMonthlyPrice)),r=(0,o.d4)((e=>e.userDetails.currency_code)),l=e.cleanPath("/plans-and-pricing/free-trial-subscription"),c=a(s?"get_any_10_images":"get_10_essentials_images"),d=s?n:i,{formattedPrice:u}=(0,Fo.v)(d,t,r,{minimumFractionDigits:0,includeCents:!1});return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsxs)("ul",{className:nl,"data-testid":"free-trial-bullet-points",children:[(0,is.jsx)("li",{className:rl,children:c}),(0,is.jsx)("li",{className:rl,children:a("first_month_free_then_price_per_month",{price:u})}),(0,is.jsx)("li",{className:rl,children:a("cancel_anytime_during_your_trial_month")})]}),(0,is.jsx)("a",{className:ol,onClick:()=>{const e=(0,Tn.A)({cta_interaction:"cta_clicked",cta_text:"Learn more about the Free Trial",cta_url:l,ui_element_location:"adp_buy_card"});(0,_.C)(e)},href:l,children:a("learn_more_about_the_free_trial_right_quote")})]})},cl="Bckg9G0LCGnPwBO2KP4F";const dl=({option:e,selectedPricingOption:t,selectPricingClarityOptionToggle:a,showNewCustomerPPVOffer:i,postContent:n,secondRadioContent:r,radioButtonTitle:l,radioButtonSubContent:c})=>{const d=(0,Os.c)(),_=(0,o.d4)((e=>e.userDetails.fast_checkout_sub_savings)),u=(0,o.d4)((e=>e.userDetails.free_trial_subscription_test_active)),p=(0,o.d4)((e=>e.userDetails.free_trial_subscription_multivariant_eligible)),m=(0,o.d4)((e=>e.buyCardData.singleTierPremiumNewCustomerOffer)),h=u&&p,g=void 0!==(null==r?void 0:r.tertiary_content),C=()=>h?d("one_month_free_trial_caps"):i?d("new_customer_price"):m?d("new_prem_sub_offer_all_caps"):null;return(0,s.useEffect)((()=>{i&&(window.tracking_data.merchandising_units="ppv_new_customer_offer_adp_module")})),(0,is.jsxs)(Xo,{onChange:()=>{t!==e&&a(e)},name:"purchase-choice",value:e,id:"secondRadio",checked:t===e,postContent:n,children:[C()&&(0,is.jsx)(il,{className:h||i?cl:"",children:(0,is.jsx)(ys.A,{children:C()})}),(0,is.jsx)("div",{className:"purchase-type "+(_?"purchase-type--bold":""),"data-test-id":"second-radio-main-content",children:(0,is.jsx)(ys.A,{children:l})}),c&&(0,is.jsx)("div",{className:"purchase-type__sub-text "+(_?"purchase-type__sub-text--savings":""),"data-testid":"second-radio-sub-content",children:(0,is.jsx)(ys.A,{children:c})}),g&&(0,is.jsx)("div",{className:"purchase-type__ter-text","data-testid":"second-radio-tertiary-content",children:(0,is.jsx)(ys.A,{children:r.tertiary_content})}),h&&(0,is.jsx)(ll,{})]})};dl.defaultProps={selectPricingClarityOptionToggle:()=>{},selectedPricingOption:null,showNewCustomerPPVOffer:!1,postContent:null,radioButtonTitle:"",radioButtonSubContent:"",secondRadioContent:null};var _l=dl,ul="RGwBdiHCCgKvjXW75qBa";var pl=(0,Ui.A)((()=>{const e=(0,Os.c)(),t=(0,In.A)(),[a,i]=(0,s.useState)(!1),n=(0,o.d4)((e=>e.buyCardData.showPricingClarityDurationToggle)),r=(0,o.d4)((e=>e.calc.step.pricingOption)),l=(0,o.d4)((e=>e.userDetails.videoPricingClarityVariance)),c=(0,o.d4)((e=>e.userDetails.new_customer_ppv_offer)),d=(0,o.d4)((e=>e.buyCardData.pricingClarityTranslations.secondRadioContent)),u=(0,o.d4)((e=>e.buyCardData.pricingOptions.firstRadioOption)),p=(0,o.d4)((e=>e.buyCardData.pricingOptions.secondRadioOption)),m=0!==d.size,h=m?n?a?At.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:At.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:p:null,g=(0,o.d4)((e=>e.buyCardData.pricingClarityPacks)),C=(0,o.wA)(),E=e=>{C(Ne.selectPricingClarityOptionToggle(e))},[w,v]=(0,s.useState)(n?d.alt_main_content:d.main),[S,N]=(0,s.useState)(n?d.alt_sub_content:d.sub_content),I=e=>{const a=e.map((e=>g[e])).filter((e=>!!e)).map((e=>({...e.toJS(),location_id:t}))),s=(0,Qo.A)({products:a,ui_element_location:t});(0,_.C)(s)};(0,s.useEffect)((()=>{if(!n)return;const e=a?At.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:At.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE;if(e!==r){const[t,s]=a?[d.main,d.sub_content]:[d.alt_main_content,d.alt_sub_content];E(e),N(s),v(t),I([h])}}),[a]);return(0,s.useEffect)((()=>{I([u,h])})),(0,is.jsxs)("section",{className:"pricing-clarity","data-testid":"pricing-clarity-options",children:[l&&(0,is.jsx)("hr",{"data-testid":"hr"}),(0,is.jsx)(tl,{option:u,selectedPricingOption:r,selectPricingClarityOptionToggle:E}),m&&(0,is.jsx)(_l,{option:h,selectedPricingOption:r,selectPricingClarityOptionToggle:E,showNewCustomerPPVOffer:c,secondRadioContent:d,radioButtonTitle:w,radioButtonSubContent:S,postContent:n?(0,is.jsx)("div",{className:"toggle-wrapper","data-testid":"duration-toggle",children:(0,is.jsx)(Jo.Ay,{id:"annual-monthly",className:ul,checked:a,onChange:e=>{const{checked:t}=e.target;i(t)},variant:Jo.F3.SECONDARY,checkedLabel:e("month_to_month"),uncheckedLabel:e("annual_plan")})}):null}),(0,is.jsx)("hr",{})]})}),"pricing_clarity_options");const ml=({onSetSelectedAgreementType:e,selectedAgreementType:t})=>{const a=(0,o.d4)((e=>e.calc.totalCreditCost)),s=(0,o.d4)((e=>e.calc.selectedAccountCredits)),i=(0,o.d4)((e=>e.calc.step.creditsAvailable)),n=(0,Os.c)(),r=$.CREDIT_PACK,l=()=>{t!==r&&i&&e(r)};return(0,is.jsx)("div",{role:"radio","aria-checked":t===r,tabIndex:0,className:`purchase-choice ${t===r&&"purchase-choice--selected radio-button-selected"} ${!i&&"purchase-choice--unavailable radio-button-disabled"}`,onClick:l,onKeyPress:e=>{"Enter"===e.key&&l()},"data-testid":"radio-button",children:(0,is.jsxs)("div",{className:"purchase-choice__control",children:[(0,is.jsx)("div",{className:"radio-button",children:(0,is.jsx)("input",{type:"radio","data-testid":"radio",value:"credits",name:"purchase-choice",id:"credits"})}),(0,is.jsxs)("label",{htmlFor:"credits","data-testid":"label",children:[(0,is.jsxs)("div",{className:"purchase-type",children:[a>1&&(0,is.jsx)("span",{children:n("more_than_one_credit",{zero:a})}),1===a&&(0,is.jsx)("span",{children:n("one_credit")})]}),(0,is.jsx)("div",{className:"amount-remaining",children:n("credit_balance_available",{credit_balance:s})})]})]})})};ml.defaultProps={selectedAgreementType:null};var hl=ml;const gl=({onSetSelectedAgreementType:e,selectedAgreementType:t})=>{const a=(0,o.d4)((e=>e.calc.step.subsAvailable)),s=(0,o.d4)((e=>e.calc.step.subDownloadsTranslationValue)),i=(0,o.d4)((e=>e.calc.step.subTitleTranslation)),n=(0,Os.c)(),r=$.ROYALTY_FREE_SUBSCRIPTION,l=()=>{t!==r&&a&&e(r)};return(0,is.jsx)("div",{className:`purchase-choice ${t===r&&"purchase-choice--selected radio-button-selected"} ${!a&&"purchase-choice--unavailable radio-button-disabled"}`,onClick:l,onKeyPress:e=>{"Enter"===e.key&&l()},"data-testid":"radio-button",role:"radio",tabIndex:0,"aria-checked":t===r,children:(0,is.jsxs)("div",{className:"purchase-choice__control",children:[(0,is.jsx)("div",{className:"radio-button",children:(0,is.jsx)("input",{type:"radio",value:"subscription",name:"purchase-choice",id:"subscription","data-testid":"radio"})}),(0,is.jsxs)("label",{htmlFor:"subscription","data-testid":"label",children:[(0,is.jsx)("div",{className:"purchase-type",children:n(i)}),(0,is.jsx)("div",{className:"amount-remaining",children:n("subscription_downloads_remaining",{downloads_remaining:s})})]})]})})};gl.defaultProps={selectedAgreementType:null};var Cl=gl;var El=()=>{const e=(0,o.wA)(),t=(0,o.d4)((e=>e.calc.selectedAgreementType)),a=(0,o.d4)((e=>e.calc.step.showSubscriptionField)),s=(0,Os.c)(),i=t=>{e(Ne.setSelectedAgreementType(t))};return(0,is.jsxs)("section",{className:"adp-download-choices","data-testid":"download-choices",children:[(0,is.jsx)("div",{className:"title",children:s("how_will_you_pay")}),(0,is.jsx)("hr",{}),a&&(0,is.jsx)(Cl,{selectedAgreementType:t,onSetSelectedAgreementType:i}),(0,is.jsx)("hr",{}),(0,is.jsx)(hl,{selectedAgreementType:t,onSetSelectedAgreementType:i}),(0,is.jsx)("hr",{})]})};const wl=({selectedAccount:e,setSelectedAccountChoiceOption:t})=>{const a=(0,Os.c)(),s=re.PERSONAL,i=()=>{t(s)};return(0,is.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":e===s,className:"account-choice-container "+(e===s?"selected radio-button-selected":""),onClick:i,onKeyPress:e=>{"Enter"===e.key&&i()},"data-testid":"radio-button",children:[(0,is.jsx)("div",{className:"radio-button",children:(0,is.jsx)("input",{type:"radio",name:"account-choice",value:s,"data-testid":"radio",id:"personal"})}),(0,is.jsx)("label",{"data-testid":"label",htmlFor:"personal",children:(0,is.jsx)("div",{className:"account-type",children:a("download_using_my_account")})})]})};wl.defaultProps={selectedAccount:null};var vl=wl;const Sl=({selectedAccount:e,setSelectedAccountChoiceOption:t})=>{const a=(0,o.d4)((e=>e.userDetails.team_name)),s=re.TEAM,i=(0,Os.c)(),n=()=>{t(s)};return(0,is.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":e===s,className:"account-choice-container "+(e===s?"selected radio-button-selected":""),onClick:n,onKeyPress:e=>{"Enter"===e.key&&n()},"data-testid":"radio-button",children:[(0,is.jsx)("div",{className:"radio-button",children:(0,is.jsx)("input",{type:"radio",name:"account-choice",value:s,id:"team","data-testid":"radio"})}),(0,is.jsx)("div",{className:"company-icon"}),(0,is.jsx)("label",{"data-testid":"label",htmlFor:"team",children:(0,is.jsx)("div",{className:"account-type",children:i("download_on_behalf_of_the_team",{name:a})})})]})};Sl.defaultProps={selectedAccount:null};var Nl=Sl;var Il=()=>{const e=(0,o.d4)((e=>e.calc.selectedAccount)),t=(0,o.wA)(),[a,i]=(0,s.useState)(e),n=e=>{t(Ne.setSelectedAccount(e)),i(e)};return(0,is.jsxs)("section",{className:"adp-account-choices","data-testid":"account-choices",children:[(0,is.jsx)("hr",{}),(0,is.jsx)(vl,{selectedAccount:a,setSelectedAccountChoiceOption:n}),(0,is.jsx)("hr",{}),(0,is.jsx)(Nl,{selectedAccount:a,setSelectedAccountChoiceOption:n}),(0,is.jsx)("hr",{})]})};function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Tl.apply(null,arguments)}var fl=({styles:e={},...t})=>i().createElement("svg",Tl({xmlns:"http://www.w3.org/2000/svg",width:"60",height:"44.5",viewBox:"0 0 60 44.5"},t),i().createElement("path",{fill:"#FFF",d:"M19.75 22.302l2.851-2.851 5.701 5.702L39.705 13.75l2.851 2.851-14.254 14.253z"})),Al=()=>{const e=(0,o.wA)(),t=zn(),a=(0,ps.Z)(),{dropboxEnabled:s}=(0,o.d4)((e=>e.calc.step)),{mubRedirectUrl:i}=(0,o.d4)((e=>e.buyCardData)),{asset:n}=(0,o.d4)((e=>e)),{selectedAssetSize:r,selectedAgreementSize:l,selectedAgreementType:c}=(0,o.d4)((e=>e.calc)),{imageIsEdited:d,editDetails:_}=(0,Es.A)(),{clearEditsPendingForDownload:u}=(0,vs.A)(),{setShowOverlay:p}=(0,ws.A)();return{createDownload:()=>l?(t.setAssetDetailTrackingData("asset_size",r.name),a.sendAssetDownloadedSignal(n,{agreement_type:c}),e(ne(window.korrelationId,i,s,d,u,p,null==_?void 0:_.imageState))):e(Z("download_failed"))}},bl=a(15531);const xl=(0,$n.A)("plans_and_pricing","./PlansAndPricing");var Ol=({asset:e,testVariation:t,onClose:a})=>{const i=(0,us.Jd)(),n=(0,qn.Z)();return(0,is.jsx)("div",{"data-testid":"mini-pnp-container",children:(0,is.jsx)(s.Suspense,{children:(()=>{const s=(0,is.jsx)(xl,{payload:{user:i,site:n,asset:e,testVariation:t,onClose:a}});return(0,is.jsx)(bl.A,{children:s})})()})})},Dl="gTohuItovlNtAwu_K5ti",yl="FsO0VaojVsVdZGuz3txe";const jl={"super-cta":Ks.Jr.PRIMARY,"primary-cta":Ks.Jr.SECONDARY,"hollow-cta":Ks.Jr.HOLLOW},Pl=({validateEpsPickerAndSave:e,isEpsFormatTest:t,epsFormatCtaTitle:a})=>{var s;const i=bo(),n=Ao(),r=(0,Os.c)(),l=(0,o.wA)(),c=Al(),d=(0,o.d4)((e=>e.calc.ctaInProgress)),_=(0,o.d4)((e=>e.calc.step.ctaAction)),u=(0,o.d4)((e=>e.calc.step.ctaClass)),p=(0,o.d4)((e=>e.calc.step.ctaTitle)),m=(0,o.d4)((e=>e.calc.step.ctaTranslationVariables)),h=(0,o.d4)((e=>e.calc.step.completeSection)),g=(0,o.d4)((e=>e.calc.step.confirmSection)),C=(0,o.d4)((e=>!e.calc.step.hideDownloadButton)),E=(0,o.d4)((e=>e.asset)),w=null!==(s=jl[u])&&void 0!==s?s:Ks.Jr.PRIMARY,v=(0,o.d4)((e=>e.redirectToUrl)),S=(0,o.d4)((e=>e.userDetails.free_trial_subscription_test_active)),N=(0,o.d4)((e=>e.mobileSimplification)),I=Ki(),T=(0,o.d4)((e=>e.calc.isMiniPnpOpen)),f=(0,o.d4)((e=>e.userDetails.mini_pnp_active)),{imageIsEdited:A}=(0,Es.A)(),{setShowOverlay:b}=(0,ws.A)(),x=S&&N,O=h?(0,is.jsx)(Ks.Ay,{"data-testid":"complete-button",disabled:h,className:yl,variant:w,size:Ks.Ni.LARGE,fullWidth:!0,children:(0,is.jsx)("span",{className:"white-checkmark",children:(0,is.jsx)(fl,{})})}):(0,is.jsx)(Ks.Ay,{id:"download-button",type:"submit","data-testid":"download-button",onClick:async a=>{a.preventDefault(),t&&!e()||(n.track(),l(Ne.setCtaInProgress(!0)),Ne[_]?v?i.redirectToUrlFromState():await l(Ne[_]()):_===at.CREATE_DOWNLOAD?(I(),A&&b(!0),await c[_]()):await i[_](),l(Ne.setCtaInProgress(!1)))},disabled:d,className:yl,variant:w,size:Ks.Ni.LARGE,fullWidth:!0,children:d?(0,is.jsx)(gs.A,{"data-testid":"spinner",className:Dl}):p?x?r("download_for_free"):(()=>{if(t){const{download:e,confirm:t}=a(),s=_===at.INITIATE_DOWNLOAD?e:t;return r(s)}return r(p,m)})():null}),D=g?(0,is.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,is.jsx)(Oi.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{l(Ne.cancelDownload())}})}):null;return(0,is.jsxs)("section",{className:"adp-file-confirm-cancel-wrapper","data-testid":"confirm-cancel-wrapper",children:[C&&(0,is.jsxs)("div",{className:"adp-file-download-button-wrapper","data-testid":"adp-download-button",children:[O,D]}),f&&T&&(0,is.jsx)(Ol,{asset:E,onClose:()=>{l(Ne.setMiniPnpOpen(!1))}})]})};Pl.defaultProps={validateEpsPickerAndSave:()=>{},isEpsFormatTest:!1,epsFormatCtaTitle:void 0};var Rl=Pl;var kl=()=>{const e=(0,Os.c)(),t=(0,o.d4)((e=>e.asset)),a=(0,o.d4)((e=>e.userDetails.has_subscription)),s=(0,o.d4)((e=>e.calc.hasAvailableCredits)),i=(0,wi.useExperience)("PnpVideoFocusTest"),n=(0,Ds.F)(),r=(0,In.A)(),l=()=>{let r=n.cleanPath(e("urls.plans_and_pricing_images"));return t.isFilm&&(r=n.cleanPath(e("urls.plans_and_pricing_video")),!i.isActive()||a||s||(r=Zr.A.appendQueryParamsToString(r,{videofocus:!0}))),r};return(0,is.jsx)("a",{className:"hollow-cta adp-plans-and-pricing-cta","data-testid":"pnp-cta",href:l(),onClick:()=>{const e=(0,Tn.A)({cta_interaction:"cta_clicked",cta_text:"view_plans_and_pricing",cta_url:l(),ui_element_location:r,download_flow:"pnp_checkout_option"});(0,_.C)(e)},children:e("view_plans_and_pricing")})},Ll=a(7909),Fl=a(79855),Ul="Hyfv_ewT6G9DUJopl4wc",Ml="V03aNKWQWBid0o8p3OJw";const Bl=({isEpsFormatTest:e,epsFormatCompleteDownload:t,editsPendingForDownload:a,imageIsEdited:s})=>{const i=(0,o.d4)((e=>e.calc.step.dropboxEnabled)),n=(0,o.d4)((e=>e.asset)),{setShowOverlay:r}=(0,ws.A)(),l=(0,o.d4)((e=>e.calc.step.name))===m.COMPLETE_DOWNLOAD&&a,c=Al(),d=i?"download_again":"issues_download_again",_=(0,Os.c)(),u=e=>{"redownload-for-free"===e.target.id&&(s&&r(!0),c.createDownload())},p=e=>{"Enter"===e.key&&(s&&r(!0),c.createDownload())},h=(0,is.jsx)(Ll.A,{downloadCompletionText:_("you_received"),firstListItemText:_("one_original_image"),secondListItemText:_("one_modified_image"),checkDownloadsText:_("please_check_your_downloads_folder"),redownloadLink:(0,is.jsx)(ys.A,{children:_(d,{links:[{href:"#",id:"redownload-for-free"}]})})}),g=(0,is.jsx)("div",{className:Ul,"data-testid":"original-image-only-successful-download",children:(0,is.jsx)(ys.A,{children:_(e?(()=>{const{dropbox:e,local:a}=t();return i?e:a})():i&&n.isFilm?"successful_download_dropbox_video":i&&n.isIllustration?"successful_download_dropbox_illustration":i?"successful_download_dropbox_photo":n.isFilm?"successful_download_local_video":n.isIllustration?"successful_download_local_illustration":"successful_download_local_photo",{start_strong:`<strong class=${Ml}>`,end_strong:"</strong>"})})}),C=(0,is.jsx)("div",{onClick:u,onKeyDown:p,role:"button",tabIndex:0,"data-testid":"redownload-for-free",children:(0,is.jsx)("span",{id:"download-again",children:(0,is.jsx)(ys.A,{children:_(d,{links:[{href:"#",id:"redownload-for-free"}]})})})}),E=(0,is.jsx)(Fl.A,{updatedText:_("youve_made_an_update"),redownloadText:(0,is.jsx)(ys.A,{children:_("redownload_for_free",{links:[{href:"#",id:"redownload-for-free"}]})}),handleKeyDown:p,handleClick:u}),w=(0,is.jsx)(wo.A,{title:_("your_download_includes_v2"),firstListItemText:_("one_original_image"),secondListItemText:_("one_modified_image"),allowMultipleFileText:_("allow_multiple_files_saved")}),v=s?h:g;return(0,is.jsx)("section",{className:"adp-content-animation-fade","data-testid":"complete-download",children:l?(0,is.jsxs)(is.Fragment,{children:[E,w]}):(0,is.jsxs)(is.Fragment,{children:[v,C]})})};var Wl=Bl;Bl.defaultProps={isEpsFormatTest:!1,epsFormatCompleteDownload:void 0,editsPendingForDownload:!1,imageIsEdited:!1};var zl="t3cvXnZLl8qc0i9uF2rU",Hl="DL3rzyL3kPMkV6jZv0au";var Gl=()=>{const e=bo(),t=(0,Os.c)(),a=(0,o.d4)((e=>e.calc.step.triggerSubscribeTracking));return(0,is.jsx)("div",{className:"subscribe-to-premium-video","data-testid":"subscribe-to-premium-video",children:(0,is.jsx)("div",{className:zl,children:(0,is.jsx)("button",{className:Hl,type:"submit","data-testid":"subscribe-to-premium-video-button",onClick:async t=>{t.preventDefault(),a&&a(),await e.redirectToPricing()},children:(0,is.jsx)("span",{"data-testid":"title",children:t("subscribe_to_premium_plus_video")})})})})},Vl="RZZjFWZEckW2RYjueUnx",Yl="SSKEpQo3j8KoavhySQIY",Kl="q_fhEb21QiNivijzViCN",$l="uCVwOJo9_m_SVafgpkPs";var ql=()=>{const e=(0,Os.c)(),t=(0,o.wA)(),a=(0,o.d4)((e=>e.calc.totalCreditCost)),s=(0,o.d4)((e=>e.calc.selectedAccountCredits));return(0,is.jsxs)("section",{className:Vl,"data-testid":"credit-balance-box",children:[(0,is.jsx)("div",{className:$l,children:(0,is.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,is.jsx)(Oi.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{t(Ne.cancelDownload())}})})}),(0,is.jsxs)("div",{className:Yl,children:[(0,is.jsxs)("div",{className:Kl,"data-testid":"credit-balance-cost",children:[a>1&&(0,is.jsx)("span",{children:e("more_than_one_credit",{zero:a})}),1===a&&(0,is.jsx)("span",{children:e("one_credit")})]}),(0,is.jsx)("div",{className:"amount-remaining","data-testid":"credit-balance-available",children:e("multiple_credits_available",{available:s})})]})]})};const Jl=({validateEpsPickerAndSave:e,isEpsFormatTest:t,epsFormatCtaTitle:a,epsFormatCompleteDownload:i,editsPendingForDownload:n,hasEnoughCredits:r,imageIsEdited:l})=>{const c=(0,o.d4)((e=>e.userDetails.fast_checkout_sub)),d=(0,o.d4)((e=>e.userDetails.fast_checkout_sub_savings)),_=(0,o.d4)((e=>e.userDetails.video_pricing_clarity_variance)),u=(0,o.d4)((e=>e.calc.step.showAccountChoices)),p=(0,o.d4)((e=>e.calc.step.showDownloadChoices)),m=(0,o.d4)((e=>e.calc.step.showPricingClarity)),h=(0,o.d4)((e=>e.calc.step.showSubscribeToPremiumVideo)),g=(0,o.d4)((e=>e.calc.step.viewLicenseSelection)),C=(0,o.d4)((e=>e.calc.step.warningBox)),E=(0,o.d4)((e=>e.buyCardData.licenseOverviewPath)),w=(0,o.d4)((e=>e.calc.redownloadForFree)),v=(0,o.d4)((e=>e.calc.step.completeSection)),S=(0,o.d4)((e=>e.userDetails.free_trial_subscription_test_active)),N=(0,o.d4)((e=>e.userDetails.free_trial_subscription_multivariant_eligible)),I=(0,Os.c)(),T=zn();return(0,s.useEffect)((()=>{T.setTrackingDataElement("downloadActions",m&&!g?"clarity":"default")}),[m,g]),(0,is.jsxs)("section",{className:"adp-file-download","data-testid":"download-pricing",children:[C&&!r&&(0,is.jsx)(qo,{}),!g&&m&&(0,is.jsx)(pl,{}),p&&!r&&(0,is.jsx)(El,{}),r&&(0,is.jsx)(ql,{}),u&&(0,is.jsx)(Il,{}),h&&(0,is.jsx)(Gl,{}),(0,is.jsx)(Rl,{validateEpsPickerAndSave:e,isEpsFormatTest:t,epsFormatCtaTitle:a}),!m||w||!(S&&N||c||d||_)?null:(0,is.jsx)(kl,{"data-testid":"pnp-cta-container"}),g&&(0,is.jsx)("span",{className:"not_sure_license","data-testid":"not-sure-license-link",children:(0,is.jsx)(ys.A,{children:I("not_sure_what_license",{links:[{href:`${E}`,target:"new"}]})})}),v&&(0,is.jsx)(Wl,{isEpsFormatTest:t,epsFormatCompleteDownload:i,editsPendingForDownload:n,imageIsEdited:l})]})};var Ql=Jl;Jl.defaultProps={validateEpsPickerAndSave:()=>{},isEpsFormatTest:!1,epsFormatCtaTitle:void 0,epsFormatCompleteDownload:void 0,editsPendingForDownload:!1,hasEnoughCredits:!1};var Zl=()=>{const e=(0,Os.c)();return(0,is.jsx)("div",{className:"adp-content-animation-fade redownload","data-testid":"redownload",children:(0,is.jsx)("div",{className:"adp-btn-flow-text",children:(0,is.jsx)("small",{children:e("you_already_downloaded")})})})};const Xl=({isEpsFormatTest:e,epsFormatTypeCreditAgreement:t})=>{const a=(0,o.d4)((e=>e.buyCardData.licenseAgreement)),s=(0,Os.c)();return(0,is.jsx)("div",{className:"adp-content-animation-fade","data-testid":"license-disclaimer",children:(0,is.jsx)("div",{className:"adp-btn-flow-text",id:"license-agreement-link",children:(0,is.jsx)("small",{children:(0,is.jsx)(ys.A,{children:s(e?t():"credit_license_agreement",{links:[{href:a}]})})})})})};Xl.defaultProps={isEpsFormatTest:!1,epsFormatTypeCreditAgreement:null};var ec=Xl,tc="M36zwv59j_huVvhClpXQ";var ac=()=>{const e=(0,o.d4)((e=>e.buyCardData.licenseOverviewPath)),t=(0,Os.c)();return(0,is.jsx)("div",{className:tc,"data-testid":"redownload-agreement",children:(0,is.jsx)(ys.A,{children:t("redownload_free_agreements",{links:[{href:`${e}`,target:"new"}]})})})},sc="jsInk_jaLG5L1eWJUGwv",ic="wD_iemGyRxuzLPJPx9RM",nc="dTR7tSm1CMo1uDAXlF0d",rc="mrnZDo7dSPNM6rO5uGiB";var oc=({children:e})=>{const t=(0,us.Jd)(),a=rc,i=t.isBot?null:nc;return(0,s.useEffect)((()=>{const e=document.querySelector(".footer-copyright");return e&&e.classList.add(a),()=>{e&&e.classList.remove(a)}}),[]),(0,is.jsxs)("div",{className:`${sc} ${i}`,id:"mobile-cta-modal","data-testid":"mobile-cta-modal",children:[e,(0,is.jsx)("div",{className:ic,children:(0,is.jsx)(Rl,{})})]})},lc="_ynfpD1jAx8yxSkFXhMo",cc="HByGNe2mceGIAElzYJQa",dc="Gjx9S7UusukrilRMBjd6",_c="RvunXRIKW7OhmgZcedbW";var uc=({assetSizes:e})=>{const t=(0,Os.c)(),a=[{title:"size_format_4k",content:"maintain_high_quality_output"},{title:"size_format_hd",subTitle:"size_format_prores",content:"high_quality_full_hd_file"},{title:"size_format_hd",content:"most_commonly_used_format"},{title:"size_format_hd_web",content:"ideal_for_full_screen_web_projects"},{title:"web",content:"good_for_small_web_projects"}];(!Object.keys(e).length||null!=e&&e.some((e=>"Web"!==e.label)))&&a.pop();return(0,is.jsx)(n.aF,{modalClassName:lc,onClose:()=>{const e=(0,bn.A)({event:"close_modal",modal_content:"video_size_and_format",modal_type:"detailed_modal",cta_text:void 0,ui_element_location:"modal_x",modal_selection:"video_size_and_format_modal"});(0,_.C)(e)},children:()=>(0,is.jsx)(is.Fragment,{children:(0,is.jsxs)("div",{className:cc,"data-testid":"sizes-formats-modal-body",children:[(0,is.jsx)("h2",{children:t("video_sizes_and_formats")}),(0,is.jsx)("p",{children:t("find_the_right_format")}),(0,is.jsx)(is.Fragment,{children:a.map((({title:e,subTitle:a,content:s})=>(0,is.jsxs)("div",{className:dc,children:[(0,is.jsxs)("div",{children:[(0,is.jsx)("h3",{children:t(e)}),a&&(0,is.jsx)("h3",{className:_c,children:t(a)})]}),(0,is.jsx)("p",{children:t(s)})]},s)))})]})})})},pc={helpMeChoose:"o7tmlqNtSNyby0nRKTyt",noWrap:"v0LqeTgWALD9FCOxvNCY",flexBreak:"S3SOehgGqVF6u17eYj29",sizeDescriptionContainer:"qGMaEeDDkgAmYaBsFOSD"};const mc=["image","raster","vector","film"],hc=["Web","SD","HD_Web","HD","4K"],gc=(e,t,a)=>t.find((t=>a?t.name===e:t.teeShirtSize===e)),Cc=()=>{const e=(0,o.wA)(),t=(0,o.d4)((e=>e.asset)),a=(0,o.d4)((e=>e.calc.step)),i=(0,o.d4)((e=>e.calc.selectedAssetSize)),r=(0,o.d4)((e=>e.buyCardData.preferences)),l=(0,Os.c)(),{assetType:c}=t,d=(0,o.d4)((e=>e.userDetails.authenticated)),{showModal:u}=(0,n.hS)(),p=(0,In.A)(),m=t.sizes.toArray().filter((e=>null!=e.description)),h=mc.includes(c)&&(a.showTshirtSizes||t.isFilm&&!d),[g,C]=(0,s.useState)(null);(0,s.useEffect)((()=>{if(!i||"epsUnavailable"===i.name){const a=((e,t,a)=>{if(!a)return gc(e,t,a);if(!e)return;const{name:s,definition:i}=e,n=t.find((e=>e.name===s));if(n)return n;const r=t.filter((e=>e.definition===i));if(1===r.length)return r[0];if(r.length>1)return r.find((e=>"H.264"===e.codec))||r[0];const o=hc.findIndex((e=>e===i));if(-1===o)return null;for(let e=o;e<hc.length;e+=1){const a=hc[e],s=t.filter((e=>e.definition===a));if(1===s.length)return s[0];if(s.length>1)return s.find((e=>"H.264"===e.codec))||s[0]}})(t.isFilm?O.getVideoPreferredSize(r):O.getPreferredSize(r),m,t.isFilm);let s=m.length-1;const i=m[s];"epsUnavailable"===(null==i?void 0:i.name)&&(s=m.length-2),a&&"epsUnavailable"!==a.name?e(Ne.selectAssetSize(a)):e(Ne.selectAssetSize(m[s]))}}));const E=e=>{const a=e.target.attributes.name.value;return gc(a,m,t.isFilm)},w=()=>g||i,v=e=>{C(E(e))},S=()=>{C(null)},N=a=>{var s;"epsUnavailable"!==(s=E(a)).name&&(e(Ne.selectAssetSize(s)),t.isFilm||O.setPreferredSize(s.teeShirtSize),t.isFilm&&O.setPreferredVideoSize(s.name,s.definition))},I=()=>{var e;let t="size-description";return null!==(e=w())&&void 0!==e&&e.epsUnavailable&&(t+=" eps-unavailable-warning"),t},T=e=>{let t="tile";return i===e&&(t+=" selected-tile"),e.epsUnavailable&&(t+=" no-eps"),t},f=e=>(0,is.jsxs)(is.Fragment,{children:[(0,is.jsxs)("span",{children:[e.pixels," ",e.codec]}),(0,is.jsx)("span",{className:"divider",children:"|"}),(0,is.jsxs)("span",{className:pc.noWrap,children:[e.frameRate," fps",(0,is.jsx)("span",{className:"divider",children:"|"})]}),(0,is.jsx)("span",{className:pc.noWrap,children:e.contentType}),e.hasFileSize&&(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("span",{className:"divider",children:"|"}),(0,is.jsx)("span",{className:pc.noWrap,children:e.fileSize})]})]}),A=()=>{const e=(0,Tn.A)({cta_interaction:"help_me_choose_clicked",cta_text:"help_me_choose",cta_url:void 0,ui_element_location:p});return(0,_.C)(e),u((0,is.jsx)(uc,{assetSizes:m}))},b=e=>{"Enter"===e.key&&A()},x=e=>{"Enter"===e.key&&N(e)},D=e=>{if(t.isFilm)return e.label;const a=O.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?a:l(a)};return h?(0,is.jsx)("section",{className:"adp-fade-and-slide adp-set-max-height","data-testid":"AssetSizeTileSelector",children:(0,is.jsxs)("div",{className:"sizes",children:[(0,is.jsx)("ol",{className:`${c} tiles`,children:m.map((e=>{const a=t.isFilm?e.name:e.teeShirtSize;return(0,is.jsx)("li",{"aria-label":D(e),className:T(e),children:(0,is.jsx)("div",{role:"radio",tabIndex:0,"aria-checked":i===e,onClick:N,onKeyPress:x,onMouseOver:v,onFocus:v,onMouseOut:S,onBlur:S,id:`download-size-${a}`,name:a,children:D(e)})},a)}))}),(()=>{const e=w();return e?t.isFilm?(0,is.jsxs)("div",{className:Ts()(I(),pc.assetMetaData,pc.sizeDescriptionContainer),children:[f(e),(0,is.jsx)("div",{className:pc.flexBreak}),(0,is.jsx)("div",{role:"button",tabIndex:0,className:Ts()(pc.helpMeChoose,pc.noWrap),"data-testid":"HelpMeChooseLink",onClick:A,onKeyPress:b,children:l("help_me_choose")})]}):(0,is.jsxs)("div",{className:I(),children:[" ",e.epsUnavailable?l(e.description):e.description," "]}):null})()]})}):null};var Ec=()=>!(0,o.d4)((e=>e.calc.step.viewLicenseSelection))&&(0,is.jsx)("section",{className:"size-options adp-licenses adp-fade-and-slide","data-testid":"size-options",children:(0,is.jsx)(Cc,{})});var wc=()=>{const e=(0,o.d4)((e=>e.calc.step.showSubTypeMessage)),t=(0,o.d4)((e=>e.calc.step.dropboxEnabled)),a=(0,o.d4)((e=>e.asset.freeFile)),s=(0,Os.c)();return(0,is.jsxs)(is.Fragment,{children:[e&&!a&&(0,is.jsx)("div",{className:"adp-warning-box sub-type-message","data-testid":"info-subs",children:(0,is.jsx)("span",{children:s("available_with_your_subscription")})}),t&&(0,is.jsx)("div",{className:"adp-warning-box dropbox-message sub-type-simple-message","data-testid":"info-dropbox",children:(0,is.jsx)("span",{children:s("download_workflow.download_will_be_saved_to_dropbox")})})]})},vc=a(25074),Sc="tXdiSc_DcwQodaWMcBgM",Nc="m0LNKvsjmSPI0xjGPzau",Ic="un7DUzLsnqcne4woRQ4I",Tc="zNNi9wkKIKbQl7zsw3sg";var fc=()=>{const e=(0,Tr.m)(),t=(0,o.d4)((e=>e.calc.step.ctaClass)),a=(0,o.d4)((e=>e.userDetails.authenticated)),s=(0,o.d4)((e=>e.mobileSimplification)),i=(0,o.d4)((e=>e.userDetails.free_trial_premium_route)),n=(0,o.d4)((e=>e.userDetails.currency_code)),r=(0,o.d4)((e=>e.asset)),l=(0,o.d4)((e=>e.buyCardData.signInPath)),c=(0,vc.DP)().link||{},d=(0,Os.c)(),u=(0,Ds.F)(),p=(0,In.A)(),m=(t,a)=>{e.trackEvent("adpInteraction",{adp_interaction:t,adp_selection:a,ui_element_location:"adp_buy_card_start_free_trial_cta"});const s=(0,No.A)({products:[{asset_id:r.assetId,asset_type:r.assetType,license_type:r.licenseType,asset_family:r.assetFamily,media_type:r.mediaType,currency_code:n||"USD",final_price:{amount:0}}],download_flow:"free_trial_option",ui_element_location:p});(0,_.C)(s)},h=()=>{m("ADP_Buy_Card_Sign_in_Button_Click","adp_sign_in"),window.location=u.cleanPath(`/sign-in?returnurl=${window.location.pathname}${window.location.search}`)},g=()=>{m("ADP_Download_Button_Click","Free_Trial_Option"),window.location=i?u.addFreeTrial({premium:!0,ftsfastcheckout:!0}):u.addFreeTrial({ftsfastcheckout:!0})};return(0,is.jsxs)("section",{"data-testid":"free-trial-subs-buyCard",children:[(0,is.jsx)("h4",{className:Sc,children:d("get_image_for_free")}),(0,is.jsx)("p",{"data-testid":"learn-more-link",className:`${Nc} ${c.textLink}`,children:(0,is.jsx)(ys.A,{children:d("download_image_free_trial_learn_more",{links:[{href:u.cleanPath(d("urls.plans_and_pricing_free_trial_subscription"))}]})})}),s?!a&&(0,is.jsx)("div",{"data-testid":"sign-in-cta",children:(0,is.jsx)(ys.A,{children:d("already_member_sign_in",{links:[{href:l}]})})}):(0,is.jsxs)("div",{"data-testid":"free-trial-cta",children:[(0,is.jsx)("button",{className:`${t} ${Ic}`,id:"download-free-trial-button",type:"button","data-testid":"download-free-trial-button",onClick:g,children:d("download_for_free")}),!a&&(0,is.jsx)("button",{className:Tc,id:"signin-free-trial-button",type:"button",onClick:h,"data-testid":"signIn-button",children:d("sign_in")})]})]})};var Ac=()=>{const e=(0,Os.c)(),t=(0,o.d4)((e=>e.asset));return(0,is.jsx)("div",{className:"adp-free-file adp-content-animation-fade","data-testid":"free-file",children:(0,is.jsx)("span",{children:t.isIllustration?e("free_illustration_otm"):t.isFilm?e("free_video_otm"):e("free_photo_otw")})})};var bc=({totalCreditCost:e})=>{const t=(0,Os.c)(),a=Number(e);if(!a)return null;const s=a>1?t("more_than_one_credit",{zero:a}):t("one_credit");return(0,is.jsx)("span",{children:s})};const xc=({title:e,canPeekAtCost:t,showCreditCost:a,redownloadSection:s})=>{const i=(0,o.d4)((e=>e.buyCardData)),{showTestA:n,showTestB:r}=i.geoPricingPromoPolicy,l=(0,o.d4)((e=>e.calc.totalCreditCost)),c=(0,Os.c)();return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"header-geo-promo",children:(0,is.jsx)("span",{children:c("new_lower_prices")})}),(0,is.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:[n&&(0,is.jsxs)("span",{className:"card-title__sub-title","data-testid":"test-a",children:[e&&(0,is.jsx)("span",{"data-testid":"title",children:c(e)}),e&&(a||t)&&(0,is.jsx)("span",{children:" | "}),(a||t)&&(0,is.jsx)("span",{"data-testid":"credit-cost",children:(0,is.jsx)(bc,{totalCreditCost:l})})]}),r&&(0,is.jsx)("span",{className:"card-title__sub-title","data-testid":"test-b",children:s&&e?(0,is.jsx)("span",{"data-testid":"title",children:c(e)}):(0,is.jsx)("span",{"data-testid":"subtitle",children:c("high_quality_for_projects")})})]})]})};xc.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,redownloadSection:null};var Oc=xc,Dc=a(50180);function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},yc.apply(null,arguments)}var jc=({styles:e={},...t})=>i().createElement("svg",yc({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{className:e["icons-unisporkal-istock-tooltip-svg__bg"]||"icons-unisporkal-istock-tooltip-svg__bg",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"}),i().createElement("path",{className:e["icons-unisporkal-istock-tooltip-svg__border"]||"icons-unisporkal-istock-tooltip-svg__border",d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"}),i().createElement("path",{className:e["icons-unisporkal-istock-tooltip-svg__icon"]||"icons-unisporkal-istock-tooltip-svg__icon",d:"M12.834 13.443v.112h-2.158v-.252c0-1.71 2.34-1.835 2.34-3.264 0-.616-.45-.98-1.262-.98-.658 0-1.33.238-1.877.84l-1.19-1.415c.91-.854 1.947-1.302 3.277-1.302 1.976 0 3.349.98 3.349 2.69 0 2.31-2.48 2.52-2.48 3.57zm-1.065.714c.728 0 1.33.603 1.33 1.331a1.33 1.33 0 11-1.33-1.33z"})),Pc="bKL2hIUxRhzeBpub_cgF";const Rc=({className:e})=>{const t=Ts()(Pc,e);return(0,is.jsx)(jc,{className:t})};Rc.defaultProps={className:""};var kc=Rc,Lc="kdZrypqPcxYUebEMLyDp",Fc="a4SeezPVDeTi7mWep0Ui";const Uc=({title:e,canPeekAtCost:t,showCreditCost:a,showPricingClarity:s})=>{const i=(0,Os.c)(),n=(0,o.d4)((e=>e.userDetails.team_name)),r=(0,o.d4)((e=>e.buyCardData.downloadActionsPolicy.showInfoTooltip)),l=(0,o.d4)((e=>e.buyCardData.pricingClarityTranslations.tooltipText)),c=(0,o.d4)((e=>e.calc.totalCreditCost));return(0,is.jsxs)(is.Fragment,{children:[(a||t)&&(0,is.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,is.jsx)("div",{className:"download-actions__header",children:(0,is.jsx)(bc,{totalCreditCost:c})})}),e&&(0,is.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:[(0,is.jsx)("span",{"data-testid":"title",children:i(e,{team_name:n})}),s&&(0,is.jsx)("span",{children:r&&(0,is.jsx)(Dc.A,{"data-testid":"info-tooltip",className:Fc,content:l,children:(0,is.jsx)(kc,{className:Lc})})})]})]})};Uc.defaultProps={title:null,canPeekAtCost:null,showCreditCost:null,showPricingClarity:null};var Mc=Uc;const Bc=({title:e})=>{const t=(0,Os.c)(),a=(0,o.d4)((e=>e.userDetails.team_name)),s=(0,o.d4)((e=>e.asset.assetCost));return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,is.jsx)("div",{className:"download-actions__header",children:s})}),e&&(0,is.jsx)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:(0,is.jsx)("span",{"data-testid":"title",children:t(e,{teamName:a})})})]})};Bc.defaultProps={title:null};var Wc=Bc;const zc=({isEpsFormatTest:e,epsFormatTitleDownload:t,editsPendingForDownload:a,imageIsEdited:s})=>{const i=(0,Os.c)(),n=(0,o.d4)((e=>e.asset)),r=(0,o.d4)((e=>e.calc.step.title)),l=(0,o.d4)((e=>e.calc.step.name)),c=(0,o.d4)((e=>e.calc.step.showCreditCost)),d=(0,o.d4)((e=>e.calc.step.showPricingClarity)),_=(0,o.d4)((e=>e.calc.step.redownloadSection)),u=(0,o.d4)((e=>e.calc.selectedOptionalLicenses)),p=(0,o.d4)((e=>e.calc.selectedAgreementType)),m=(0,o.d4)((e=>e.buyCardData.geoPricingPromoPolicy.show)),h=u&&p,g=(0,o.d4)((e=>e.mobileSimplification)),{completeSection:C}=(0,o.d4)((e=>e.calc.step));let E=r;return"COMPLETE_DOWNLOAD"===l&&(s&&(E="your_download_is_complete"),a&&(E="youve_updated_this_photo")),n.freeFile?(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(Ac,{}),E&&(0,is.jsx)("h2",{id:"card-title","data-testid":"title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:i(E)})]}):m?(0,is.jsx)(Oc,{title:E,canPeekAtCost:h,showCreditCost:c,redownloadSection:_}):g?(0,is.jsx)(Wc,{title:E}):(0,is.jsx)(Mc,{title:e&&C?t():E,canPeekAtCost:h,showCreditCost:c,showPricingClarity:d})};zc.defaultProps={isEpsFormatTest:!1,epsFormatTitleDownload:void 0,editsPendingForDownload:!1,imageIsEdited:!1};var Hc=zc,Gc="ITe3EojEowNtmkiK79On";var Vc=()=>{const e=(0,o.d4)((e=>e.buyCardData.restrictedUsesPath)),t=(0,Os.c)();return(0,is.jsxs)("section",{className:"editorial-use-only","data-testid":"editorial-use-only",children:[(0,is.jsx)(ys.A,{children:t("editorial_use_only_with_link",{links:[{href:`${e}`,target:"_blank",rel:"noopener noreferrer"}]})}),(0,is.jsx)(Dc.A,{content:t("editorial_use_clarification"),children:(0,is.jsx)(kc,{className:Gc})})]})};var Yc=()=>{const e=(0,o.d4)((e=>e.asset)),t=(0,o.d4)((e=>e.calc.hasSelectedOptionalLicenses)),a=(0,o.d4)((e=>e.calc.selectedAgreementType)),s=(0,o.d4)((e=>e.calc.step.showCreditCost)),i=t&&a,n=(0,o.d4)((e=>e.calc.totalCreditCost));return(0,is.jsx)(is.Fragment,{children:e.freeFile?(0,is.jsx)(Ac,{}):s||i?(0,is.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-credit-cost",children:(0,is.jsx)("div",{className:"download-actions__header",children:(0,is.jsx)(bc,{totalCreditCost:n})})}):null})},Kc="mYBkt5RleZd5SvNvAGsQ",$c="rSdZF1J6Jjnxhi71p6BC",qc="JfX9VvvG5YXwBqOHFENQ",Jc="gxbSGKPNgW1agrnD9g91",Qc="NFewzkaSWd7_cENynmj1",Zc="YvwlaNWqE8of9mfE366e",Xc="lncPfMCyzhBqOLYKy3aP",ed="sem1lo74ysNecGf_kxsy",td="wuLKuLie0XLRvynrxylL";var ad=()=>{const e=(0,o.d4)((e=>e.licenses)).toArray(),t=(0,Os.c)(),a=(0,o.wA)(),i=(0,vc.DP)().checkbox||{};(0,s.useEffect)((()=>{document.querySelector("#licenses-close-btn").focus()}),[]);const n=e=>{const t=[];return e.is_acquired_and_not_repurchasable&&t.push($c),e.is_selected&&t.push(qc),(e.is_purchase_required||e.is_acquired_and_not_repurchasable)&&t.push(Jc),t.join(" ")},r=(0,is.jsxs)("header",{className:"el-header",children:[(0,is.jsx)("h2",{children:t("add_licenses")}),(0,is.jsx)(Oi.A,{id:"licenses-close-btn",className:"el-close-btn",ariaLabel:"close license picker",onClick:()=>{a(Ne.closeLicensePicker())}})]}),l=(0,is.jsxs)("div",{className:Ts()("el-title",Zc),children:[(0,is.jsx)("div",{children:t("license_types")}),(0,is.jsx)("div",{children:t("istock_credits")})]}),c=(0,is.jsx)("ul",{"data-testid":"license-list",children:e.map(((e,t)=>{const s=e.is_purchase_required||e.is_acquired_and_not_repurchasable;return(0,is.jsx)("li",{className:Ts()(Qc,n(e)),"data-testid":"license-listitem",children:(0,is.jsxs)("label",{htmlFor:`el_${t}`,className:Xc,children:[(0,is.jsx)("input",{id:`el_${t}`,type:"checkbox",className:Ts()(i.checkboxInput,s?i.defaultChecked:"",ed),disabled:Boolean(s),defaultChecked:s,onChange:()=>(e=>{a(Ne.checkLicense(e))})(t)}),(0,is.jsxs)("div",{className:td,"data-testid":"license-description",children:[e.description,e.sub_description&&(0,is.jsx)("p",{className:Kc,"data-testid":"license-sub-description",children:e.sub_description})]}),(0,is.jsx)("span",{className:"el-credit-cost",children:e.credit_cost})]})},`${e.license_type}`)}))});return(0,is.jsxs)("section",{className:"adp-licenses","data-testid":"adp-licenses",children:[r,(0,is.jsxs)("div",{children:[l,(0,is.jsx)("hr",{}),c]})]})};const sd=e=>"eps"===e.format?"eps":"jpeg"===e.format&&""!==e.size&&e.size;var id=()=>{const e=(0,o.wA)(),{sizes:t}=(0,o.d4)((e=>e.asset)),a=(0,o.d4)((e=>e.buyCardData.preferences)),i=O.getEpsPreferredSize(a),n=(r=i)?"eps"===r?r:"jpeg":"";var r;const[l,c]=(0,s.useState)(""),[d,_]=(0,s.useState)({format:n,size:"",..."eps"!==i&&{size:i}}),u=t.toArray();return{errorElem:l,pickerOptions:d,setSelected:t=>{c("");const a={...d,...t};_(a);const s=sd(a);let i="";var n;s&&(i=u.filter((e=>e.teeShirtSize===s)),e(Ne.selectAssetSize(i[0])),O.setPreferredSize(null===(n=i[0])||void 0===n?void 0:n.teeShirtSize))},validateEpsPickerAndSave:()=>{if(""===d.format?(c("format"),0):"jpeg"!==d.format||d.size||(c("size"),0)){const e=sd(d);return O.setPreferredSize(e),!0}return!1},epsFormatCtaTitle:()=>"eps"===d.format?{download:"download_eps",confirm:"confirm_eps_download"}:"jpeg"===d.format?{download:"download_jpeg",confirm:"confirm_jpeg_download"}:{download:"download_illustration",confirm:"confirm_illustration_download"},epsFormatCompleteDownload:()=>"eps"===d.format?{dropbox:"successful_download_dropbox_eps_file",local:"successful_download_local_eps_file"}:{dropbox:"successful_download_dropbox_jpeg_file",local:"successful_download_local_jpeg_file"},epsFormatTitleDownload:()=>"eps"===d.format?"eps_download_complete":"jpeg_download_complete",epsFormatTypeCreditAgreement:()=>"eps"===d.format?"credit_license_agreement_for_eps":"credit_license_agreement_for_jpeg"}},nd="SZupAPXHv9lwE4bHCnsh",rd="H2YLK8XGNKtJ73S2beSK",od="aZjghFc_EfeKZ3zoHVsg",ld="lrWt7GlujgxII793DNvb",cd="kJrQ8UxwAS0BaY2jd6kQ";const dd=({errorElem:e})=>{const t=(0,Os.c)(),a="format"===e,s=a?"select_file_type_above":"select_file_size_above";return(0,is.jsx)("section",{"data-testid":`vector-${e}-error-banner`,className:Ts()(od,{[cd]:a}),children:(0,is.jsx)("span",{className:ld,children:t(s)})})};dd.defaultProps={errorElem:""};var _d=dd,ud="fhVykPXUvWLQ_4CHdMqV",pd="iH6kD78V6BOobcFbUxUW",md="a7Uf4MIj08i2PkWU18od";var hd=({size:e,selected:t,setSelected:a})=>{const i=(0,Os.c)(),[n,r]=(0,s.useState)(!1);return(0,is.jsx)("button",{type:"button","data-testid":"jpeg-size-option",onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},onClick:t=>{t.stopPropagation(),a({size:e.teeShirtSize})},className:Ts()(ud,{[md]:n,[pd]:t}),children:(e=>{const t=O.getSizeMap()[e.teeShirtSize];return i(t)})(e)})};const gd=({pickerOptions:e,errorElem:t,setSelected:a})=>{const{sizes:s}=(0,o.d4)((e=>e.asset)),i=e.size,n="size"===t,r=Array.from(s).filter((e=>!0!==e.isEps)),l=(e=>{var t;if(!e)return"";return null===(t=r.filter((t=>t.teeShirtSize===e))[0])||void 0===t?void 0:t.description})(i);return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("section",{"data-testid":"jpeg-size-options",className:nd,children:r.map((e=>(0,is.jsx)(hd,{size:e,selected:i===e.teeShirtSize,setSelected:a},e.teeShirtSize)))}),i&&(0,is.jsx)("section",{"data-testid":"jpeg-size-details",className:rd,children:l}),n&&(0,is.jsx)(_d,{errorElem:t})]})};gd.defaultProps={pickerOptions:{format:"jpeg",size:""},errorElem:"",setSelected:()=>{}};var Cd=gd,Ed="NOg5aJnAnpuiBR0ocdDS",wd="_8lQ3dOKZZycl9kurd8r",vd="RX4NIVexP91oNlrpcQh0",Sd="RHnGInCTXn2qLXHVPJsw",Nd="fIhh1pLZd10WS629EGg_",Id="m8gSKFreN1AxHI0YC6W8",Td="vcsuBKPoBGDCQsSXd7qR",fd="lVqzYL7ojvRfxvYckZQw",Ad="nXnXnDfEs9QNb_dWKWEJ",bd="qEEtfKuAngkCL5kqu2X4",xd="XKVzhOYAppZCuOjGl8cq",Od="CiIZHu0zkDMOf2daQQdI",Dd="UxrzRcRPko5ZSBWIEkd5",yd="xQ_jDxkTWlHiQ7BDi_mg",jd="sOIAq9mBM91w6mfmsPwA",Pd="ou8YqaeUZ06nXKha5ZoC";const Rd=({value:e,heading:t,description:a,selected:i,setSelected:n,error:r,children:o})=>{const l=i===e,c=""===i,d=`vector-format-option-${e}`,[_,u]=(0,s.useState)(!1);return(0,is.jsxs)("div",{role:"radio","aria-label":t,"data-testid":d,className:(p=l,m=c,h=_,g=r,Ts()(Nd,{[Id]:p,[Td]:!p&&!m,[fd]:m,[bd]:h,[Ad]:g})),tabIndex:0,"aria-checked":l,onClick:()=>{n({format:e})},onKeyDown:t=>{32===t.keyCode&&n({format:e})},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),name:d,children:[(0,is.jsx)("span",{"data-testid":`${d}-radio`,className:Ts()(xd,{[Dd]:l,[bd]:_,[Od]:l&&o})}),(0,is.jsxs)("div",{className:yd,children:[(0,is.jsx)("span",{className:jd,children:t}),(0,is.jsx)("span",{className:Pd,children:a}),l&&o]})]},e);var p,m,h,g};Rd.defaultProps={selected:void 0,setSelected:()=>{},children:void 0,error:!1};var kd=Rd;const Ld=({errorElem:e,pickerOptions:t,setSelected:a})=>{const s=(0,Os.c)(),i=""!==e,n=t.format,r=""!==n;return(0,is.jsxs)("section",{"data-testid":"vector-format-options",className:Ts()(Ed,{[wd]:r,[vd]:i}),role:"radiogroup",children:[(0,is.jsx)(kd,{value:"jpeg",heading:s("jpeg_file"),description:s("jpeg"===n?"choose_preferred_file_type":"pixel_based"),selected:n,setSelected:a,error:"size"===e,children:(0,is.jsx)(Cd,{pickerOptions:t,errorElem:e,setSelected:a})}),!r&&(0,is.jsx)(Fd,{isError:i&&"format"===e}),(0,is.jsx)(kd,{value:"eps",heading:s("eps_file"),description:s("vector_based_requires_software"),selected:n,setSelected:a})]})};Ld.defaultProps={errorElem:"",pickerOptions:{format:"",size:""},setSelected:()=>{}};const Fd=({isError:e})=>(0,is.jsx)("div",{className:Ts()(Sd,{[vd]:e}),"data-testid":"vector-format-divider"});Fd.defaultProps={isError:!1};var Ud=Ld,Md="YvRnAIqISUDf57rcrbwY",Bd="PgyBWPUAKXUfCQsD0p53";const Wd=({errorElem:e,setSelected:t,pickerOptions:a})=>{const s="format"===e;return(0,is.jsxs)("section",{"data-testid":"vector-format-size-picker",className:Ts()(Md,{[Bd]:s}),children:[(0,is.jsx)(Ud,{errorElem:e,pickerOptions:a,setSelected:t}),s&&(0,is.jsx)(_d,{errorElem:e})]})};Wd.defaultProps={errorElem:"",setSelected:()=>{},pickerOptions:""};var zd=Wd;function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Hd.apply(null,arguments)}var Gd,Vd=({styles:e={},...t})=>i().createElement("svg",Hd({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M5.372 20.361h8.6l3.376-8.055h-4.9l-7.076 8.055zM14.621 21.03h10.74l-5.303 14.09-5.437-14.09zM22.485 12.306l3.67 8.055h8.184l-6.543-8.055h-5.31z",fill:"#AEDDD6"}),i().createElement("path",{d:"M35.864 20.704c0-.006.003-.011.003-.017 0-.033-.015-.061-.019-.093a.816.816 0 00-.04-.2c-.018-.047-.046-.086-.072-.129-.022-.037-.034-.078-.063-.113l-7.198-8.605a.834.834 0 00-.64-.299H12.363a.835.835 0 00-.627.285l-7.53 8.605c-.031.036-.045.079-.069.118-.027.044-.058.083-.077.132-.025.066-.033.135-.04.204-.005.033-.02.061-.02.095 0 .005.003.008.003.013a.832.832 0 00.056.277c.004.011.003.025.007.036a.839.839 0 00.143.21c.014.017.02.039.036.053l15.141 15.141c.013.013.03.018.044.03a.82.82 0 00.18.12c.025.012.048.027.075.037.09.034.186.057.286.057h.01c.1-.001.193-.023.283-.057.028-.01.053-.025.08-.039a.82.82 0 00.175-.117c.014-.013.034-.018.047-.032l15.059-15.141a.83.83 0 00.175-.261c.006-.014.005-.03.01-.043a.83.83 0 00.054-.267zm-22.254.816l4.19 10.955L6.845 21.52h6.765zm7.896-8.605l3.135 6.939H15.43l2.87-6.939h3.207zm3.203 8.605l-4.723 12.004-4.592-12.004h9.315zm1.791 0h6.53L22.226 32.382 26.5 21.52zm6.75-1.666h-6.78l-3.136-6.939h4.112l5.805 6.939zm-20.509-6.939h3.753l-2.868 6.939H6.67l6.071-6.939zM20.225 8.632a.833.833 0 01-.833-.833V4.167a.833.833 0 111.666 0v3.632c0 .46-.373.833-.833.833zM27.796 9.384a.833.833 0 01-.59-1.423l2.57-2.567a.833.833 0 111.178 1.178L28.385 9.14a.83.83 0 01-.589.244zM12.072 9.384a.83.83 0 01-.59-.244L8.914 6.572a.833.833 0 111.178-1.178l2.569 2.568a.833.833 0 01-.59 1.422z",fill:"#0D0D0D"}));!function(e){e.INSUFFICIENT="insufficient",e.SUFFICIENT="sufficient",e.ZERO="no"}(Gd||(Gd={}));var Yd="YWNFEPrrte3fgo0AVs6M",Kd="Qm4OUR1N6KSNuZyJIVZB",$d={upgradeChoice:"J6MRDdLvtd1jb6mESeB3",selected:"PPimrFg0Nh0WmLjCjE0o",radioContainer:"KV_3zPeX0fbJc3qsakSg",label:"hzfcWekMwy5qix19gZwb",badge:"auBpBBkkPpuuRriL5l8A",radioButton:"BEz1heXsMkvtHKP91_wE",title:"X3l7OQmH1kC7ffWJ8pb7",subtitle:"DLl1UMCI4C19vHoCm51t"};const qd=({product:e,showBadge:t,selectedSku:a,handleRadioSelection:s,showCreditsOption:i=!1})=>{const n=(0,Os.c)(),r=(0,o.d4)((e=>e.calc.selectedAccountHasAnyCredits)),l=(0,o.d4)((e=>e.calc.step.neededCredits)),c=(0,o.d4)((e=>e.calc.step.oneCreditNeeded)),d=(0,o.d4)((e=>e.calc.step.oneCreditRemaining)),_=(0,o.d4)((e=>e.calc.step.balance)),u=!r,p=()=>a===(i?"credit":e.sku);return(0,is.jsxs)("div",{className:`${$d.upgradeChoice} ${p()?$d.selected:""}`,"data-testid":"radio-button",onChange:s,role:"radio",tabIndex:0,"aria-checked":!0,children:[t?(0,is.jsx)(il,{className:$d.badge,"data-testid":"badge",children:(0,is.jsx)("span",{"data-testid":"badge",children:(0,is.jsx)(ys.A,{children:n("best_value_caps")})})}):null,(0,is.jsxs)("label",{className:$d.label,htmlFor:i?"credit":e.sku,"data-testid":"label",children:[(0,is.jsx)("input",{type:"radio",className:$d.radioButton,value:i?"credit":e.sku,name:"purchase-choice",id:i?"credit":e.sku,"data-testid":"radio",defaultChecked:p()}),(0,is.jsxs)("div",{className:$d.titleContainer,children:[(0,is.jsx)("div",{className:$d.title,"data-testid":"title",children:i?n("get_image_with_credits"):u?n("any_downloads_for_price",{downloads:e.download_cap,price:e.price_per_month}):n("get_image_by_upgrading")}),(0,is.jsx)("div",{className:$d.subtitle,"data-testid":"subtitle",children:(()=>{if(i){const e=c?"buy_one_more_credit":"buy_multiple_credits";return`${n(d?"single_credit_available":"multiple_credits_available",{available:_})}\n        ${n(e,{needed:l})}`}return u?n("per_image",{price:e.price_per_image}):n("any_downloads_for_price",{downloads:e.download_cap,price:e.price_per_month})})()})]})]})]})};qd.defaultProps={product:null,showBadge:!1,showCreditsOption:!1};var Jd=qd,Qd="lewH3g0fs1B9xAb_2vXZ",Zd="vh7oVkyqBObJQ0gfOwU6";var Xd=({buttonText:e,variant:t,isUpgradeButton:a=!0,selectedSku:i=null,ga4CreditsStatus:n,ga4CtaLabel:r})=>{var o;const l=bo(),c=(0,In.A)(),d=i&&"credit"!==i,u=d?()=>l.redirectToFastCheckoutWithUpgrade(i):l.redirectToPricing,p=d?l.fastCheckoutWithUpgradeUrl(i):l.pricingUrl(),m=null!==(o={"super-cta":Ks.Jr.PRIMARY,"primary-cta":Ks.Jr.SECONDARY,"hollow-cta":Ks.Jr.HOLLOW}[t])&&void 0!==o?o:Ks.Jr.PRIMARY,h=Ts()({[Qd]:a,[Zd]:!a});return(0,s.useEffect)((()=>{(()=>{const e=(0,Tn.A)({cta_interaction:"cta_shown",cta_selection:`self_upgrade_premium-${n}-credits`,cta_text:r,cta_url:p,ui_element_location:c});(0,_.C)(e)})()}),[p]),(0,is.jsx)(Ks.Ay,{type:"submit","data-testid":"cta-button",className:h,variant:m,size:Ks.Ni.LARGE,onClick:e=>{e.preventDefault(),(()=>{if(d){const e=(0,Tn.A)({cta_interaction:"cta_clicked",cta_text:r,cta_url:p,ui_element_location:c});(0,_.C)(e)}})(),u()},fullWidth:!0,children:e})};var e_=()=>{var e,t;const a=(0,Os.c)(),i=(0,o.d4)((e=>e.calc.totalCreditCost)),n=(0,o.d4)((e=>e.calc.step.upsellData)),r=(0,o.d4)((e=>e.calc.step.oneCreditNeeded)),[l,c]=(0,s.useState)((null==n||null===(e=n.product_two)||void 0===e?void 0:e.sku)||(null==n||null===(t=n.product_one)||void 0===t?void 0:t.sku)),d=e=>{c(e.target.value)},_=r?"get_image_one_credit":"get_image_x_credits";return(0,is.jsxs)("div",{"data-testid":"zero-credits-component",children:[(0,is.jsxs)("div",{className:Yd,children:[(0,is.jsx)(Vd,{className:Kd,"data-testid":"icon"}),(0,is.jsx)(ys.A,{children:a("get_this_image_by_upgrading",{strong:"<strong>",end_strong:"</strong>"})})]}),(0,is.jsx)("span",{children:(0,is.jsx)(ys.A,{children:a("ready_to_upgrade")})}),(0,is.jsx)("hr",{}),n.product_one&&(0,is.jsx)(Jd,{product:n.product_one,selectedSku:l,handleRadioSelection:d}),(0,is.jsx)("hr",{}),n.product_two&&(0,is.jsx)(Jd,{product:n.product_two,selectedSku:l,handleRadioSelection:d,showBadge:!0}),(0,is.jsx)("hr",{}),(0,is.jsx)(Xd,{buttonText:a("upgrade_to_premium"),variant:"primary-cta",selectedSku:l,ga4CreditsStatus:Gd.ZERO,ga4CtaLabel:"upgrade_to_premium"}),(0,is.jsx)(Xd,{buttonText:a(_,{amount:i}),variant:"hollow-cta",isUpgradeButton:!1,ga4CreditsStatus:Gd.ZERO,selectedSku:"credit",ga4CtaLabel:_})]})};var t_=()=>{var e,t,a;const i=(0,Os.c)(),n=(0,o.d4)((e=>e.calc.step.upsellData)),[r,l]=(0,s.useState)((null==n||null===(e=n.product_one)||void 0===e?void 0:e.sku)||(null==n||null===(t=n.product_two)||void 0===t?void 0:t.sku)),c=e=>{l(e.target.value)},d="credit"===r?"buy_credits":"upgrade_your_subscription",_=null!==(a=null==n?void 0:n.product_one)&&void 0!==a?a:null==n?void 0:n.product_two;return(0,is.jsxs)("div",{"data-testid":"insufficient-credits-component",children:[(0,is.jsx)("hr",{}),(0,is.jsx)(Jd,{selectedSku:r,handleRadioSelection:c,showCreditsOption:!0}),(0,is.jsx)("hr",{}),(0,is.jsx)(Jd,{product:_,selectedSku:r,handleRadioSelection:c,showBadge:!0}),(0,is.jsx)("hr",{}),(0,is.jsx)(Xd,{buttonText:i(d),variant:"primary-cta",selectedSku:r,ga4CreditsStatus:Gd.INSUFFICIENT,ga4CtaLabel:d})]})},a_="ubQ2qE9EQCIjLa4WspC1";var s_=()=>{const e=(0,o.wA)(),t=(0,o.d4)((e=>e.calc.selectedAccountHasAnyCredits)),a=(0,o.d4)((e=>e.subscription.sku)),s=!t,i=(0,o.d4)((e=>e.calc.step.confirmSection))?(0,is.jsx)("div",{className:a_,children:(0,is.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,is.jsx)(Oi.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{e(Ne.cancelDownload())}})})}):null;return((e,t)=>{window.tracking_data&&(window.tracking_data.page_mode=e?"premium_self_upgrade_insufficient-credits":"premium_self_upgrade-no-credits",window.tracking_data.sku=t)})(t,a),(0,is.jsxs)(is.Fragment,{children:[i,s?(0,is.jsx)(e_,{}):(0,is.jsx)(t_,{})]})};function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i_.apply(null,arguments)}var n_=({styles:e={},...t})=>i().createElement("svg",i_({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M5.5 7.806v8.212h28.826V7.806h-5.172s.42 4.801-2.37 4.428c0 0-2.733.264-2.622-4.61h-8.76v2.765s-.636 1.996-2.368 1.845c0 0-2.923.57-2.37-4.61L5.5 7.806z",fill:"#AFDED7"}),i().createElement("path",{d:"M11.5 32.154l-1.116-1.116 7.154-7.153 4 4 7.043-8 1.053 1.034-8.076 9.216-4.02-4.02-6.038 6.039z",fill:"#000"}),i().createElement("path",{d:"M34.325 6.79h-4.548v-.467a2.962 2.962 0 00-2.958-2.958 2.962 2.962 0 00-2.958 2.958v.468h-7.92v-.5a2.962 2.962 0 00-2.96-2.958 2.962 2.962 0 00-2.958 2.959v.499H5.5a.833.833 0 00-.833.833v27.89c0 .461.373.834.833.834h28.825c.46 0 .834-.373.834-.833V7.624a.833.833 0 00-.834-.833zm-8.798-.467c0-.712.58-1.292 1.292-1.292.712 0 1.292.58 1.292 1.292V9.99c0 .712-.58 1.291-1.292 1.291-.712 0-1.292-.58-1.292-1.291V6.323zM11.69 6.292c0-.713.58-1.292 1.292-1.292.712 0 1.291.58 1.291 1.292v3.666c0 .713-.579 1.292-1.291 1.292s-1.292-.58-1.292-1.292V6.292zm-1.667 2.165v1.501a2.962 2.962 0 002.959 2.959 2.962 2.962 0 002.958-2.959v-1.5h7.92V9.99a2.962 2.962 0 002.959 2.958 2.962 2.962 0 002.958-2.958V8.457h3.715v6.727H6.333V8.457h3.69zm-3.69 26.225V16.85h27.16v17.83H6.332z",fill:"#0D0D0D"}));const r_=e=>e.includes("PLUS")?"ppv":e.includes("PREM")?"premium":"basic",o_=(e,t)=>`self_upgrade_higher_${r_(e)}_${t?"no":"low"}_downloads`,l_=(e,t,a,s,i,n,r=void 0)=>{const o=(0,Tn.A)({cta_interaction:e,cta_text:t,cta_selection:o_(a,s),cta_url:i,ui_element_location:n,...r?{download_flow:r}:{}});(0,_.C)(o)},c_=(e,t,a,s=!0)=>{l_("cta_clicked",t,e,s,a,"download_actions","{}")},d_=(e,t,a=!0)=>{l_("cta_shown",`upgrade_to_higher_${r_(e)}`,e,a,void 0,t,void 0)};var __={closeIcon:"ikuDVmF1txCkCU1xwZtB",promoContainer:"jdfAc5y5Ia5Ujv3qmwx_",upgradePromo:"TwVfDobsP_y3VVqrrVsL",icon:"z0oTiNcwTiO6Z1Kd0Ocj",upgradeText:"yla_8raVrA_M5VK0CAk_"},u_={upgradeChoice:"B_xpaXl9yRu0zqDbF_qx",selected:"N9nNIqw355ARxtYm7PPQ",radioContainer:"_NRbRgEvBecD1xb_cxfQ",label:"HyDWKb22U90gTUTMAYSK",badge:"BjSMXhDqBzSvwBlTFtOH",radioButton:"eqnUlo8vQzkfX4ZFvvkQ",title:"PiG_Wgy9EOI3LEjIqgc8",subtitle:"grPj47ko1NWUPvU2CmO1"};const p_=({product:e,showBadge:t,selectedSku:a,handleRadioSelection:s,showCreditsOption:i})=>{var n,r,l;const c=(0,Os.c)(),{isPPV:d}=(0,o.d4)((e=>e.userDetails.subsInfo)),_=()=>!!i||a===(null==e?void 0:e.sku),u=(0,o.d4)((e=>e.userDetails.istock_asset_credit_cost)),p=d?"file_amount_for_price":"image_amount_for_price",m=i?c("get_image_with_credits"):c(p,{amount:e.download_cap,formatted_price:e.price_per_month}),h=i?c("buy_one_credit_for_price",{price:u}):c(d?"price_per_asset":"per_image",{price:e.price_per_image});return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("hr",{}),(0,is.jsxs)("div",{className:`${u_.upgradeChoice} ${_()?u_.selected:""}`,"data-testid":"radio-button",onChange:s,role:"radio",tabIndex:0,"aria-checked":!0,children:[t?(0,is.jsx)(il,{className:u_.badge,"data-testid":"badge",children:(0,is.jsx)("span",{"data-testid":"badge",children:(0,is.jsx)(ys.A,{children:c("best_value_caps")})})}):null,(0,is.jsxs)("label",{className:u_.label,htmlFor:null!==(n=null==e?void 0:e.sku)&&void 0!==n?n:"credits","data-testid":"label",children:[(0,is.jsx)("input",{type:"radio",className:u_.radioButton,value:null!==(r=null==e?void 0:e.sku)&&void 0!==r?r:"credits",name:"purchase-choice",id:null!==(l=null==e?void 0:e.sku)&&void 0!==l?l:"credits","data-testid":"radio",defaultChecked:_()}),(0,is.jsxs)("div",{className:u_.titleContainer,children:[(0,is.jsx)("div",{className:u_.title,"data-testid":"title",children:m}),(0,is.jsx)("div",{className:u_.subtitle,"data-testid":"subtitle",children:h})]})]})]})]})};p_.defaultProps={product:null,showBadge:!1,showCreditsOption:!1};var m_=p_,h_="HDRbCrU7iFckDXOKf1b4",g_="rqnWryK5G7noWCRnvbbN";const C_=({buttonText:e,variant:t,isUpgradeButton:a,selectedSku:s})=>{const i=bo(),n=(0,o.d4)((e=>e.calc.step.subscriptionSku)),r=e=>{a?c_(n,"upgrade_subscription",i.fastCheckoutWithUpgradeUrl(s)):c_(n,"get_this_image_credits",i.pnpCreditsUrl()),e.preventDefault(),a?i.redirectToFastCheckoutWithUpgrade(s):window.location.href=i.pnpCreditsUrl()},l=null!=t?t:Ks.Jr.PRIMARY,c=Ts()("secondary"===t?h_:g_);return(0,is.jsx)(Ks.Ay,{type:"submit","data-testid":"cta-button",className:c,variant:l,size:Ks.Ni.LARGE,onClick:e=>r(e),fullWidth:!0,children:e})};C_.defaultProps={isUpgradeButton:!0,selectedSku:null};var E_=C_;var w_=()=>{var e,t;const a=(0,Ds.F)(),i=(0,Os.c)(),n=(0,In.A)(),r=(0,o.d4)((e=>e.calc.step.upsellData)),l=(0,o.d4)((e=>e.calc.totalCreditCost)),c=(0,o.d4)((e=>e.buyCardData.higherVolumeSelfUpgrade.canSelfUpsell)),d=(0,o.d4)((e=>e.userDetails.subsInfo.downloadLimit)),_=(0,o.d4)((e=>e.calc.step.subscriptionSku)),[u,p]=(0,s.useState)((null==r||null===(e=r.product_two)||void 0===e?void 0:e.sku)||(null==r||null===(t=r.product_one)||void 0===t?void 0:t.sku)),{isFilm:m}=(0,o.d4)((e=>e.asset)),h=e=>{p(e.target.value)},g=a.cleanPath("/customer-support/upgrade"),C=m?"boost_subscription_add_more":"boost_your_subscription";return(0,s.useEffect)((()=>{d_(_,n)}),[]),(0,is.jsxs)("div",{"data-testid":"zero-downloads-component",children:[(0,is.jsxs)("div",{className:__.upgradePromo,children:[(0,is.jsx)(n_,{className:__.icon,"data-testid":"icon"}),(0,is.jsxs)("div",{className:__.upgradeText,children:[(0,is.jsx)(ys.A,{children:i("no_available_downloads",{strong:"<strong>",download_cap:d,end_strong:"</strong>"})}),c?i(C):(0,is.jsxs)("a",{href:g,children:[(0,is.jsx)("span",{children:i("dont_run_out_again")}),(0,is.jsxs)("span",{children:[i("contact_us"),">"]})]})]})]}),(0,is.jsx)("span",{className:__.optionsText,children:(0,is.jsx)(ys.A,{children:i("download_options")})}),c&&(0,is.jsxs)(is.Fragment,{children:[r.product_one&&(0,is.jsx)(m_,{product:r.product_one,selectedSku:u,handleRadioSelection:h}),r.product_two&&(0,is.jsx)(m_,{product:r.product_two,selectedSku:u,handleRadioSelection:h,showBadge:!0}),(0,is.jsx)("hr",{}),(0,is.jsx)(E_,{buttonText:i("upgrade_cta"),variant:Ks.Jr.SECONDARY,selectedSku:u}),(0,is.jsx)(E_,{buttonText:i(1===l?"get_image_one_credit":"get_image_x_credits",{amount:l}),variant:Ks.Jr.HOLLOW,isUpgradeButton:!1,selectedSku:"credit"})]}),!c&&(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)(m_,{selectedSku:"credits",handleRadioSelection:h,showCreditsOption:!0}),(0,is.jsx)(E_,{buttonText:i("buy_credits"),variant:Ks.Jr.SECONDARY,isUpgradeButton:!1})]})]})};var v_=()=>{const e=(0,Os.c)(),t=(0,In.A)(),a=(0,o.d4)((e=>e.calc.step.downloadsRemaining)),i=(0,o.d4)((e=>e.calc.step.subscriptionSku)),{higherVolumeUpgradeRedirectUrl:n}=bo();return(0,s.useEffect)((()=>{document.getElementById("upgrade-plan-redirect-link").addEventListener("click",(()=>c_(i,"upgrade_subscription_low_downloads",n(),!1))),d_(i,t,!1)}),[]),(0,is.jsxs)("div",{className:__.promoContainer,"data-testid":"some-downloads-component",children:[(0,is.jsx)(n_,{className:__.icon,"data-testid":"icon"}),(0,is.jsxs)("div",{className:__.upgradeText,children:[(0,is.jsx)(ys.A,{children:1===a?e("one_download_remaining"):e("available_downloads_remaining",{available:a})}),(0,is.jsx)(ys.A,{children:e("dont_run_out_of_downloads",{links:[{href:n(),target:"_blank",rel:"noopener noreferrer nofollow",id:"upgrade-plan-redirect-link"}]})})]})]})};var S_=()=>{const e=(0,o.wA)(),t=(0,o.d4)((e=>e.calc.step.downloadsRemaining)),a=(0,o.d4)((e=>e.calc.step.isConfirmationState)),s=(0,o.d4)((e=>e.calc.step.cancelButton))?(0,is.jsx)("div",{className:__.closeIcon,children:(0,is.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,is.jsx)(Oi.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{e(Ne.cancelDownload())}})})}):null;return(0,is.jsxs)(is.Fragment,{children:[s,0===t&&(0,is.jsx)(w_,{}),a&&t>0&&(0,is.jsx)(v_,{})]})},N_="weMD47uojTSjy4Qw8ZRQ",I_="KmTHr1nVV1xa5J0QStX6";var T_=()=>{const e=(0,Os.c)(),{upgradePlanRedirectUrl:t}=bo();return(e=>{window.tracking_data&&(window.tracking_data.page_mode="premium_self_upgrade-sufficient-credits",window.tracking_data.sku=e)})((0,o.d4)((e=>e.subscription.sku))),(0,s.useEffect)((()=>{(e=>{const t=(0,Tn.A)({cta_interaction:"cta_shown",cta_selection:"self_upgrade_premium-sufficient-credits",cta_text:"upgrade_your_plan",cta_url:e,ui_element_location:"download_actions"});(0,_.C)(t)})(t())}),[]),(0,is.jsx)("div",{"data-testid":"sufficient-credits-component",children:(0,is.jsxs)("div",{className:N_,children:[(0,is.jsx)(Vd,{className:I_,"data-testid":"icon"}),(0,is.jsxs)("span",{"data-testid":"sufficient-credit-msg",children:[e("want_to_access_all_images"),(0,is.jsx)(ys.A,{children:e("upgrade_your_plan",{links:[{href:t(),id:"upgrade-plan-redirect-link"}]})}),(0,is.jsx)("br",{})]})]})})};var f_=()=>{const e=(0,o.d4)((e=>e.asset)),t=(0,o.d4)((e=>e.calc.step.showTshirtSizes)),a=(0,o.d4)((e=>e.calc.step.completeSection)),s=(0,o.d4)((e=>e.calc.step.isConfirmationState)),i=(0,o.d4)((e=>e.calc.step.redownloadSection)),n=(0,o.d4)((e=>e.calc.step.viewLicenseSelection)),r=(0,o.d4)((e=>e.calc.redownloadForFree)),l=(0,o.d4)((e=>e.userDetails.free_trial_subscription_test_active)),c=(0,o.d4)((e=>e.calc.step.showBasicSelfServeUpgrade)),d=(0,o.d4)((e=>e.calc.step.showHigherVolumeSelfUpgrade)),_=(0,o.d4)((e=>!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits)),{errorElem:u,pickerOptions:p,setSelected:m,validateEpsPickerAndSave:h,epsFormatCtaTitle:g,epsFormatCompleteDownload:C,epsFormatTitleDownload:E,epsFormatTypeCreditAgreement:w}=id();return(0,is.jsx)("div",{className:"download-actions","data-testid":"eps-download-actions",children:(0,is.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[n?(0,is.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,is.jsx)(Yc,{}),(0,is.jsx)(ad,{})]}):!l&&(0,is.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,is.jsx)(Hc,{isEpsFormatTest:!0,epsFormatTitleDownload:E}),e.isEditorialUseOnly&&(0,is.jsx)("div",{className:"editorial-bubble",children:(0,is.jsx)(Vc,{})}),!r&&!a&&(0,is.jsx)(wc,{}),t&&(0,is.jsx)(zd,{errorElem:u,setSelected:m,pickerOptions:p})]}),d&&(0,is.jsx)(S_,{}),(!l||n)&&(0,is.jsx)(Ql,{validateEpsPickerAndSave:h,isEpsFormatTest:!0,epsFormatCtaTitle:g,epsFormatCompleteDownload:C}),i&&!e.freeFile&&(0,is.jsx)(Zl,{}),s&&(0,is.jsx)(ec,{isEpsFormatTest:!0,epsFormatTypeCreditAgreement:w}),c&&(0,is.jsx)(s_,{}),s&&_&&(0,is.jsx)(T_,{})]})})},A_="zjuS5IAg5CQhd8M44bdT",b_="e3pHE6gYUawxzoWGsSVz";var x_=({buttonText:e,variant:t,isUpgradeButton:a=!1,selectedSku:i=null,creditsFastCheckout:n=!1,redirectToPricing:r=!0,ga4CreditsStatus:o})=>{var l;const c=bo(),d=a?"upgrade_to_ppv":"buy_credits",[u,p]=a?i?[()=>c.redirectToFastCheckoutWithUpgrade(i),c.fastCheckoutWithUpgradeUrl(i)]:r?[c.redirectToSelfServeUpgrade,c.selfServeUpgradeUrl()]:[c.redirectToPPVUpgradeContactUs,c.ppvUpgradeContactUsUrl()]:n?[c.redirectToFastCheckout,c.fastCheckoutUrl()]:[c.redirectToPricing,c.pricingUrl()],m=null!==(l={"primary-cta":Ks.Jr.SECONDARY,"hollow-cta":Ks.Jr.HOLLOW}[t])&&void 0!==l?l:Ks.Jr.PRIMARY,h=Ts()("primary-cta"===t?A_:b_);return(0,s.useEffect)((()=>{(()=>{const e=(0,Tn.A)({cta_interaction:"cta_shown",cta_selection:`is_ppv_self_upgrade-${o}-credits`,cta_text:d,cta_url:p,ui_element_location:"download_actions"});(0,_.C)(e)})()}),[p]),(0,is.jsx)(Ks.Ay,{type:"submit","data-testid":"cta-button",className:h,variant:m,size:Ks.Ni.LARGE,onClick:e=>{(()=>{const e=(0,Tn.A)({cta_interaction:"cta_clicked",cta_selection:`self_upgrade_image_toppv_${o}_credits`,cta_text:d,cta_url:p,ui_element_location:"download_actions"});(0,_.C)(e)})(),(e=>{e.preventDefault(),u()})(e)},fullWidth:!0,children:e})},O_="OCvLDWhVCWdAKiqLfmZg",D_="hyfQbD_caPSinI00Sjsp",y_="d6Iqfo2DeAxKwffGFS_A",j_="stGKa1H6RCI8kzbMHf_2",P_="IHQ18PQk_YlYPXVKIn0F",R_="ycqWZmIV1NdVSojlWi7U",k_="GZxXRTA0gNVw47MBbKAy",L_="iRrlxfEjoaK_CylNp6Di",F_="OPdYhmdxHYTmMwrHpjo5",U_="zmgKA4gHoA1gSQj4o0JP";const M_=({upsellProduct:e={price_per_image:"",download_cap:0},showBadge:t,selectedOption:a,handleRadioSelection:s,isCredits:i=!1})=>{const n=(0,Os.c)(),r=(0,o.d4)((e=>e.calc.totalCreditCost)),l=(0,o.d4)((e=>e.userDetails.istock_asset_credit_cost)),c=!(0,o.d4)((e=>e.calc.selectedAccountHasAnyCredits)),d=(0,o.d4)((e=>e.calc.step.oneCreditRemaining)),_=i?"credits":"upgrade",u=(0,o.d4)((e=>e.calc.step.balance)),p=a===_,m=p?D_:"",h=n(i?"get_this_video_with_credits":"upgrade_to_an_annual_premium");return(0,is.jsxs)("div",{className:`${O_} ${m}`,"data-testid":"radio-button",onChange:s,role:"radio",tabIndex:0,"aria-checked":!0,children:[t?(0,is.jsx)(il,{className:j_,"data-testid":"badge",children:(0,is.jsx)("span",{"data-testid":"badge",children:(0,is.jsx)(ys.A,{children:n("best_value_caps")})})}):null,(0,is.jsxs)("label",{className:y_,htmlFor:_,"data-testid":"label",children:[(0,is.jsx)("input",{type:"radio",className:P_,value:_,name:"purchase-choice",id:_,"data-testid":"radio",defaultChecked:p}),(0,is.jsxs)("div",{className:R_,children:[(0,is.jsx)("div",{className:k_,"data-testid":"title",children:h}),(0,is.jsx)("div",{className:L_,"data-testid":"subtitle",children:(()=>{if(i){if(c)return n("buy_credits_for_price",{num_credits:r,price:l});return`${n(d?"single_credit_available":"multiple_credits_available",{available:u})}\n        ${n("buy_more_credits")}`}return(0,is.jsxs)("ul",{className:F_,children:[(0,is.jsx)("li",{className:U_,children:c?n("get_video_for_price",{price:e.price_per_image}):n("get_lowest_price_video")}),(0,is.jsx)("li",{className:U_,children:c?n("any_x_files_per_month",{files_per_month:e.download_cap}):n("access_any_file")}),(0,is.jsx)("li",{className:U_,children:n("rollover_250_unused_downloads")})]})})()})]})]})]})};M_.defaultProps={showBadge:!1,isCredits:!1,upsellProduct:{}};var B_=M_,W_="aTLuXBkRBecG2Edtu8FK",z_="_dHY7NeKnR5XEezRK02A";var H_=()=>{const e=(0,Os.c)(),t=(0,o.d4)((e=>e.calc.totalCreditCost)),a=(0,o.d4)((e=>e.buyCardData.enhancedPPVUpgrade)),{upsellProduct:i}=a,n=a.canSelfUpsell?i.sku:null,r=()=>a.canSelfUpsell?n?"primary-cta":"hollow-cta":"primary-cta",[l,c]=(0,s.useState)(a.canSelfUpsell?"upgrade":"credits"),d="credits"===l,_=e=>{c(e.target.value)};return(0,is.jsxs)("div",{className:z_,"data-testid":"zero-credits-component",children:[(0,is.jsx)("hr",{}),(0,is.jsx)(B_,{selectedOption:l,handleRadioSelection:_,isCredits:!0}),(0,is.jsx)("hr",{}),(0,is.jsx)(B_,{upsellProduct:i,selectedOption:l,handleRadioSelection:_,showBadge:!0}),(0,is.jsx)("hr",{}),d?(0,is.jsx)(x_,{buttonText:e("get_video_with_credits",{price_per_clip:t}),variant:r(),creditsFastCheckout:!0,ga4CreditsStatus:Gd.ZERO}):(0,is.jsx)(x_,{buttonText:e("upgrade_to_premium_plus_video"),variant:r(),isUpgradeButton:!0,selectedSku:n,redirectToPricing:!1,ga4CreditsStatus:Gd.ZERO})]})};var G_=()=>{const e=(0,Os.c)(),t=(0,o.d4)((e=>e.buyCardData.enhancedPPVUpgrade.upsellProduct)),[a,i]=(0,s.useState)("upgrade"),n=e=>{i(e.target.value)},r="credits"===a,l=r?"buy_credits":"upgrade_your_subscription";return(0,is.jsxs)("div",{className:z_,"data-testid":"insufficient-credits-component",children:[(0,is.jsx)("hr",{}),(0,is.jsx)(B_,{selectedOption:a,handleRadioSelection:n,isCredits:!0}),(0,is.jsx)("hr",{}),(0,is.jsx)(B_,{upsellProduct:t,selectedOption:a,handleRadioSelection:n,showBadge:!0}),(0,is.jsx)("hr",{}),(0,is.jsx)(x_,{buttonText:e(l),variant:"primary-cta",isUpgradeButton:!r,ga4CreditsStatus:Gd.INSUFFICIENT})]})};var V_=()=>{const e=(0,o.wA)(),t=(0,o.d4)((e=>e.calc.selectedAccountHasAnyCredits)),a=(0,o.d4)((e=>e.calc.selectedAccountHasEnoughCredits)),i=t&&!a,n=(0,o.d4)((e=>e.calc.step.confirmSection))?(0,is.jsx)("div",{className:W_,children:(0,is.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,is.jsx)(Oi.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{e(Ne.cancelDownload())}})})}):null,r=!t;return(0,s.useEffect)((()=>{window.tracking_data&&(window.tracking_data.page_mode=t?"ppv_midterm_upgrade-insufficient-credits":"ppv_midterm_upgrade-no-credits")}),[]),(0,is.jsxs)("div",{className:z_,children:[n,r&&(0,is.jsx)(H_,{}),i&&(0,is.jsx)(G_,{})]})},Y_="fxB8oSWfDxxgqaxgIbyj",K_="gm2mIjLKm6OZpfNYmsEz",$_="d7TxhhKRUtUo8QO9l5Tr";var q_=()=>{const e=(0,Os.c)(),t=bo().selfServeUpgradeUrl();return(0,s.useEffect)((()=>{window.tracking_data&&(window.tracking_data.page_mode="ppv_midterm_upgrade-sufficient-credits"),(()=>{const e=(0,Tn.A)({cta_interaction:"cta_shown",cta_selection:"is_ppv_self_upgrade-sufficient-credits",cta_text:"upgrade_to_ppv",cta_url:t,ui_element_location:"download_actions"});(0,_.C)(e)})()}),[]),(0,is.jsxs)("div",{"data-testid":"sufficient-credits-component",children:[(0,is.jsx)("hr",{}),(0,is.jsxs)("div",{className:Y_,children:[(0,is.jsx)(Vd,{className:K_,"data-testid":"icon"}),(0,is.jsxs)("span",{children:[e("save_on_each_clip_download"),(0,is.jsx)("a",{className:$_,"data-testid":"sufficient-credit-msg",href:t,onClick:()=>{const e=(0,Tn.A)({cta_interaction:"cta_clicked",cta_selection:"self_upgrade_image_toppv_sufficient_credits",cta_text:"upgrade_to_ppv",cta_url:t,ui_element_location:"download_actions"});(0,_.C)(e)},children:(0,is.jsx)("span",{children:e("upgrade_to_plan_to_premium_video")})}),(0,is.jsx)("br",{})]})]})]})};const J_=({showEPSFileTypeTest:e,imageIsEdited:t,editsPendingForDownload:a})=>{const s=(0,o.d4)((e=>e.asset)),i=(0,o.d4)((e=>e.calc.step.completeSection)),n=(0,o.d4)((e=>e.calc.step.isConfirmationState)),r=(0,o.d4)((e=>e.calc.step.redownloadSection)),l=(0,o.d4)((e=>e.calc.step.viewLicenseSelection)),c=(0,o.d4)((e=>e.calc.redownloadForFree)),d=(0,o.d4)((e=>e.mobileSimplification)),_=(0,o.d4)((e=>e.userDetails.istock_asset_credit_cost)),u=(0,o.d4)((e=>e.calc.totalCreditCost)),p=(0,Os.c)(),m=(0,o.d4)((e=>e.userDetails.free_trial_subscription_test_active)),h=(0,o.d4)((e=>e.userDetails.free_trial_subscription_multivariant_eligible)),g=(0,o.d4)((e=>e.calc.step.showBasicSelfServeUpgrade)),C=(0,o.d4)((e=>e.calc.step.showEnhancedPPVUpgrade)),E=(0,o.d4)((e=>e.calc.step.showHigherVolumeSelfUpgrade)),w=(0,o.d4)((e=>e.calc.selectedAccountHasEnoughCredits&&e.buyCardData.enhancedPPVUpgrade.eligible&&e.asset.isFilm)),v=!d&&(!m||m&&h||l),S=m&&!h&&!l,N=!m||h,I=(0,o.d4)((e=>!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits));return e?(0,is.jsx)(f_,{}):(0,is.jsxs)("div",{className:"download-actions","data-testid":"download-actions",children:[(0,is.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[l?(0,is.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,is.jsx)(Yc,{}),(0,is.jsx)(ad,{})]}):N&&(0,is.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,is.jsx)(Hc,{editsPendingForDownload:a,imageIsEdited:t}),s.isEditorialUseOnly&&(0,is.jsx)("div",{className:"editorial-bubble",children:(0,is.jsx)(Vc,{})}),!c&&!i&&(0,is.jsx)(wc,{}),(0,is.jsx)(Ec,{})]}),g&&(0,is.jsx)(s_,{}),C&&(0,is.jsx)(V_,{}),E&&(0,is.jsx)(S_,{}),v&&(0,is.jsx)(Ql,{editsPendingForDownload:a,imageIsEdited:t,hasEnoughCredits:n&&(I||w)}),S&&(0,is.jsx)(fc,{}),r&&!s.freeFile&&(0,is.jsx)(Zl,{}),!i&&t&&(0,is.jsx)(wo.A,{title:p("your_download_includes_v2"),firstListItemText:p("one_original_image"),secondListItemText:p("one_modified_image"),allowMultipleFileText:p("allow_multiple_files_saved")}),n&&(0,is.jsx)(ec,{}),n&&I&&(0,is.jsx)(T_,{}),n&&w&&(0,is.jsx)(q_,{}),c&&!i&&!d&&(!m||l)&&(0,is.jsx)(ac,{})]}),d&&(0,is.jsx)(oc,{children:!m&&(0,is.jsxs)("div",{"data-testid":"mobile-cta-header",children:[(0,is.jsx)("span",{children:_})," |"," ",(0,is.jsx)("span",{className:"grey-cta-modal-text",children:(0,is.jsx)(bc,{totalCreditCost:u})})]})})]})};J_.defaultProps={showEPSFileTypeTest:null,editsPendingForDownload:!1,imageIsEdited:!1};var Q_=(0,Ui.A)(J_,"download_actions"),Z_=a(69668),X_=a(78664),eu=a(26260),tu="On2k0dR0Tp4fpe8sBNJo";const au=({editable:e,isFilm:t})=>{const a=(0,Os.c)(),i=(0,s.useMemo)((()=>e&&!t),[e,t]),n=(0,s.useMemo)((()=>e&&t),[e,t]);return(0,is.jsxs)(X_.A,{className:tu,children:[n&&(0,is.jsx)(eu.A,{"data-testid":"create-video-projects-with-editor",children:a("create_video_projects_with_editor")}),(0,is.jsx)(eu.A,{children:a("save_and_share")}),(0,is.jsx)(eu.A,{children:a("track_download_history")}),(0,is.jsx)(eu.A,{children:a("complete_purchase_faster")}),i&&(0,is.jsx)(eu.A,{"data-testid":"and-much-more",children:a("and_much_more")})]})};au.defaultProps={editable:!1};var su=au,iu="igP1hF6TJ_LwGwzHGcR1",nu="pA3UD7eDxqfWHJJonR7g",ru="um_Dm5NZkXLBd6DxbGOX";var ou=()=>{const e=(0,o.d4)((e=>e.asset.isFilm)),t=(0,o.d4)((e=>e.asset.isEditorialUseOnly)),a=(0,o.d4)((e=>e.editable)),s=(0,o.d4)((e=>e.calc.step.viewLicenseSelection)),i=(0,o.d4)((e=>e.buyCardData.signInPath)),n=(0,Os.c)(),r=(0,Tr.m)(),l=Ts()("download-actions",iu),c=e?"sign-in__test sign-in__extra-space":"sign-in__test";return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("div",{className:l,"data-testid":"sign-in-actions",children:(0,is.jsx)("form",{className:"istock-download-form",children:s?(0,is.jsx)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:(0,is.jsx)(Yc,{})}):(0,is.jsxs)("section",{className:"adp-licenses adp-fade-and-slide","data-testid":"header",children:[(0,is.jsx)(Hc,{}),(0,is.jsx)("hr",{}),t&&(0,is.jsx)("div",{className:"editorial-bubble",children:(0,is.jsx)(Vc,{})}),(0,is.jsx)(ti.Ay,{component:ti.QY.H4,variant:ti.PT.title.small,className:nu,children:n("sign_in_better_experience_colon")}),(0,is.jsx)(su,{isFilm:e,editable:a}),(0,is.jsx)(Z_.A,{buttonStyleProps:{size:Ks.Ni.LARGE,variant:Ks.Jr.SECONDARY,fullWidth:!0},className:ru,href:i,onClick:()=>{r.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_Sign_in_Button_Click",adp_selection:"adp_sign_in",ui_element_location:"adp_buy_card"})},"data-testid":"sign-in-cta",children:n("sign_in")})]})})}),(0,is.jsx)("hr",{className:c})]})},lu=a(74253),cu="DBlmRr9bCFZnhv34CY2d",du="LnOLJ4WPBg1pjxPKMDBE",_u="cWU9wH5uj9cM5CMFEMVC",uu="nZzglQCZDqcndvQfpqOh",pu="lfKscdVREzvB1oVCcQsf",mu="hwFLofihT6hI1ximiYzB";var hu=()=>{var e;const t=(0,fr.Cz)(),a=(0,wi.useExperience)("AIContributor"),s=(0,o.d4)((e=>e.asset)),i=(0,o.d4)((e=>e.calc.isInPricingClarity)),n=(0,o.d4)((e=>e.calc.largestSizeAvailable)),r=(0,o.d4)((e=>e.userDetails.istock_asset_credit_cost)),l=(0,o.d4)((e=>e.buyCardData.assetBuyCardContentPolicy.downloadSavingsDisclaimer)),c=(0,o.d4)((e=>e.categories.categoriesView)),d=(0,o.d4)((e=>e.asset.contributor.display_name)),_=(0,o.d4)((e=>e.asset.contributor.picture_url)),u=(0,o.d4)((e=>e.asset.contributor.member_name)),p={artists:s.artist,assettype:s.assetType,family:s.assetFamily},m=u?t.contributorPath(u,(()=>{const e={};return s.isFilm&&(e.assettype=s.assetType),s.mediaType&&"unknown"!==s.mediaType&&(e.mediatype=s.mediaType),e})()):t.searchPath(p),h=(0,Os.c)(),{assetId:g,dateSubmitted:C,dateSubmittedFormatted:E,dateSubmittedVideo:w,dateSubmittedVideoFormatted:v,exclusiveContent:S,isIllustration:N,isFilm:I,isEssentialImage:T,location:f}=s,A=zn(),b=s.isFilm?w:C,x=s.isFilm?v:E,O=i,D=c&&(null===(e=c.parentKeywordCategory)||void 0===e?void 0:e.text),y=c&&c.ftlpCategory.text&&D,j=n?n.description:"";return(0,is.jsxs)(is.Fragment,{children:[(0,is.jsx)("div",{className:"adp-contributor","data-testid":"asset-contributor",children:(0,is.jsxs)("a",{className:`photographer ${_u}`,"data-testid":"photographer",href:m,onClick:()=>A.setUiElementLocation("contributor_credit_adp"),children:[(0,is.jsx)("img",{"data-testid":"photographer-image",className:"adp-contributor-avatar",src:_||null,viewBox:"0 0 98 98",alt:""}),(0,is.jsx)("span",{className:cu,children:h("credit")}),(0,is.jsx)("span",{className:du,children:d})]})}),O&&j&&(0,is.jsxs)("div",{"data-testid":"largest-size-content",className:"size-description",children:[(0,is.jsx)("span",{children:h("attributes.largest_size_available")}),(0,is.jsx)("span",{"data-testid":"largest-size-description",children:j})]}),(0,is.jsxs)("div",{className:"asset-id","data-testid":"asset-id",children:[(0,is.jsx)("span",{children:h(N?"attributes.stock_illustration_id":I?"attributes.stock_video_id":"attributes.stock_photo_id")}),(0,is.jsx)("span",{children:g})]}),C&&x?(0,is.jsxs)("div",{className:"asset-upload-date","data-testid":"asset-upload-date",children:[(0,is.jsx)("span",{children:h("upload_date")}),(0,is.jsx)("span",{children:(0,is.jsx)("time",{dateTime:b,children:x})})]}):null,s.location?(0,is.jsxs)("div",{className:pu,"data-testid":"location",children:[(0,is.jsx)("span",{className:uu,children:h("location")}),(0,is.jsx)("span",{children:f})]}):null,y&&(0,is.jsxs)("div",{className:mu,"data-testid":"asset-categories",children:[(0,is.jsx)("span",{className:uu,children:h("categories")}),(0,is.jsx)(lu.A,{ftlpCategory:c.ftlpCategory,parentKeywordCategory:c.parentKeywordCategory})]}),l&&(0,is.jsx)("div",{className:"credits-usage-disclaimer","data-testid":"credits-usage-disclaimer",children:h(I?"video_asset_savings":T?"savings_based_on_essentials_image":"savings_based_on_signature_image",{file_cost:r})}),S&&(0,is.jsx)("h5",{className:"exclusive","data-testid":"exclusive-content-label",children:h("exclusive_coverage_label")}),a.isOfferActive()&&s.ai?(0,is.jsxs)("div",{className:"contributor-ai","data-testid":"contributor-ai",children:[(0,is.jsx)("span",{children:"AI: "}),(0,is.jsx)(Z_.A,{href:"/contributorai",children:"Created with AI"})]}):null]})};function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},gu.apply(null,arguments)}var Cu=({styles:e={},...t})=>i().createElement("svg",gu({xmlns:"http://www.w3.org/2000/svg",width:"103.08",height:"96.199",viewBox:"2.608 1 103.08 96.199"},t),i().createElement("path",{fill:"#007EE5",d:"M33.36 2.125L3.609 21.55 24.18 38.025l29.999-18.523L33.36 2.125zM3.608 54.5L33.36 73.927l20.818-17.378-30-18.524L3.609 54.5zM54.18 56.549l20.818 17.378L104.75 54.5 84.178 38.025 54.18 56.55zM104.75 21.551L75 2.125 54.179 19.5l30 18.524 20.572-16.474z"}),i().createElement("path",{fill:"#007EE5",d:"M54.24 60.287L33.36 77.613l-8.933-5.833v6.54L54.24 96.199l29.814-17.88v-6.54l-8.933 5.834-20.88-17.326z"})),Eu="mPNt5ils43ExWUpANmQX",wu="rlfOvthXUKl4El1wFOIw",vu="IvUHORlPOqQqTCL0ptMM",Su="ewGaJKYxecWX5H7AGEKg",Nu="gapYMHShkSqMHNu7fj7T";var Iu=({showDropboxModal:e})=>{const t=(0,Os.c)(),[a,i]=(0,s.useState)(e);let n=null;const r=()=>{clearTimeout(n),i(!1)},o=()=>(i(!0),n=setTimeout((()=>{r()}),3e4),()=>clearTimeout(n));(0,s.useEffect)((()=>{e&&o()}),[e]);const l=()=>{r(),"undefined"!=typeof window&&window.giLocalStorage&&window.giLocalStorage.setItem("dropboxOptOut",!0)};return a&&(0,is.jsxs)("aside",{className:Eu,id:"dropbox-intro-modal",role:"dialog",children:[(0,is.jsx)(Rs.A,{className:Nu,onClick:l,"data-testid":"close-link"}),(0,is.jsxs)("div",{className:wu,children:[(0,is.jsx)(Cu,{className:Su,alt:t("dropbox")}),(0,is.jsxs)("div",{className:vu,children:[(0,is.jsx)("div",{children:t("download_workflow.dropbox_save_your_downloads")}),(0,is.jsx)("a",{href:"/account/apps",children:`${t("download_workflow.get_started")} >`})]})]})]})};var Tu=(0,Ui.A)((({licenseOverviewPath:e})=>{const t=(0,o.d4)((e=>e.calc.step.purchaseExtendedLicenseNotAllowed)),a=(0,Os.c)(),s=(0,vc.DP)().link||{},i=(0,o.wA)(),n=(0,o.d4)((e=>e.userDetails.free_trial_subscription_test_active)),r=(0,o.d4)((e=>e.mobileSimplification)),l=n&&r,c=(0,In.A)(),d=e=>{e.preventDefault(),i(Ne.pickOptionalLicenses());const t=(0,Tn.A)({cta_interaction:"extended_license_link_clicked",cta_text:"add_extended_license",cta_url:void 0,ui_element_location:c});(0,_.C)(t)};return!t&&(0,is.jsx)("div",{className:"license-and-file-data","data-testid":"license-links",children:(0,is.jsxs)("div",{children:[(0,is.jsx)("hr",{}),(0,is.jsxs)("div",{className:"license",children:[(0,is.jsx)("span",{"data-testid":"standard-license-link",className:s.textLink,children:(0,is.jsx)(ys.A,{children:a("includes_standard_license",{links:[{href:e,target:"_blank",rel:"noopener noreferrer nofollow"}]})})}),!l&&(0,is.jsx)("div",{role:"presentation",id:"show_extended_licenses",className:s.textLink,onClick:d,onKeyPress:e=>{"Enter"===e.key&&d(e)},children:(0,is.jsx)("span",{"data-testid":"extended-license-link",children:(0,is.jsx)(ys.A,{children:a("add_extended_license",{links:[{href:"#"}]})})})})]})]})})}),"license_options"),fu="W5UA9nv82mNCOvPuhJmw";const Au=({imageIsEdited:e,editsPendingForDownload:t})=>{const a=(0,o.d4)((e=>e.buyCardData.assetBuyCardContentPolicy.displayAdpSignInCta)),i=(0,o.d4)((e=>e.buyCardData.licenseOverviewPath)),n=(0,o.d4)((e=>e.calc.showDropboxModal)),{hideDetails:r,viewLicenseSelection:l,currentStep:c}=(0,o.d4)((e=>e.calc.step)),{has_subscription:d}=(0,o.d4)((e=>e.userDetails)),{hasAvailableCredits:_}=(0,o.d4)((e=>e.calc)),u=_||d,p=(0,wi.useExperience)("EPSFileType"),{isVector:h}=(0,o.d4)((e=>e.asset)),g=p.isOfferActive("TestA")&&h&&u,C=c===m.PICK_PAYMENT_OPTION;return(0,s.useEffect)((()=>{if("undefined"!=typeof window&&p.isActive()){const e="Control"===p.activeOffer()?"is_epsfiletype-control":"is_epsfiletype-expA",t=window.tracking_data.ab_test_variation;window.tracking_data.ab_test_variation=t?`${t}|${e}`:e}}),[]),a?(0,is.jsxs)("section",{children:[(0,is.jsx)(ou,{}),!r&&(0,is.jsx)(hu,{}),(0,is.jsx)(Iu,{showDropboxModal:n||!1})]}):(0,is.jsxs)("section",{className:C?fu:"",children:[(0,is.jsx)(Q_,{showEPSFileTypeTest:g,imageIsEdited:e,editsPendingForDownload:t}),!l&&(0,is.jsx)(Tu,{licenseOverviewPath:i}),!r&&(0,is.jsx)(hu,{}),(0,is.jsx)(Iu,{showDropboxModal:n||!1})]})};Au.defaultProps={editsPendingForDownload:!1};var bu=Au,xu="wmkAWS5w4QvLo_X19JpA",Ou="QhGqtOrtIL3zYevRuhww",Du="MwK45fGCbCEnFYyf858O",yu="fk44HdjTaFM5QhxtwJWu";var ju=()=>{const e=(0,o.wA)(),t=(0,Os.c)(),[a,i]=(0,s.useState)(!0),n=Al(),r=(0,o.d4)((e=>e.buyCardData.orderId)),l=(0,o.d4)((e=>e.calc.selectedAgreementSize)),c=e=>{const t="close_modal"===e?"modal_cta":void 0,a=(0,bn.A)({event:e,modal_content:"buy_n_burn",modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:t,modal_selection:"buy_n_burn_modal"});(0,_.C)(a)};(0,s.useEffect)((()=>{a&&l&&(c("modal_shown"),e(ee(!0)),n.createDownload())}),[l]);return(0,is.jsx)("aside",{children:a&&(0,is.jsx)("div",{className:xu,children:(0,is.jsx)("div",{className:Ou,children:(0,is.jsxs)("div",{className:yu,children:[(0,is.jsx)("h2",{children:t("thanks_for_your_purchase")}),(0,is.jsx)("p",{children:t("initiated_your_download")}),(0,is.jsx)("div",{children:(0,is.jsxs)("p",{children:[t("confirmation_sent_to_email"),(0,is.jsx)("span",{role:"link",tabIndex:0,children:(0,is.jsx)(ys.A,{children:t("view_order_here",{order_id:r,links:[{href:`/sales-order/${r}`,target:"_blank",rel:"noopener noreferrer",id:"order-id-link"}]})})})]})}),(0,is.jsx)("button",{type:"button",className:Du,"data-testid":"buy-and-burn-got-it",onClick:()=>{c("close_modal"),i(!1)},children:t("got_it_cta")})]})})})})};function Pu(){return Pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Pu.apply(null,arguments)}var Ru=({styles:e={},...t})=>i().createElement("svg",Pu({width:"48",height:"47",viewBox:"0 0 48 47",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M29.078.237c0 5.983 0 5.983 0 0 1.555 11.758 6.066 16.27 19.32 19.32-13.254.059-17.765 4.57-19.32 19.32-1.555-14.75-6.066-19.261-19.32-19.32 13.254-3.05 17.765-7.562 19.32-19.32zM13.805 29.216c0 1.24 0 1.24 0 0 .915 4.639 3.57 7.294 8.52 8.52-4.95.606-7.605 3.261-8.52 8.52-.916-5.259-3.571-7.914-8.52-8.52 4.949-1.225 7.604-3.881 8.52-8.52zM5.14 20.132c0 .741 0 .741 0 0 .547 2.773 2.134 4.36 5.092 5.092-2.958.363-4.545 1.95-5.092 5.093-.547-3.143-2.134-4.73-5.092-5.093 2.958-.732 4.545-2.319 5.092-5.092z"},i().createElement("animate",{attributeName:"opacity",values:"0;1;0.75;0.5;0.25;0",dur:"3s",repeatCount:"indefinite"}))),ku={assetDetail:"o1mmrvbvek738U7UT2yr",main:"zahpcukElDRb_Ohm_lOq",assetContainerComp:"yHPYlHVGpzwlgFAJcHn4",assetContainerMeta:"Rfm5Ib9MsxDzwZ1PfoKh",assetContainer:"etgO5QRmCLU1wcj0BlPn",mainImage:"IpFd5ntbKXKzp0faqOiE",mainFilm:"s5U3t2AzNsmKR0qy8eTG",subFoldContainer:"cBjX34_XGwnfVF9NAZQx",loader:"T9cJEqHyL49ePXdpBQ_4"};var Lu=()=>{const e=(0,ps.Z)(),t=(0,us.Jd)(),a=(0,o.d4)((e=>e.asset)),i=(0,o.d4)((e=>e.userDetails.pricing_clarity_flow)),n=(0,o.d4)((e=>e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow)),l=(0,o.d4)((e=>e.displayError)),c=(0,o.d4)((e=>e.calc.includedWithSubscription)),d=(0,o.d4)((e=>e.calc.isInPricingClarity)),u=(0,o.d4)((e=>e.mobileSimplification)),p=(0,o.d4)((e=>e.buyCardData.buyAndBurn)),m=(0,o.d4)((e=>e.buyCardData.orderId)),[h,g]=(0,s.useState)(!0),{showLoadingErrorMessage:C,handleLoadingErrorDismissal:E}=(0,Cs.A)(),{imageIsEdited:w}=(0,Es.A)(),{showOverlay:v,setShowOverlay:S}=(0,ws.A)(),{editsPendingForDownload:N}=(0,vs.A)(),I=""+(n&&i?"video-pricing-clarity-width":""),T=u?"simplification-test-margin":"",f=a.localizedCaption?a.localizedCaption:a.title,A=(0,o.wA)();(0,ms.A)(a);const b=(0,o.d4)((e=>e.userDetails)),x=b.subscription_upgrade,O=m||x;return(0,s.useEffect)((()=>{e.sendAssetDetailsViewedSignal(a,(0,hs.Q)()),(0,_.C)((0,_s.A)(window.tracking_data)),(async()=>{await A(Ne.goToInitialLoad()),g(!1)})()}),[]),(0,is.jsxs)("div",{className:ku.assetDetail,"data-testid":"asset-detail-container",children:[(0,is.jsx)(r.PE,{}),(0,is.jsx)(Zn,{}),(0,is.jsx)(Ss.A,{open:v,onClose:()=>S(!1),Icon:Ru,header:"were_preparing_your_cropped_image",lines:["do_not_close_browser","we_appreciate_your_patience"]}),(0,is.jsx)(Ns.A,{EditedIcon:gs.A}),(0,is.jsxs)("div",{"data-testid":"asset-detail-main",className:Ts()(ku.main,{[ku.mainImage]:a.isImage,[ku.mainFilm]:a.isFilm}),children:[O&&(p?(0,is.jsx)(ju,{}):(0,is.jsx)(Ps,{})),(0,is.jsx)(Ir,{errorType:l}),(0,is.jsx)(dr,{asset:a}),(0,is.jsxs)("div",{className:ku.assetContainer,children:[(0,is.jsxs)("section",{className:`comp ${I} ${ku.assetContainerComp}`,children:[(0,is.jsx)(Vn,{asset:a.toObject(),userDetails:b,showLoadingErrorMessage:C,handleLoadingErrorDismissal:E}),(0,is.jsx)(Kn,{descriptionContent:f,editorialImage:a.isImage&&a.isEditorialUseOnly})]}),(0,is.jsx)("section",{className:`meta ${I} ${T} ${ku.assetContainerMeta}`,children:h&&!t.isAnonymous?(0,is.jsx)(gs.A,{className:ku.loader}):(0,is.jsx)(bu,{isInPricingClarity:d,buyCardSignedInData:c,imageIsEdited:w,editsPendingForDownload:N})})]})]}),(0,is.jsx)("div",{className:ku.subFold,children:(0,is.jsxs)("div",{className:Ts()(ku.subFoldContainer,{[ku.subFoldImage]:a.isImage,[ku.subFoldFilm]:a.isFilm}),children:[(0,is.jsx)(Eo,{}),(0,is.jsx)(Fr,{}),(0,is.jsx)(Sr,{}),(0,is.jsx)(Qr,{})]})})]})};var Fu=({payload:e})=>(0,is.jsx)(os,{payload:e,children:(0,is.jsx)(ls.Kq,{children:(0,is.jsx)(cs.A,{children:(0,is.jsx)(n.Zn,{children:(0,is.jsx)(r.v0,{children:(0,is.jsx)(ds.A,{children:(0,is.jsx)(Lu,{})})})})})})})}}]);
//# sourceMappingURL=app-root-components-asset-detail-istock-index-9d9ae092dbe3ad08e5a5.js.map